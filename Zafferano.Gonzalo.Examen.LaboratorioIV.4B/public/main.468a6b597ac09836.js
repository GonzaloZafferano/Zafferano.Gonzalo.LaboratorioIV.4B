"use strict";(self.webpackChunkZafferano_Gonzalo_Examen_LaboratorioIV_4B=self.webpackChunkZafferano_Gonzalo_Examen_LaboratorioIV_4B||[]).push([[179],{2011:(Ct,Me,k)=>{k.d(Me,{Dh:()=>Ne,GT:()=>ae,cc:()=>Ee,hO:()=>$e,on:()=>H,pX:()=>de,xv:()=>Ce});var h=k(4650),U=k(9260),Z=k(1157);Ct=k.hmd(Ct);const oe=["ngOnDestroy"],de=(we,Re,Ue,ve={})=>new Proxy(we,{get:(ye,be)=>Ue.runOutsideAngular(()=>{var je;if(we[be])return!(null===(je=ve?.spy)||void 0===je)&&je.get&&ve.spy.get(be,we[be]),we[be];if(oe.indexOf(be)>-1)return()=>{};const Oe=Re.toPromise().then(re=>{const nt=re&&re[be];return"function"==typeof nt?nt.bind(re):nt&&nt.then?nt.then(Tt=>Ue.run(()=>Tt)):Ue.run(()=>nt)});return new Proxy(()=>{},{get:(re,nt)=>Oe[nt],apply:(re,nt,Tt)=>Oe.then(ot=>{var Zt;const ct=ot&&ot(...Tt);return!(null===(Zt=ve?.spy)||void 0===Zt)&&Zt.apply&&ve.spy.apply(be,Tt,ct),ct})})})}),ae=(we,Re)=>{Re.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(ve=>{Object.defineProperty(we.prototype,ve,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,ve))})})};class Le{constructor(Re){return Re}}const Ne=new h.OlP("angularfire2.app.options"),Ce=new h.OlP("angularfire2.app.name");function H(we,Re,Ue){const ye="object"==typeof Ue&&Ue||{};ye.name=ye.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const je=U.Z.apps.filter(Oe=>Oe&&Oe.name===ye.name)[0]||Re.runOutsideAngular(()=>U.Z.initializeApp(we,ye));try{JSON.stringify(we)!==JSON.stringify(je.options)&&$("error",`${je.name} Firebase App already initialized with different options${Ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Le(je)}const $=(we,...Re)=>{(0,h.X6Q)()&&typeof console<"u"&&console[we](...Re)},Y={provide:Le,useFactory:H,deps:[Ne,h.R0b,[new h.FiY,Ce]]};let $e=(()=>{class we{constructor(Ue){U.Z.registerVersion("angularfire",Z.q4.full,"core"),U.Z.registerVersion("angularfire",Z.q4.full,"app-compat"),U.Z.registerVersion("angular",h.q4F.full,Ue.toString())}static initializeApp(Ue,ve){return{ngModule:we,providers:[{provide:Ne,useValue:Ue},{provide:Ce,useValue:ve}]}}}return we.\u0275fac=function(Ue){return new(Ue||we)(h.LFG(h.Lbi))},we.\u0275mod=h.oAB({type:we}),we.\u0275inj=h.cJS({providers:[Y]}),we})();function Ee(we,Re,Ue,ve,ye){const[,be,je]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===we)||[];if(be)return function qe(we,Re){try{return we.toString()===Re.toString()}catch{return we===Re}}(ye,je)||(fe("error",`${Re} was already initialized on the ${Ue} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:ye,was:je})),be;{const Oe=ve();return globalThis.\u0275AngularfireInstanceCache.push([we,Oe,ye]),Oe}}const st=!!Ct.hot,fe=(we,...Re)=>{(0,h.X6Q)()&&typeof console<"u"&&console[we](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1157:(Ct,Me,k)=>{k.d(Me,{q4:()=>ps,iC:()=>oc,HU:()=>Rd,vb:()=>xd,JM:()=>oa,u3:()=>nu});var h=k(4650),U=k(259),Z=k(5861),oe=k(6881),de=k(2090),ae=k(4859),Le=k(1877);const Ne=(E,C)=>C.some(S=>E instanceof S);let Ce,H;const $e=new WeakMap,Ee=new WeakMap,qe=new WeakMap,st=new WeakMap,fe=new WeakMap;let Ue={get(E,C,S){if(E instanceof IDBTransaction){if("done"===C)return Ee.get(E);if("objectStoreNames"===C)return E.objectStoreNames||qe.get(E);if("store"===C)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return je(E[C])},set:(E,C,S)=>(E[C]=S,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function be(E){return"function"==typeof E?function ye(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y(){return H||(H=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(Oe(this),C),je($e.get(this))}:function(...C){return je(E.apply(Oe(this),C))}:function(C,...S){const P=E.call(Oe(this),C,...S);return qe.set(P,C.sort?C.sort():[C]),je(P)}}(E):(E instanceof IDBTransaction&&function Re(E){if(Ee.has(E))return;const C=new Promise((S,P)=>{const j=()=>{E.removeEventListener("complete",q),E.removeEventListener("error",Q),E.removeEventListener("abort",Q)},q=()=>{S(),j()},Q=()=>{P(E.error||new DOMException("AbortError","AbortError")),j()};E.addEventListener("complete",q),E.addEventListener("error",Q),E.addEventListener("abort",Q)});Ee.set(E,C)}(E),Ne(E,function $(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Ue):E)}function je(E){if(E instanceof IDBRequest)return function we(E){const C=new Promise((S,P)=>{const j=()=>{E.removeEventListener("success",q),E.removeEventListener("error",Q)},q=()=>{S(je(E.result)),j()},Q=()=>{P(E.error),j()};E.addEventListener("success",q),E.addEventListener("error",Q)});return C.then(S=>{S instanceof IDBCursor&&$e.set(S,E)}).catch(()=>{}),fe.set(C,E),C}(E);if(st.has(E))return st.get(E);const C=be(E);return C!==E&&(st.set(E,C),fe.set(C,E)),C}const Oe=E=>fe.get(E),Tt=["get","getKey","getAll","getAllKeys","count"],ot=["put","add","delete","clear"],Zt=new Map;function ct(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(Zt.get(C))return Zt.get(C);const S=C.replace(/FromIndex$/,""),P=C!==S,j=ot.includes(S);if(!(S in(P?IDBIndex:IDBObjectStore).prototype)||!j&&!Tt.includes(S))return;const q=function(){var Q=(0,Z.Z)(function*(ze,...Ge){const rt=this.transaction(ze,j?"readwrite":"readonly");let xt=rt.store;return P&&(xt=xt.index(Ge.shift())),(yield Promise.all([xt[S](...Ge),j&&rt.done]))[0]});return function(Ge){return Q.apply(this,arguments)}}();return Zt.set(C,q),q}!function ve(E){Ue=E(Ue)}(E=>({...E,get:(C,S,P)=>ct(C,S)||E.get(C,S,P),has:(C,S)=>!!ct(C,S)||E.has(C,S)}));const Bo="@firebase/installations",ue="0.6.4",pe=1e4,_e=`w:${ue}`,Ie="FIS_v2",We="https://firebaseinstallations.googleapis.com/v1",ke=36e5,mt=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _t(E){return E instanceof de.ZR&&E.code.includes("request-failed")}function en({projectId:E}){return`${We}/projects/${E}/installations`}function un(E){return{token:E.token,requestStatus:2,expiresIn:Cs(E.expiresIn),creationTime:Date.now()}}function wn(E,C){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,Z.Z)(function*(E,C){const P=(yield C.json()).error;return mt.create("request-failed",{requestName:E,serverCode:P.code,serverMessage:P.message,serverStatus:P.status})})).apply(this,arguments)}function Kn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Tr(E){return qi.apply(this,arguments)}function qi(){return(qi=(0,Z.Z)(function*(E){const C=yield E();return C.status>=500&&C.status<600?E():C})).apply(this,arguments)}function Cs(E){return Number(E.replace("s","000"))}function ht(){return(ht=(0,Z.Z)(function*({appConfig:E,heartbeatServiceProvider:C},{fid:S}){const P=en(E),j=Kn(E),q=C.getImmediate({optional:!0});if(q){const rt=yield q.getHeartbeatsHeader();rt&&j.append("x-firebase-client",rt)}const ze={method:"POST",headers:j,body:JSON.stringify({fid:S,authVersion:Ie,appId:E.appId,sdkVersion:_e})},Ge=yield Tr(()=>fetch(P,ze));if(Ge.ok){const rt=yield Ge.json();return{fid:rt.fid||S,registrationStatus:2,refreshToken:rt.refreshToken,authToken:un(rt.authToken)}}throw yield wn("Create Installation",Ge)})).apply(this,arguments)}function bs(E){return new Promise(C=>{setTimeout(C,E)})}const ir=/^[cdef][\w-]{21}$/,Wr="";function Pi(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const S=function ln(E){return function Du(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return ir.test(S)?S:Wr}catch{return Wr}}function Wt(E){return`${E.appName}!${E.appId}`}const ft=new Map;function Ft(E,C){const S=Wt(E);Vn(S,C),function yi(E,C){const S=function Rr(){return!Un&&"BroadcastChannel"in self&&(Un=new BroadcastChannel("[Firebase] FID Change"),Un.onmessage=E=>{Vn(E.data.key,E.data.fid)}),Un}();S&&S.postMessage({key:E,fid:C}),function yn(){0===ft.size&&Un&&(Un.close(),Un=null)}()}(S,C)}function Vn(E,C){const S=ft.get(E);if(S)for(const P of S)P(C)}let Un=null;const Ts="firebase-installations-database",Jt=1,vi="firebase-installations-store";let tn=null;function Pr(){return tn||(tn=function re(E,C,{blocked:S,upgrade:P,blocking:j,terminated:q}={}){const Q=indexedDB.open(E,C),ze=je(Q);return P&&Q.addEventListener("upgradeneeded",Ge=>{P(je(Q.result),Ge.oldVersion,Ge.newVersion,je(Q.transaction))}),S&&Q.addEventListener("blocked",()=>S()),ze.then(Ge=>{q&&Ge.addEventListener("close",()=>q()),j&&Ge.addEventListener("versionchange",()=>j())}).catch(()=>{}),ze}(Ts,Jt,{upgrade:(E,C)=>{0===C&&E.createObjectStore(vi)}})),tn}function Bn(E,C){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,Z.Z)(function*(E,C){const S=Wt(E),j=(yield Pr()).transaction(vi,"readwrite"),q=j.objectStore(vi),Q=yield q.get(S);return yield q.put(C,S),yield j.done,(!Q||Q.fid!==C.fid)&&Ft(E,C.fid),C})).apply(this,arguments)}function Zn(E){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,Z.Z)(function*(E){const C=Wt(E),P=(yield Pr()).transaction(vi,"readwrite");yield P.objectStore(vi).delete(C),yield P.done})).apply(this,arguments)}function Zr(E,C){return li.apply(this,arguments)}function li(){return(li=(0,Z.Z)(function*(E,C){const S=Wt(E),j=(yield Pr()).transaction(vi,"readwrite"),q=j.objectStore(vi),Q=yield q.get(S),ze=C(Q);return void 0===ze?yield q.delete(S):yield q.put(ze,S),yield j.done,ze&&(!Q||Q.fid!==ze.fid)&&Ft(E,ze.fid),ze})).apply(this,arguments)}function B(E){return L.apply(this,arguments)}function L(){return L=(0,Z.Z)(function*(E){let C;const S=yield Zr(E.appConfig,P=>{const j=function G(E){return mn(E||{fid:Pi(),registrationStatus:0})}(P),q=function ge(E,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(mt.create("app-offline"))};const S={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},P=function X(E,C){return Pe.apply(this,arguments)}(E,S);return{installationEntry:S,registrationPromise:P}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:St(E)}:{installationEntry:C}}(E,j);return C=q.registrationPromise,q.installationEntry});return S.fid===Wr?{installationEntry:yield C}:{installationEntry:S,registrationPromise:C}}),L.apply(this,arguments)}function Pe(){return Pe=(0,Z.Z)(function*(E,C){try{const S=yield function yr(E,C){return ht.apply(this,arguments)}(E,C);return Bn(E.appConfig,S)}catch(S){throw _t(S)&&409===S.customData.serverCode?yield Zn(E.appConfig):yield Bn(E.appConfig,{fid:C.fid,registrationStatus:0}),S}}),Pe.apply(this,arguments)}function St(E){return rn.apply(this,arguments)}function rn(){return(rn=(0,Z.Z)(function*(E){let C=yield jn(E.appConfig);for(;1===C.registrationStatus;)yield bs(100),C=yield jn(E.appConfig);if(0===C.registrationStatus){const{installationEntry:S,registrationPromise:P}=yield B(E);return P||S}return C})).apply(this,arguments)}function jn(E){return Zr(E,C=>{if(!C)throw mt.create("installation-not-found");return mn(C)})}function mn(E){return function In(E){return 1===E.registrationStatus&&E.registrationTime+pe<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Or(){return(Or=(0,Z.Z)(function*({appConfig:E,heartbeatServiceProvider:C},S){const P=function _i(E,{fid:C}){return`${en(E)}/${C}/authTokens:generate`}(E,S),j=function ui(E,{refreshToken:C}){const S=Kn(E);return S.append("Authorization",function Da(E){return`${Ie} ${E}`}(C)),S}(E,S),q=C.getImmediate({optional:!0});if(q){const rt=yield q.getHeartbeatsHeader();rt&&j.append("x-firebase-client",rt)}const ze={method:"POST",headers:j,body:JSON.stringify({installation:{sdkVersion:_e,appId:E.appId}})},Ge=yield Tr(()=>fetch(P,ze));if(Ge.ok)return un(yield Ge.json());throw yield wn("Generate Auth Token",Ge)})).apply(this,arguments)}function as(E){return jo.apply(this,arguments)}function jo(){return jo=(0,Z.Z)(function*(E,C=!1){let S;const P=yield Zr(E.appConfig,q=>{if(!Gt(q))throw mt.create("not-registered");const Q=q.authToken;if(!C&&function yt(E){return 2===E.requestStatus&&!function sn(E){const C=Date.now();return C<E.creationTime||E.creationTime+E.expiresIn<C+ke}(E)}(Q))return q;if(1===Q.requestStatus)return S=function le(E,C){return ee.apply(this,arguments)}(E,C),q;{if(!navigator.onLine)throw mt.create("app-offline");const ze=function Qt(E){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:C})}(q);return S=function pt(E,C){return At.apply(this,arguments)}(E,ze),ze}});return S?yield S:P.authToken}),jo.apply(this,arguments)}function ee(){return(ee=(0,Z.Z)(function*(E,C){let S=yield xe(E.appConfig);for(;1===S.authToken.requestStatus;)yield bs(100),S=yield xe(E.appConfig);const P=S.authToken;return 0===P.requestStatus?as(E,C):P})).apply(this,arguments)}function xe(E){return Zr(E,C=>{if(!Gt(C))throw mt.create("not-registered");return function Sr(E){return 1===E.requestStatus&&E.requestTime+pe<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function At(){return At=(0,Z.Z)(function*(E,C){try{const S=yield function Yt(E,C){return Or.apply(this,arguments)}(E,C),P=Object.assign(Object.assign({},C),{authToken:S});return yield Bn(E.appConfig,P),S}catch(S){if(!_t(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const P=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Bn(E.appConfig,P)}else yield Zn(E.appConfig);throw S}}),At.apply(this,arguments)}function Gt(E){return void 0!==E&&2===E.registrationStatus}function Cu(){return(Cu=(0,Z.Z)(function*(E){const C=E,{installationEntry:S,registrationPromise:P}=yield B(C);return P?P.catch(console.error):as(C).catch(console.error),S.fid})).apply(this,arguments)}function Ss(){return Ss=(0,Z.Z)(function*(E,C=!1){const S=E;return yield function or(E){return Qe.apply(this,arguments)}(S),(yield as(S,C)).token}),Ss.apply(this,arguments)}function Qe(){return(Qe=(0,Z.Z)(function*(E){const{registrationPromise:C}=yield B(E);C&&(yield C)})).apply(this,arguments)}function Ms(E){return mt.create("missing-app-config-values",{valueName:E})}const Ut="installations",Ei=E=>{const C=E.getProvider("app").getImmediate(),S=function ba(E){if(!E||!E.options)throw Ms("App Configuration");if(!E.name)throw Ms("App Name");const C=["projectId","apiKey","appId"];for(const S of C)if(!E.options[S])throw Ms(S);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(C);return{app:C,appConfig:S,heartbeatServiceProvider:(0,oe._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Ta=E=>{const C=E.getProvider("app").getImmediate(),S=(0,oe._getProvider)(C,Ut).getImmediate();return{getId:()=>function sr(E){return Cu.apply(this,arguments)}(S),getToken:j=>function Kh(E){return Ss.apply(this,arguments)}(S,j)}};(function xs(){(0,oe._registerComponent)(new ae.wA(Ut,Ei,"PUBLIC")),(0,oe._registerComponent)(new ae.wA("installations-internal",Ta,"PRIVATE"))})(),(0,oe.registerVersion)(Bo,ue),(0,oe.registerVersion)(Bo,ue,"esm2017");const Yn="@firebase/remote-config",Ar=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jp{constructor(C,S,P,j){this.client=C,this.storage=S,this.storageCache=P,this.logger=j}isCachedDataFresh(C,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const P=Date.now()-S,j=P<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${P}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${j}.`),j}fetch(C){var S=this;return(0,Z.Z)(function*(){const[P,j]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(j&&S.isCachedDataFresh(C.cacheMaxAgeMillis,P))return j;C.eTag=j&&j.eTag;const q=yield S.client.fetch(C),Q=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===q.status&&Q.push(S.storage.setLastSuccessfulFetchResponse(q)),yield Promise.all(Q),q})()}}function zc(E=navigator){return E.languages&&E.languages[0]||E.language}class Zh{constructor(C,S,P,j,q,Q){this.firebaseInstallations=C,this.sdkVersion=S,this.namespace=P,this.projectId=j,this.apiKey=q,this.appId=Q}fetch(C){var S=this;return(0,Z.Z)(function*(){const[P,j]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),Q=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Ge={sdk_version:S.sdkVersion,app_instance_id:P,app_instance_id_token:j,app_id:S.appId,language_code:zc()},rt={method:"POST",headers:ze,body:JSON.stringify(Ge)},xt=fetch(Q,rt),Dt=new Promise((Ir,Ji)=>{C.signal.addEventListener(()=>{const ys=new Error("The operation was aborted.");ys.name="AbortError",Ji(ys)})});let ei;try{yield Promise.race([xt,Dt]),ei=yield xt}catch(Ir){let Ji="fetch-client-network";throw"AbortError"===Ir?.name&&(Ji="fetch-timeout"),Ar.create(Ji,{originalErrorMessage:Ir?.message})}let zn=ei.status;const ms=ei.headers.get("ETag")||void 0;let Ks,Ui;if(200===ei.status){let Ir;try{Ir=yield ei.json()}catch(Ji){throw Ar.create("fetch-client-parse",{originalErrorMessage:Ji?.message})}Ks=Ir.entries,Ui=Ir.state}if("INSTANCE_STATE_UNSPECIFIED"===Ui?zn=500:"NO_CHANGE"===Ui?zn=304:("NO_TEMPLATE"===Ui||"EMPTY_CONFIG"===Ui)&&(Ks={}),304!==zn&&200!==zn)throw Ar.create("fetch-status",{httpStatus:zn});return{status:zn,eTag:ms,config:Ks}})()}}class Wc{constructor(C,S){this.client=C,this.storage=S}fetch(C){var S=this;return(0,Z.Z)(function*(){const P=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(C,P)})()}attemptFetch(C,{throttleEndTimeMillis:S,backoffCount:P}){var j=this;return(0,Z.Z)(function*(){yield function Gc(E,C){return new Promise((S,P)=>{const j=Math.max(C-Date.now(),0),q=setTimeout(S,j);E.addEventListener(()=>{clearTimeout(q),P(Ar.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,S);try{const q=yield j.client.fetch(C);return yield j.storage.deleteThrottleMetadata(),q}catch(q){if(!function Xp(E){if(!(E instanceof de.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(q))throw q;const Q={throttleEndTimeMillis:Date.now()+(0,de.$s)(P),backoffCount:P+1};return yield j.storage.setThrottleMetadata(Q),j.attemptFetch(C,Q)}})()}}class Yh{constructor(C,S,P,j,q){this.app=C,this._client=S,this._storageCache=P,this._storage=j,this._logger=q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ps(E,C){const S=E.target.error||void 0;return Ar.create(C,{originalErrorMessage:S&&S?.message})}const oo="app_namespace_store";class Zc{constructor(C,S,P,j=function Jh(){return new Promise((E,C)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=P=>{C(Ps(P,"storage-open"))},S.onsuccess=P=>{E(P.target.result)},S.onupgradeneeded=P=>{0===P.oldVersion&&P.target.result.createObjectStore(oo,{keyPath:"compositeKey"})}}catch(S){C(Ar.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=C,this.appName=S,this.namespace=P,this.openDbPromise=j}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var S=this;return(0,Z.Z)(function*(){const P=yield S.openDbPromise;return new Promise((j,q)=>{const ze=P.transaction([oo],"readonly").objectStore(oo),Ge=S.createCompositeKey(C);try{const rt=ze.get(Ge);rt.onerror=xt=>{q(Ps(xt,"storage-get"))},rt.onsuccess=xt=>{const Dt=xt.target.result;j(Dt?Dt.value:void 0)}}catch(rt){q(Ar.create("storage-get",{originalErrorMessage:rt?.message}))}})})()}set(C,S){var P=this;return(0,Z.Z)(function*(){const j=yield P.openDbPromise;return new Promise((q,Q)=>{const Ge=j.transaction([oo],"readwrite").objectStore(oo),rt=P.createCompositeKey(C);try{const xt=Ge.put({compositeKey:rt,value:S});xt.onerror=Dt=>{Q(Ps(Dt,"storage-set"))},xt.onsuccess=()=>{q()}}catch(xt){Q(Ar.create("storage-set",{originalErrorMessage:xt?.message}))}})})()}delete(C){var S=this;return(0,Z.Z)(function*(){const P=yield S.openDbPromise;return new Promise((j,q)=>{const ze=P.transaction([oo],"readwrite").objectStore(oo),Ge=S.createCompositeKey(C);try{const rt=ze.delete(Ge);rt.onerror=xt=>{q(Ps(xt,"storage-delete"))},rt.onsuccess=()=>{j()}}catch(rt){q(Ar.create("storage-delete",{originalErrorMessage:rt?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class ao{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,Z.Z)(function*(){const S=C.storage.getLastFetchStatus(),P=C.storage.getLastSuccessfulFetchTimestampMillis(),j=C.storage.getActiveConfig(),q=yield S;q&&(C.lastFetchStatus=q);const Q=yield P;Q&&(C.lastSuccessfulFetchTimestampMillis=Q);const ze=yield j;ze&&(C.activeConfig=ze)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Qc(){return Su.apply(this,arguments)}function Su(){return(Su=(0,Z.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function xa(){(0,oe._registerComponent)(new ae.wA("remote-config",function E(C,{instanceIdentifier:S}){const P=C.getProvider("app").getImmediate(),j=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ar.create("registration-window");if(!(0,de.hl)())throw Ar.create("indexed-db-unavailable");const{projectId:q,apiKey:Q,appId:ze}=P.options;if(!q)throw Ar.create("registration-project-id");if(!Q)throw Ar.create("registration-api-key");if(!ze)throw Ar.create("registration-app-id");const Ge=new Zc(ze,P.name,S=S||"firebase"),rt=new ao(Ge),xt=new Le.Yd(Yn);xt.logLevel=Le.in.ERROR;const Dt=new Zh(j,oe.SDK_VERSION,S,q,Q,ze),ei=new Wc(Dt,Ge),zn=new Jp(ei,Ge,rt,xt),ms=new Yh(P,zn,rt,Ge,xt);return function kr(E){const C=(0,de.m9)(E);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(ms),ms},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Yn,"0.4.4"),(0,oe.registerVersion)(Yn,"0.4.4","esm2017")}();const Xh=(E,C)=>C.some(S=>E instanceof S);let Os,Al;const Go=new WeakMap,uo=new WeakMap,Sn=new WeakMap,Na=new WeakMap,Mu=new WeakMap;let co={get(E,C,S){if(E instanceof IDBTransaction){if("done"===C)return uo.get(E);if("objectStoreNames"===C)return E.objectStoreNames||Sn.get(E);if("store"===C)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return Fr(E[C])},set:(E,C,S)=>(E[C]=S,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function xu(E){return"function"==typeof E?function ef(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Jc(){return Al||(Al=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(ur(this),C),Fr(Go.get(this))}:function(...C){return Fr(E.apply(ur(this),C))}:function(C,...S){const P=E.call(ur(this),C,...S);return Sn.set(P,C.sort?C.sort():[C]),Fr(P)}}(E):(E instanceof IDBTransaction&&function lo(E){if(uo.has(E))return;const C=new Promise((S,P)=>{const j=()=>{E.removeEventListener("complete",q),E.removeEventListener("error",Q),E.removeEventListener("abort",Q)},q=()=>{S(),j()},Q=()=>{P(E.error||new DOMException("AbortError","AbortError")),j()};E.addEventListener("complete",q),E.addEventListener("error",Q),E.addEventListener("abort",Q)});uo.set(E,C)}(E),Xh(E,function Au(){return Os||(Os=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,co):E)}function Fr(E){if(E instanceof IDBRequest)return function Qn(E){const C=new Promise((S,P)=>{const j=()=>{E.removeEventListener("success",q),E.removeEventListener("error",Q)},q=()=>{S(Fr(E.result)),j()},Q=()=>{P(E.error),j()};E.addEventListener("success",q),E.addEventListener("error",Q)});return C.then(S=>{S instanceof IDBCursor&&Go.set(S,E)}).catch(()=>{}),Mu.set(C,E),C}(E);if(Na.has(E))return Na.get(E);const C=xu(E);return C!==E&&(Na.set(E,C),Mu.set(C,E)),C}const ur=E=>Mu.get(E);function Ra(E,C,{blocked:S,upgrade:P,blocking:j,terminated:q}={}){const Q=indexedDB.open(E,C),ze=Fr(Q);return P&&Q.addEventListener("upgradeneeded",Ge=>{P(Fr(Q.result),Ge.oldVersion,Ge.newVersion,Fr(Q.transaction))}),S&&Q.addEventListener("blocked",()=>S()),ze.then(Ge=>{q&&Ge.addEventListener("close",()=>q()),j&&Ge.addEventListener("versionchange",()=>j())}).catch(()=>{}),ze}function ks(E,{blocked:C}={}){const S=indexedDB.deleteDatabase(E);return C&&S.addEventListener("blocked",()=>C()),Fr(S).then(()=>{})}const Xc=["get","getKey","getAll","getAllKeys","count"],ls=["put","add","delete","clear"],Pa=new Map;function Wo(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(Pa.get(C))return Pa.get(C);const S=C.replace(/FromIndex$/,""),P=C!==S,j=ls.includes(S);if(!(S in(P?IDBIndex:IDBObjectStore).prototype)||!j&&!Xc.includes(S))return;const q=function(){var Q=(0,Z.Z)(function*(ze,...Ge){const rt=this.transaction(ze,j?"readwrite":"readonly");let xt=rt.store;return P&&(xt=xt.index(Ge.shift())),(yield Promise.all([xt[S](...Ge),j&&rt.done]))[0]});return function(Ge){return Q.apply(this,arguments)}}();return Pa.set(C,q),q}!function _r(E){co=E(co)}(E=>({...E,get:(C,S,P)=>Wo(C,S)||E.get(C,S,P),has:(C,S)=>!!Wo(C,S)||E.has(C,S)}));const Rt="/firebase-messaging-sw.js",Nu="/firebase-cloud-messaging-push-scope",tf="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ml="https://fcmregistrations.googleapis.com/v1",xl="google.c.a.c_id",Nl="google.c.a.c_l",ed="google.c.a.ts",td="google.c.a.e";var ce=(()=>{return(E=ce||(ce={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",ce;var E})();function kt(E){const C=new Uint8Array(E);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Rl(E){const S=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),P=atob(S),j=new Uint8Array(P.length);for(let q=0;q<P.length;++q)j[q]=P.charCodeAt(q);return j}const Oa="fcm_token_details_db",kn=5,nd="fcm_token_object_Store";function Di(){return Di=(0,Z.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(q=>q.name).includes(Oa))return null;let C=null;return(yield Ra(Oa,kn,{upgrade:(P=(0,Z.Z)(function*(j,q,Q,ze){var Ge;if(q<2||!j.objectStoreNames.contains(nd))return;const rt=ze.objectStore(nd),xt=yield rt.index("fcmSenderId").get(E);if(yield rt.clear(),xt)if(2===q){const Dt=xt;if(!Dt.auth||!Dt.p256dh||!Dt.endpoint)return;C={token:Dt.fcmToken,createTime:null!==(Ge=Dt.createTime)&&void 0!==Ge?Ge:Date.now(),subscriptionOptions:{auth:Dt.auth,p256dh:Dt.p256dh,endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:"string"==typeof Dt.vapidKey?Dt.vapidKey:kt(Dt.vapidKey)}}}else if(3===q){const Dt=xt;C={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:kt(Dt.auth),p256dh:kt(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:kt(Dt.vapidKey)}}}else if(4===q){const Dt=xt;C={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:kt(Dt.auth),p256dh:kt(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:kt(Dt.vapidKey)}}}}),function(q,Q,ze,Ge){return P.apply(this,arguments)})})).close(),yield ks(Oa),yield ks("fcm_vapid_details_db"),yield ks("undefined"),function Ru(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:C}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var P}),Di.apply(this,arguments)}const rd="firebase-messaging-database",id=1,Fs="firebase-messaging-store";let Ko=null;function Er(){return Ko||(Ko=Ra(rd,id,{upgrade:(E,C)=>{0===C&&E.createObjectStore(Fs)}})),Ko}function Qr(E){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,Z.Z)(function*(E){const C=od(E),P=yield(yield Er()).transaction(Fs).objectStore(Fs).get(C);if(P)return P;{const j=yield function qo(E){return Di.apply(this,arguments)}(E.appConfig.senderId);if(j)return yield cs(E,j),j}}),Ls.apply(this,arguments)}function cs(E,C){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,Z.Z)(function*(E,C){const S=od(E),j=(yield Er()).transaction(Fs,"readwrite");return yield j.objectStore(Fs).put(C,S),yield j.done,C})).apply(this,arguments)}function ho(){return(ho=(0,Z.Z)(function*(E){const C=od(E),P=(yield Er()).transaction(Fs,"readwrite");yield P.objectStore(Fs).delete(C),yield P.done})).apply(this,arguments)}function od({appConfig:E}){return E.appId}const Fn=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pu(E,C){return ka.apply(this,arguments)}function ka(){return(ka=(0,Z.Z)(function*(E,C){const S=yield Fa(E),P=ku(C),j={method:"POST",headers:S,body:JSON.stringify(P)};let q;try{q=yield(yield fetch(Pl(E.appConfig),j)).json()}catch(Q){throw Fn.create("token-subscribe-failed",{errorInfo:Q?.toString()})}if(q.error)throw Fn.create("token-subscribe-failed",{errorInfo:q.error.message});if(!q.token)throw Fn.create("token-subscribe-no-token");return q.token})).apply(this,arguments)}function Ou(){return(Ou=(0,Z.Z)(function*(E,C){const S=yield Fa(E),P=ku(C.subscriptionOptions),j={method:"PATCH",headers:S,body:JSON.stringify(P)};let q;try{q=yield(yield fetch(`${Pl(E.appConfig)}/${C.token}`,j)).json()}catch(Q){throw Fn.create("token-update-failed",{errorInfo:Q?.toString()})}if(q.error)throw Fn.create("token-update-failed",{errorInfo:q.error.message});if(!q.token)throw Fn.create("token-update-no-token");return q.token})).apply(this,arguments)}function ud(E,C){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,Z.Z)(function*(E,C){const P={method:"DELETE",headers:yield Fa(E)};try{const q=yield(yield fetch(`${Pl(E.appConfig)}/${C}`,P)).json();if(q.error)throw Fn.create("token-unsubscribe-failed",{errorInfo:q.error.message})}catch(j){throw Fn.create("token-unsubscribe-failed",{errorInfo:j?.toString()})}})).apply(this,arguments)}function Pl({projectId:E}){return`${Ml}/projects/${E}/registrations`}function Fa(E){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,Z.Z)(function*({appConfig:E,installations:C}){const S=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function ku({p256dh:E,auth:C,endpoint:S,vapidKey:P}){const j={web:{endpoint:S,auth:C,p256dh:E}};return P!==tf&&(j.web.applicationPubKey=P),j}const ld=6048e5;function cd(){return cd=(0,Z.Z)(function*(E){const C=yield function ng(E,C){return hd.apply(this,arguments)}(E.swRegistration,E.vapidKey),S={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:C.endpoint,auth:kt(C.getKey("auth")),p256dh:kt(C.getKey("p256dh"))},P=yield Qr(E.firebaseDependencies);if(P){if(function rg(E,C){return C.vapidKey===E.vapidKey&&C.endpoint===E.endpoint&&C.auth===E.auth&&C.p256dh===E.p256dh}(P.subscriptionOptions,S))return Date.now()>=P.createTime+ld?function Cn(E,C){return dd.apply(this,arguments)}(E,{token:P.token,createTime:Date.now(),subscriptionOptions:S}):P.token;try{yield ud(E.firebaseDependencies,P.token)}catch(j){console.warn(j)}return Yo(E.firebaseDependencies,S)}return Yo(E.firebaseDependencies,S)}),cd.apply(this,arguments)}function Yi(){return Yi=(0,Z.Z)(function*(E){const C=yield Qr(E.firebaseDependencies);C&&(yield ud(E.firebaseDependencies,C.token),yield function sd(E){return ho.apply(this,arguments)}(E.firebaseDependencies));const S=yield E.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),Yi.apply(this,arguments)}function dd(){return dd=(0,Z.Z)(function*(E,C){try{const S=yield function ad(E,C){return Ou.apply(this,arguments)}(E.firebaseDependencies,C),P=Object.assign(Object.assign({},C),{token:S,createTime:Date.now()});return yield cs(E.firebaseDependencies,P),S}catch(S){throw yield function Mr(E){return Yi.apply(this,arguments)}(E),S}}),dd.apply(this,arguments)}function Yo(E,C){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,Z.Z)(function*(E,C){const P={token:yield Pu(E,C),createTime:Date.now(),subscriptionOptions:C};return yield cs(E,P),P.token})).apply(this,arguments)}function hd(){return(hd=(0,Z.Z)(function*(E,C){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Rl(C)})})).apply(this,arguments)}function Fu(E){const C={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Ll(E,C){if(!C.notification)return;E.notification={};const S=C.notification.title;S&&(E.notification.title=S);const P=C.notification.body;P&&(E.notification.body=P);const j=C.notification.image;j&&(E.notification.image=j);const q=C.notification.icon;q&&(E.notification.icon=q)}(C,E),function fd(E,C){C.data&&(E.data=C.data)}(C,E),function pd(E,C){var S,P,j,q,Q;if(!(C.fcmOptions||null!==(S=C.notification)&&void 0!==S&&S.click_action))return;E.fcmOptions={};const ze=null!==(j=null===(P=C.fcmOptions)||void 0===P?void 0:P.link)&&void 0!==j?j:null===(q=C.notification)||void 0===q?void 0:q.click_action;ze&&(E.fcmOptions.link=ze);const Ge=null===(Q=C.fcmOptions)||void 0===Q?void 0:Q.analytics_label;Ge&&(E.fcmOptions.analyticsLabel=Ge)}(C,E),C}function Qo(E,C){const S=[];for(let P=0;P<E.length;P++)S.push(E.charAt(P)),P<C.length&&S.push(C.charAt(P));return S.join("")}function ds(E){return Fn.create("missing-app-config-values",{valueName:E})}Qo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ig{constructor(C,S,P){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const j=function La(E){if(!E||!E.options)throw ds("App Configuration Object");if(!E.name)throw ds("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:S}=E;for(const P of C)if(!S[P])throw ds(P);return{appName:E.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:j,installations:S,analyticsProvider:P}}_delete(){return Promise.resolve()}}function nf(E){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,Z.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Rt,{scope:Nu}),E.swRegistration.update().catch(()=>{})}catch(C){throw Fn.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function hs(){return(hs=(0,Z.Z)(function*(E,C){if(!C&&!E.swRegistration&&(yield nf(E)),C||!E.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Fn.create("invalid-sw-registration");E.swRegistration=C}})).apply(this,arguments)}function Va(){return(Va=(0,Z.Z)(function*(E,C){C?E.vapidKey=C:E.vapidKey||(E.vapidKey=tf)})).apply(this,arguments)}function Jo(){return Jo=(0,Z.Z)(function*(E,C){if(!navigator)throw Fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Fn.create("permission-blocked");return yield function Vl(E,C){return Va.apply(this,arguments)}(E,C?.vapidKey),yield function gd(E,C){return hs.apply(this,arguments)}(E,C?.serviceWorkerRegistration),function kl(E){return cd.apply(this,arguments)}(E)}),Jo.apply(this,arguments)}function Vs(){return(Vs=(0,Z.Z)(function*(E,C,S){const P=function fo(E){switch(E){case ce.NOTIFICATION_CLICKED:return"notification_open";case ce.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(P,{message_id:S[xl],message_name:S[Nl],message_time:S[ed],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function po(){return po=(0,Z.Z)(function*(E,C){const S=C.data;if(!S.isFirebaseMessaging)return;E.onMessageHandler&&S.messageType===ce.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Fu(S)):E.onMessageHandler.next(Fu(S)));const P=S.data;(function Lu(E){return"object"==typeof E&&!!E&&xl in E})(P)&&"1"===P[td]&&(yield function md(E,C,S){return Vs.apply(this,arguments)}(E,S.messageType,P))}),po.apply(this,arguments)}const ea="@firebase/messaging",Ba=E=>{const C=new ig(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function Xo(E,C){return po.apply(this,arguments)}(C,S)),C},Ul=E=>{const C=E.getProvider("messaging").getImmediate();return{getToken:P=>function Uu(E,C){return Jo.apply(this,arguments)}(C,P)}};function rf(){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,Z.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ja(){(0,oe._registerComponent)(new ae.wA("messaging",Ba,"PUBLIC")),(0,oe._registerComponent)(new ae.wA("messaging-internal",Ul,"PRIVATE")),(0,oe.registerVersion)(ea,"0.12.4"),(0,oe.registerVersion)(ea,"0.12.4","esm2017")}();const Us="analytics",ju="firebase_id",_d="origin",$a=6e4,Ed="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$u="https://www.googletagmanager.com/gtag/js",Jn=new Le.Yd("@firebase/analytics"),An=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function sf(E){if(!E.startsWith($u)){const C=An.create("invalid-gtag-resource",{gtagURL:E});return Jn.warn(C.message),""}return E}function Bs(E){return Promise.all(E.map(C=>C.catch(S=>S)))}function js(){return(js=(0,Z.Z)(function*(E,C,S,P,j,q){const Q=P[j];try{if(Q)yield C[Q];else{const Ge=(yield Bs(S)).find(rt=>rt.measurementId===j);Ge&&(yield C[Ge.appId])}}catch(ze){Jn.error(ze)}E("config",j,q)})).apply(this,arguments)}function go(){return(go=(0,Z.Z)(function*(E,C,S,P,j){try{let q=[];if(j&&j.send_to){let Q=j.send_to;Array.isArray(Q)||(Q=[Q]);const ze=yield Bs(S);for(const Ge of Q){const rt=ze.find(Dt=>Dt.measurementId===Ge),xt=rt&&C[rt.appId];if(!xt){q=[];break}q.push(xt)}}0===q.length&&(q=Object.values(C)),yield Promise.all(q),E("event",P,j||{})}catch(q){Jn.error(q)}})).apply(this,arguments)}const zu=30,vo=new class wd{constructor(C={},S=1e3){this.throttleMetadata=C,this.intervalMillis=S}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,S){this.throttleMetadata[C]=S}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function uf(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Xt(){return(Xt=(0,Z.Z)(function*(E){var C;const{appId:S,apiKey:P}=E,j={method:"GET",headers:uf(P)},q=Ed.replace("{app-id}",S),Q=yield fetch(q,j);if(200!==Q.status&&304!==Q.status){let ze="";try{const Ge=yield Q.json();null!==(C=Ge.error)&&void 0!==C&&C.message&&(ze=Ge.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:Q.status,responseMessage:ze})}return Q.json()})).apply(this,arguments)}function Dd(){return(Dd=(0,Z.Z)(function*(E,C=vo,S){const{appId:P,apiKey:j,measurementId:q}=E.options;if(!P)throw An.create("no-app-id");if(!j){if(q)return{measurementId:q,appId:P};throw An.create("no-api-key")}const Q=C.getThrottleMetadata(P)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new ay;return setTimeout((0,Z.Z)(function*(){ze.abort()}),void 0!==S?S:$a),ql({appId:P,apiKey:j,measurementId:q},Q,ze,C)})).apply(this,arguments)}function ql(E,C,S){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,Z.Z)(function*(E,{throttleEndTimeMillis:C,backoffCount:S},P,j=vo){var q;const{appId:Q,measurementId:ze}=E;try{yield function lf(E,C){return new Promise((S,P)=>{const j=Math.max(C-Date.now(),0),q=setTimeout(S,j);E.addEventListener(()=>{clearTimeout(q),P(An.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(P,C)}catch(Ge){if(ze)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${Ge?.message}]`),{appId:Q,measurementId:ze};throw Ge}try{const Ge=yield function Id(E){return Xt.apply(this,arguments)}(E);return j.deleteThrottleMetadata(Q),Ge}catch(Ge){const rt=Ge;if(!function oy(E){if(!(E instanceof de.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(rt)){if(j.deleteThrottleMetadata(Q),ze)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${rt?.message}]`),{appId:Q,measurementId:ze};throw Ge}const xt=503===Number(null===(q=rt?.customData)||void 0===q?void 0:q.httpStatus)?(0,de.$s)(S,j.intervalMillis,zu):(0,de.$s)(S,j.intervalMillis),Dt={throttleEndTimeMillis:Date.now()+xt,backoffCount:S+1};return j.setThrottleMetadata(Q,Dt),Jn.debug(`Calling attemptFetch again in ${xt} millis`),ql(E,Dt,P,j)}}),Kl.apply(this,arguments)}class ay{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let _o,Ga;function cf(){return(cf=(0,Z.Z)(function*(E,C,S,P,j){if(j&&j.global)E("event",S,P);else{const q=yield C;E("event",S,Object.assign(Object.assign({},P),{send_to:q}))}})).apply(this,arguments)}function fn(){return(fn=(0,Z.Z)(function*(){if(!(0,de.hl)())return Jn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(E){return Jn.warn(An.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function lt(){return lt=(0,Z.Z)(function*(E,C,S,P,j,q,Q){var ze;const Ge=function Wl(E){return Dd.apply(this,arguments)}(E);Ge.then(zn=>{S[zn.measurementId]=zn.appId,E.options.measurementId&&zn.measurementId!==E.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zn=>Jn.error(zn)),C.push(Ge);const rt=function Ci(){return fn.apply(this,arguments)}().then(zn=>{if(zn)return P.getId()}),[xt,Dt]=yield Promise.all([Ge,rt]);(function yo(E){const C=window.document.getElementsByTagName("script");for(const S of Object.values(C))if(S.src&&S.src.includes($u)&&S.src.includes(E))return S;return null})(q)||function na(E,C){const S=function Hu(E,C){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(E,C)),S}("firebase-js-sdk-policy",{createScriptURL:sf}),P=document.createElement("script"),j=`${$u}?l=${E}&id=${C}`;P.src=S?S?.createScriptURL(j):j,P.async=!0,document.head.appendChild(P)}(q,xt.measurementId),Ga&&(j("consent","default",Ga),function Wa(E){Ga=E}(void 0)),j("js",new Date);const ei=null!==(ze=Q?.config)&&void 0!==ze?ze:{};return ei[_d]="firebase",ei.update=!0,null!=Dt&&(ei[ju]=Dt),j("config",xt.measurementId,ei),_o&&(j("set",_o),function qu(E){_o=E}(void 0)),xt.measurementId}),lt.apply(this,arguments)}class lr{constructor(C){this.app=C}_delete(){return delete $n[this.app.options.appId],Promise.resolve()}}let $n={},bd=[];const qa={};let Td,bi,Vr="dataLayer",Ql="gtag",Hs=!1;function Ka(E,C,S){!function Eo(){const E=[];if((0,de.ru)()&&E.push("This is a browser extension environment."),(0,de.zI)()||E.push("Cookies are not available."),E.length>0){const C=E.map((P,j)=>`(${j+1}) ${P}`).join(" "),S=An.create("invalid-analytics-context",{errorInfo:C});Jn.warn(S.message)}}();const P=E.options.appId;if(!P)throw An.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw An.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$n[P])throw An.create("already-exists",{id:P});if(!Hs){!function Hl(E){let C=[];Array.isArray(window[E])?C=window[E]:window[E]=C}(Vr);const{wrappedGtag:q,gtagCore:Q}=function mo(E,C,S,P,j){let q=function(...Q){window[P].push(arguments)};return window[j]&&"function"==typeof window[j]&&(q=window[j]),window[j]=function Ha(E,C,S,P){function q(){return q=(0,Z.Z)(function*(Q,...ze){try{if("event"===Q){const[Ge,rt]=ze;yield function af(E,C,S,P,j){return go.apply(this,arguments)}(E,C,S,Ge,rt)}else if("config"===Q){const[Ge,rt]=ze;yield function zl(E,C,S,P,j,q){return js.apply(this,arguments)}(E,C,S,P,Ge,rt)}else if("consent"===Q){const[Ge]=ze;E("consent","update",Ge)}else if("get"===Q){const[Ge,rt,xt]=ze;E("get",Ge,rt,xt)}else if("set"===Q){const[Ge]=ze;E("set",Ge)}else E(Q,...ze)}catch(Ge){Jn.error(Ge)}}),q.apply(this,arguments)}return function j(Q){return q.apply(this,arguments)}}(q,E,C,S),{gtagCore:q,wrappedGtag:window[j]}}($n,bd,qa,Vr,Ql);bi=q,Td=Q,Hs=!0}return $n[P]=function Fi(E,C,S,P,j,q,Q){return lt.apply(this,arguments)}(E,bd,qa,C,Td,Vr,S),new lr(E)}function Sd(){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,Z.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Ja="@firebase/analytics";!function tc(){(0,oe._registerComponent)(new ae.wA(Us,(C,{options:S})=>Ka(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,oe._registerComponent)(new ae.wA("analytics-internal",function E(C){try{const S=C.getProvider(Us).getImmediate();return{logEvent:(P,j,q)=>function df(E,C,S,P){E=(0,de.m9)(E),function uy(E,C,S,P,j){return cf.apply(this,arguments)}(bi,$n[E.app.options.appId],C,S,P).catch(j=>Jn.error(j))}(S,P,j,q)}}catch(S){throw An.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,oe.registerVersion)(Ja,"0.10.0"),(0,oe.registerVersion)(Ja,"0.10.0","esm2017")}();var nc=k(727);class Xa extends nc.w0{constructor(C,S){super()}schedule(C,S=0){return this}}const xr={setInterval(E,C,...S){const{delegate:P}=xr;return P?.setInterval?P.setInterval(E,C,...S):setInterval(E,C,...S)},clearInterval(E){const{delegate:C}=xr;return(C?.clearInterval||clearInterval)(E)},delegate:void 0};var rc=k(8737);class Xr extends Xa{constructor(C,S){super(C,S),this.scheduler=C,this.work=S,this.pending=!1}schedule(C,S=0){var P;if(this.closed)return this;this.state=C;const j=this.id,q=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(q,j,S)),this.pending=!0,this.delay=S,this.id=null!==(P=this.id)&&void 0!==P?P:this.requestAsyncId(q,this.id,S),this}requestAsyncId(C,S,P=0){return xr.setInterval(C.flush.bind(C,this),P)}recycleAsyncId(C,S,P=0){if(null!=P&&this.delay===P&&!1===this.pending)return S;null!=S&&xr.clearInterval(S)}execute(C,S){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const P=this._execute(C,S);if(P)return P;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,S){let j,P=!1;try{this.work(C)}catch(q){P=!0,j=q||new Error("Scheduled action threw falsy error")}if(P)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:C,scheduler:S}=this,{actions:P}=S;this.work=this.state=this.scheduler=null,this.pending=!1,(0,rc.P)(P,this),null!=C&&(this.id=this.recycleAsyncId(S,C,null)),this.delay=null,super.unsubscribe()}}}var hf=k(6063);class vn{constructor(C,S=vn.now){this.schedulerActionCtor=C,this.now=S}schedule(C,S=0,P){return new this.schedulerActionCtor(this,C).schedule(P,S)}}vn.now=hf.l.now;class zs extends vn{constructor(C,S=vn.now){super(C,S),this.actions=[],this._active=!1}flush(C){const{actions:S}=this;if(this._active)return void S.push(C);let P;this._active=!0;do{if(P=C.execute(C.state,C.delay))break}while(C=S.shift());if(this._active=!1,P){for(;C=S.shift();)C.unsubscribe();throw P}}}const Li=new class ic extends zs{}(class ia extends Xr{constructor(C,S){super(C,S),this.scheduler=C,this.work=S}schedule(C,S=0){return S>0?super.schedule(C,S):(this.delay=S,this.state=C,this.scheduler.flush(this),this)}execute(C,S){return S>0||this.closed?super.execute(C,S):this._execute(C,S)}requestAsyncId(C,S,P=0){return null!=P&&P>0||null==P&&this.delay>0?super.requestAsyncId(C,S,P):(C.flush(this),0)}}),sc=new zs(Xr);var eu=k(9751),fs=k(8505),Gs=k(9468),wr=k(5363);const ps=new h.GfV("7.5.0"),Md="__angularfire_symbol__analyticsIsSupportedValue",Yu="__angularfire_symbol__analyticsIsSupported",sa="__angularfire_symbol__remoteConfigIsSupportedValue",Ws="__angularfire_symbol__remoteConfigIsSupported",Qu="__angularfire_symbol__messagingIsSupportedValue",Ju="__angularfire_symbol__messagingIsSupported";function oa(E,C,S){if(C){if(1===C.length)return C[0];const q=C.filter(Q=>Q.app===S);if(1===q.length)return q[0]}return S.container.getProvider(E).getImmediate({optional:!0})}globalThis[Yu]||(globalThis[Yu]=Sd().then(E=>globalThis[Md]=E).catch(()=>globalThis[Md]=!1)),globalThis[Ju]||(globalThis[Ju]=rf().then(E=>globalThis[Qu]=E).catch(()=>globalThis[Qu]=!1)),globalThis[Ws]||(globalThis[Ws]=Qc().then(E=>globalThis[sa]=E).catch(()=>globalThis[sa]=!1));const xd=(E,C)=>{const S=C?[C]:(0,U.C6)(),P=[];return S.forEach(j=>{j.container.getProvider(E).instances.forEach(Q=>{P.includes(Q)||P.push(Q)})}),P};function qs(){}class Vi{constructor(C,S=Li){this.zone=C,this.delegate=S}now(){return this.delegate.now()}schedule(C,S,P){const j=this.zone;return this.delegate.schedule(function(Q){j.runGuarded(()=>{C.apply(this,[Q])})},S,P)}}class Nd{constructor(C){this.zone=C,this.task=null}call(C,S){const P=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qs,{},qs,qs)),S.pipe((0,fs.b)({next:P,complete:P,error:P})).subscribe(C).add(P)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Rd=(()=>{class E{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Vi(Zone.current)),this.insideAngular=S.run(()=>new Vi(Zone.current,sc)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(S){return new(S||E)(h.LFG(h.R0b))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function gs(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Mn(E){return gs().ngZone.run(()=>E())}function oc(E){return gs(),function Xu(E){return function(S){return(S=S.lift(new Nd(E.ngZone))).pipe((0,Gs.R)(E.outsideAngular),(0,wr.Q)(E.insideAngular))}}(gs())(E)}const dr=(E,C)=>function(){const P=arguments;return C&&setTimeout(()=>{"scheduled"===C.state&&C.invoke()},10),Mn(()=>E.apply(void 0,P))},nu=(E,C)=>function(){let S;const P=arguments;for(let q=0;q<arguments.length;q++)"function"==typeof P[q]&&(C&&(S||(S=Mn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qs,{},qs,qs)))),P[q]=dr(P[q],S));const j=function Pd(E){return gs().ngZone.runOutsideAngular(()=>E())}(()=>E.apply(this,P));if(!C){if(j instanceof eu.y){const q=gs();return j.pipe((0,Gs.R)(q.outsideAngular),(0,wr.Q)(q.insideAngular))}return Mn(()=>j)}return j instanceof eu.y?j.pipe(oc):j instanceof Promise?Mn(()=>new Promise((q,Q)=>j.then(ze=>Mn(()=>q(ze)),ze=>Mn(()=>Q(ze))))):"function"==typeof j&&S?function(){return setTimeout(()=>{S&&"scheduled"===S.state&&S.invoke()},10),j.apply(this,arguments)}:Mn(()=>j)}},1389:(Ct,Me,k)=>{k.d(Me,{$:()=>Rt,A:()=>$,D:()=>Ee,I:()=>Pn,J:()=>Ei,L:()=>Ki,N:()=>Zr,P:()=>Fi,Q:()=>Zc,R:()=>Wu,U:()=>Yc,V:()=>Qc,W:()=>Su,X:()=>us,Y:()=>Au,Z:()=>Jc,_:()=>Mu,a:()=>Lr,a0:()=>tf,a1:()=>xl,a2:()=>eg,a3:()=>nd,a4:()=>Di,a5:()=>rd,a6:()=>Fs,a7:()=>Er,a8:()=>Ls,a9:()=>Zi,aA:()=>re,aB:()=>ff,aC:()=>Zn,aD:()=>li,aE:()=>zs,aF:()=>Qa,aG:()=>Ya,aH:()=>on,aL:()=>Qi,aO:()=>Os,aa:()=>sd,ab:()=>od,ac:()=>tg,ad:()=>ad,ae:()=>ud,af:()=>Pl,ai:()=>ld,aj:()=>cd,ak:()=>Mr,an:()=>ef,ao:()=>Ll,aq:()=>Va,ar:()=>ea,as:()=>Tt,at:()=>mn,au:()=>St,av:()=>ve,aw:()=>j,ax:()=>wr,ay:()=>In,az:()=>ye,b:()=>Bu,c:()=>bi,d:()=>Ka,e:()=>Jl,f:()=>Ja,g:()=>rc,h:()=>nc,i:()=>Gl,j:()=>hf,k:()=>rt,l:()=>za,m:()=>ei,p:()=>Ne,r:()=>Cd,s:()=>$s,u:()=>Ci});var h=k(5861),U=k(2090),Z=k(6881),oe=k(655),de=k(1877),ae=k(4859);const Ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ee=function Y(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},qe=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new de.Yd("@firebase/auth");function Ue(_,...p){we.logLevel<=de.in.ERROR&&we.error(`Auth (${Z.SDK_VERSION}): ${_}`,...p)}function ve(_,...p){throw Oe(_,...p)}function ye(_,...p){return Oe(_,...p)}function be(_,p,m){const w=Object.assign(Object.assign({},qe()),{[p]:m});return new U.LL("auth","Firebase",w).create(p,{appName:_.name})}function je(_,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&ve(_,"argument-error"),be(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(_,...p){if("string"!=typeof _){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(m,...w)}return st.create(_,...p)}function re(_,p,...m){if(!_)throw Oe(p,...m)}function nt(_){const p="INTERNAL ASSERTION FAILED: "+_;throw Ue(p),new Error(p)}function Tt(_,p){_||nt(p)}function ot(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Zt(){return"http:"===ct()||"https:"===ct()}function ct(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class pe{constructor(p,m){this.shortDelay=p,this.longDelay=m,Tt(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function Bo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zt()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _e(_,p){Tt(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Ie{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const We={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ke=new pe(3e4,6e4);function Te(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function dt(_,p,m,w){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,h.Z)(function*(_,p,m,w,M={}){return mt(_,M,(0,h.Z)(function*(){let R={},W={};w&&("GET"===p?W=w:R={body:JSON.stringify(w)});const se=(0,U.xO)(Object.assign({key:_.config.apiKey},W)).slice(1),Fe=yield _._getAdditionalHeaders();return Fe["Content-Type"]="application/json",_.languageCode&&(Fe["X-Firebase-Locale"]=_.languageCode),Ie.fetch()(wn(_,_.config.apiHost,m,se),Object.assign({method:p,headers:Fe,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function mt(_,p,m){return _t.apply(this,arguments)}function _t(){return(_t=(0,h.Z)(function*(_,p,m){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},We),p);try{const M=new Gr(_),R=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const W=yield R.json();if("needConfirmation"in W)throw Kn(_,"account-exists-with-different-credential",W);if(R.ok&&!("errorMessage"in W))return W;{const se=R.ok?W.errorMessage:W.error.message,[Fe,Ke]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw Kn(_,"credential-already-in-use",W);if("EMAIL_EXISTS"===Fe)throw Kn(_,"email-already-in-use",W);if("USER_DISABLED"===Fe)throw Kn(_,"user-disabled",W);const vt=w[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw be(_,vt,Ke);ve(_,vt)}}catch(M){if(M instanceof U.ZR)throw M;ve(_,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function en(_,p,m,w){return un.apply(this,arguments)}function un(){return(un=(0,h.Z)(function*(_,p,m,w,M={}){const R=yield dt(_,p,m,w,M);return"mfaPendingCredential"in R&&ve(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function wn(_,p,m,w){const M=`${p}${m}?${w}`;return _.config.emulator?_e(_.config,M):`${_.config.apiScheme}://${M}`}class Gr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(ye(this.auth,"network-request-failed")),ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kn(_,p,m){const w={appName:_.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const M=ye(_,p,w);return M.customData._tokenResponse=m,M}function Tr(){return(Tr=(0,h.Z)(function*(_,p){return dt(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Cs(){return(Cs=(0,h.Z)(function*(_,p){return dt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function yr(){return(yr=(0,h.Z)(function*(_,p){return dt(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ht(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function ir(){return(ir=(0,h.Z)(function*(_,p=!1){const m=(0,U.m9)(_),w=yield m.getIdToken(p),M=Pi(w);re(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const R="object"==typeof M.firebase?M.firebase:void 0,W=R?.sign_in_provider;return{claims:M,token:w,authTime:ht(Wr(M.auth_time)),issuedAtTime:ht(Wr(M.iat)),expirationTime:ht(Wr(M.exp)),signInProvider:W||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function Wr(_){return 1e3*Number(_)}function Pi(_){const[p,m,w]=_.split(".");if(void 0===p||void 0===m||void 0===w)return Ue("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,U.tV)(m);return M?JSON.parse(M):(Ue("Failed to decode base64 JWT payload"),null)}catch(M){return Ue("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Wt(_,p){return ft.apply(this,arguments)}function ft(){return(ft=(0,h.Z)(function*(_,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof U.ZR&&function Ft({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}class mi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,h.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class qr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ht(this.lastLoginAt),this.creationTime=ht(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vn(_){return yi.apply(this,arguments)}function yi(){return yi=(0,h.Z)(function*(_){var p;const m=_.auth,w=yield _.getIdToken(),M=yield Wt(_,function Da(_,p){return yr.apply(this,arguments)}(m,{idToken:w}));re(M?.users.length,m,"internal-error");const R=M.users[0];_._notifyReloadListener(R);const W=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?function Ts(_){return _.map(p=>{var{providerId:m}=p,w=(0,oe._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(R.providerUserInfo):[],se=function yn(_,p){return[..._.filter(w=>!p.some(M=>M.providerId===w.providerId)),...p]}(_.providerData,W),vt=!!_.isAnonymous&&!(_.email&&R.passwordHash||se?.length),Bt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:se,metadata:new qr(R.createdAt,R.lastLoginAt),isAnonymous:vt};Object.assign(_,Bt)}),yi.apply(this,arguments)}function Rr(){return(Rr=(0,h.Z)(function*(_){const p=(0,U.m9)(_);yield Vn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(_,p){const m=yield mt(_,{},(0,h.Z)(function*(){const w=(0,U.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:R}=_.config,W=wn(_,M,"/v1/token",`key=${R}`),se=yield _._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",Ie.fetch()(W,{method:"POST",headers:se,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class tn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){re(p.idToken,"internal-error"),re(typeof p.idToken<"u","internal-error"),re(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ln(_){const p=Pi(_);return re(p,"internal-error"),re(typeof p.exp<"u","internal-error"),re(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,h.Z)(function*(){return re(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,h.Z)(function*(){const{accessToken:M,refreshToken:R,expiresIn:W}=yield function Jt(_,p){return vi.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(M,R,Number(W))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:M,expirationTime:R}=m,W=new tn;return w&&(re("string"==typeof w,"internal-error",{appName:p}),W.refreshToken=w),M&&(re("string"==typeof M,"internal-error",{appName:p}),W.accessToken=M),R&&(re("number"==typeof R,"internal-error",{appName:p}),W.expirationTime=R),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new tn,this.toJSON())}_performRefresh(){return nt("not implemented")}}function Pr(_,p){re("string"==typeof _||typeof _>"u","internal-error",{appName:p})}class Bn{constructor(p){var{uid:m,auth:w,stsTokenManager:M}=p,R=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new qr(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,h.Z)(function*(){const w=yield Wt(m,m.stsTokenManager.getToken(m.auth,p));return re(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function Du(_){return ir.apply(this,arguments)}(this,p)}reload(){return function Un(_){return Rr.apply(this,arguments)}(this)}_assign(p){this!==p&&(re(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Bn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,h.Z)(function*(){let M=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),M=!0),m&&(yield Vn(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,h.Z)(function*(){const m=yield p.getIdToken();return yield Wt(p,function ui(_,p){return Tr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,M,R,W,se,Fe,Ke,vt;const Bt=null!==(w=m.displayName)&&void 0!==w?w:void 0,ti=null!==(M=m.email)&&void 0!==M?M:void 0,Co=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,aa=null!==(W=m.photoURL)&&void 0!==W?W:void 0,ac=null!==(se=m.tenantId)&&void 0!==se?se:void 0,vs=null!==(Fe=m._redirectEventId)&&void 0!==Fe?Fe:void 0,yf=null!==(Ke=m.createdAt)&&void 0!==Ke?Ke:void 0,Od=null!==(vt=m.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:uc,emailVerified:ua,isAnonymous:kd,providerData:Fd,stsTokenManager:tl}=m;re(uc&&tl,p,"internal-error");const Ld=tn.fromJSON(this.name,tl);re("string"==typeof uc,p,"internal-error"),Pr(Bt,p.name),Pr(ti,p.name),re("boolean"==typeof ua,p,"internal-error"),re("boolean"==typeof kd,p,"internal-error"),Pr(Co,p.name),Pr(aa,p.name),Pr(ac,p.name),Pr(vs,p.name),Pr(yf,p.name),Pr(Od,p.name);const nl=new Bn({uid:uc,auth:p,email:ti,emailVerified:ua,displayName:Bt,isAnonymous:kd,photoURL:aa,phoneNumber:Co,tenantId:ac,stsTokenManager:Ld,createdAt:yf,lastLoginAt:Od});return Fd&&Array.isArray(Fd)&&(nl.providerData=Fd.map(la=>Object.assign({},la))),vs&&(nl._redirectEventId=vs),nl}static _fromIdTokenResponse(p,m,w=!1){return(0,h.Z)(function*(){const M=new tn;M.updateFromServerResponse(m);const R=new Bn({uid:m.localId,auth:p,stsTokenManager:M,isAnonymous:w});return yield Vn(R),R})()}}const Kr=new Map;function Zn(_){Tt(_ instanceof Function,"Expected a class definition");let p=Kr.get(_);return p?(Tt(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,Kr.set(_,p),p)}const Zr=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,w){var M=this;return(0,h.Z)(function*(){M.storage[m]=w})()}_get(m){var w=this;return(0,h.Z)(function*(){const M=w.storage[m];return void 0===M?null:M})()}_remove(m){var w=this;return(0,h.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return _.type="NONE",_})();function li(_,p,m){return`firebase:${_}:${p}:${m}`}class B{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:M,name:R}=this.auth;this.fullUserKey=li(this.userKey,M.apiKey,R),this.fullPersistenceKey=li("persistence",M.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,h.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Bn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,h.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,h.Z)(function*(){if(!m.length)return new B(Zn(Zr),p,w);const M=(yield Promise.all(m.map(function(){var Ke=(0,h.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let R=M[0]||Zn(Zr);const W=li(w,p.config.apiKey,p.name);let se=null;for(const Ke of m)try{const vt=yield Ke._get(W);if(vt){const Bt=Bn._fromJSON(p,vt);Ke!==R&&(se=Bt),R=Ke;break}}catch{}const Fe=M.filter(Ke=>Ke._shouldAllowMigration);return R._shouldAllowMigration&&Fe.length?(R=Fe[0],se&&(yield R._set(W,se.toJSON())),yield Promise.all(m.map(function(){var Ke=(0,h.Z)(function*(vt){if(vt!==R)try{yield vt._remove(W)}catch{}});return function(vt){return Ke.apply(this,arguments)}}())),new B(R,p,w)):new B(R,p,w)})()}}function L(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Pe(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(G(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(rn(p))return"Blackberry";if(jn(p))return"Webos";if(ge(p))return"Safari";if((p.includes("chrome/")||X(p))&&!p.includes("edge/"))return"Chrome";if(St(p))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function G(_=(0,U.z$)()){return/firefox\//i.test(_)}function ge(_=(0,U.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function X(_=(0,U.z$)()){return/crios\//i.test(_)}function Pe(_=(0,U.z$)()){return/iemobile/i.test(_)}function St(_=(0,U.z$)()){return/android/i.test(_)}function rn(_=(0,U.z$)()){return/blackberry/i.test(_)}function jn(_=(0,U.z$)()){return/webos/i.test(_)}function mn(_=(0,U.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function In(_=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function _i(_=(0,U.z$)()){return mn(_)||St(_)||jn(_)||rn(_)||/windows phone/i.test(_)||Pe(_)}function jo(_,p=[]){let m;switch(_){case"Browser":m=L((0,U.z$)());break;case"Worker":m=`${L((0,U.z$)())}-${_}`;break;default:m=_}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${Z.SDK_VERSION}/${w}`}function ee(){return(ee=(0,h.Z)(function*(_){return(yield dt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xe(_,p){return pt.apply(this,arguments)}function pt(){return(pt=(0,h.Z)(function*(_,p){return dt(_,"GET","/v2/recaptchaConfig",Te(_,p))})).apply(this,arguments)}function At(_){return void 0!==_&&void 0!==_.getResponse}function Gt(_){return void 0!==_&&void 0!==_.enterprise}class yt{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Qt(_){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=p,w.onerror=M=>{const R=ye("internal-error");R.customData=M,m(R)},w.type="text/javascript",w.charset="UTF-8",function sn(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(w)})}function Sr(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Kh="NO_RECAPTCHA";class Ss{constructor(p){this.type="recaptcha-enterprise",this.auth=on(p)}verify(p="verify",m=!1){var w=this;return(0,h.Z)(function*(){function R(){return R=(0,h.Z)(function*(se){if(!m){if(null==se.tenantId&&null!=se._agentRecaptchaConfig)return se._agentRecaptchaConfig.siteKey;if(null!=se.tenantId&&void 0!==se._tenantRecaptchaConfigs[se.tenantId])return se._tenantRecaptchaConfigs[se.tenantId].siteKey}return new Promise(function(){var Fe=(0,h.Z)(function*(Ke,vt){xe(se,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Bt=>{if(void 0!==Bt.recaptchaKey){const ti=new yt(Bt);return null==se.tenantId?se._agentRecaptchaConfig=ti:se._tenantRecaptchaConfigs[se.tenantId]=ti,Ke(ti.siteKey)}vt(new Error("recaptcha Enterprise site key undefined"))}).catch(Bt=>{vt(Bt)})});return function(Ke,vt){return Fe.apply(this,arguments)}}())}),R.apply(this,arguments)}function W(se,Fe,Ke){const vt=window.grecaptcha;Gt(vt)?vt.enterprise.ready(()=>{vt.enterprise.execute(se,{action:p}).then(Bt=>{Fe(Bt)}).catch(()=>{Fe(Kh)})}):Ke(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((se,Fe)=>{(function M(se){return R.apply(this,arguments)})(w.auth).then(Ke=>{if(!m&&Gt(window.grecaptcha))W(Ke,se,Fe);else{if(typeof window>"u")return void Fe(new Error("RecaptchaVerifier is only supported in browser"));Qt("https://www.google.com/recaptcha/enterprise.js?render="+Ke).then(()=>{W(Ke,se,Fe)}).catch(vt=>{Fe(vt)})}}).catch(Ke=>{Fe(Ke)})})})()}}function or(_,p,m){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,h.Z)(function*(_,p,m,w=!1){const M=new Ss(_);let R;try{R=yield M.verify(m)}catch{R=yield M.verify(m,!0)}const W=Object.assign({},p);return Object.assign(W,w?{captchaResp:R}:{captchaResponse:R}),Object.assign(W,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(W,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),W})).apply(this,arguments)}class Ht{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=R=>new Promise((W,se)=>{try{W(p(R))}catch(Fe){se(Fe)}});w.onAbort=m,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,h.Z)(function*(){if(m.auth.currentUser===p)return;const w=[];try{for(const M of m.queue)yield M(p),M.onAbort&&w.push(M.onAbort)}catch(M){w.reverse();for(const R of w)try{R()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Dn{constructor(p,m,w,M){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=w,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new As(this),this.idTokenSubscription=new As(this),this.beforeStateQueue=new Ht(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=Zn(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var M,R;if(!w._deleted&&(w.persistenceManager=yield B.create(w,p),!w._deleted)){if(null!==(M=w._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,h.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,h.Z)(function*(){var w;const M=yield m.assertedPersistence.getCurrentUser();let R=M,W=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const se=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Fe=R?._redirectEventId,Ke=yield m.tryRedirectSignIn(p);(!se||se===Fe)&&Ke?.user&&(R=Ke.user,W=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(W)try{yield m.beforeStateQueue.runMiddleware(R)}catch(se){R=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(se))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return re(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var m=this;return(0,h.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,h.Z)(function*(){try{yield Vn(p)}catch(w){if("auth/network-request-failed"!==w?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ue(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,h.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,h.Z)(function*(){const w=p?(0,U.m9)(p):null;return w&&re(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,h.Z)(function*(){if(!w._deleted)return p&&re(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,h.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,h.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(Zn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,h.Z)(function*(){const m=yield xe(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new yt(m);null==p.tenantId?p._agentRecaptchaConfig=w:p._tenantRecaptchaConfigs[p.tenantId]=w,w.emailPasswordEnabled&&new Ss(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new U.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,h.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(m);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&Zn(p)||m._popupRedirectResolver;re(w,m,"argument-error"),m.redirectPersistenceManager=yield B.create(m,[Zn(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,h.Z)(function*(){var w,M;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,h.Z)(function*(){if(p===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,M){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),W=this._isInitialized?Promise.resolve():this._initializationPromise;return re(W,this,"internal-error"),W.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,w,M):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=jo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,h.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();M&&(w["X-Firebase-Client"]=M);const R=yield p._getAppCheckToken();return R&&(w["X-Firebase-AppCheck"]=R),w})()}_getAppCheckToken(){var p=this;return(0,h.Z)(function*(){var m;const w=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return w?.error&&function Re(_,...p){we.logLevel<=de.in.WARN&&we.warn(`Auth (${Z.SDK_VERSION}): ${_}`,...p)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function on(_){return(0,U.m9)(_)}class As{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,U.ne)(m=>this.observer=m)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Pn(_,p,m){const w=on(_);re(w._canInitEmulator,w,"emulator-config-failed"),re(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const M=!!m?.disableWarnings,R=ba(p),{host:W,port:se}=function Ms(_){const p=ba(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const R=M[1];return{host:R,port:Ut(w.substr(R.length+1))}}{const[R,W]=w.split(":");return{host:R,port:Ut(W)}}}(p);w.config.emulator={url:`${R}//${W}${null===se?"":`:${se}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:W,port:se,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function bu(){function _(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function ba(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function Ut(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class Ei{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return nt("not implemented")}_getIdTokenResponse(p){return nt("not implemented")}_linkToIdToken(p,m){return nt("not implemented")}_getReauthenticationResolver(p){return nt("not implemented")}}function Ta(_,p){return xs.apply(this,arguments)}function xs(){return(xs=(0,h.Z)(function*(_,p){return dt(_,"POST","/v1/accounts:resetPassword",Te(_,p))})).apply(this,arguments)}function Yn(_,p){return no.apply(this,arguments)}function no(){return(no=(0,h.Z)(function*(_,p){return dt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function wi(){return(wi=(0,h.Z)(function*(_,p){return dt(_,"POST","/v1/accounts:update",Te(_,p))})).apply(this,arguments)}function $o(_,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:signInWithPassword",Te(_,p))})).apply(this,arguments)}function hn(_,p){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,h.Z)(function*(_,p){return dt(_,"POST","/v1/accounts:sendOobCode",Te(_,p))})).apply(this,arguments)}function Sa(){return(Sa=(0,h.Z)(function*(_,p){return hn(_,p)})).apply(this,arguments)}function Ho(_,p){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,h.Z)(function*(_,p){return hn(_,p)})).apply(this,arguments)}function io(_,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,h.Z)(function*(_,p){return hn(_,p)})).apply(this,arguments)}function kr(){return(kr=(0,h.Z)(function*(_,p){return hn(_,p)})).apply(this,arguments)}function so(){return(so=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:signInWithEmailLink",Te(_,p))})).apply(this,arguments)}function Aa(){return(Aa=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:signInWithEmailLink",Te(_,p))})).apply(this,arguments)}class Yr extends Ei{constructor(p,m,w,M=null){super("password",w),this._email=p,this._password=m,this._tenantId=M}static _fromEmailAndPassword(p,m){return new Yr(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Yr(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,h.Z)(function*(){var w;switch(m.signInMethod){case"password":const M={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=p._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const R=yield or(p,M,"signInWithPassword");return $o(p,R)}return $o(p,M).catch(function(){var R=(0,h.Z)(function*(W){if("auth/missing-recaptcha-token"===W.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const se=yield or(p,M,"signInWithPassword");return $o(p,se)}return Promise.reject(W)});return function(W){return R.apply(this,arguments)}}());case"emailLink":return function ki(_,p){return so.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:ve(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return Yn(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Tu(_,p){return Aa.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:ve(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Rs(_,p){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:signInWithIdp",Te(_,p))})).apply(this,arguments)}class Ki extends Ei{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Ki(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):ve("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M}=m,R=(0,oe._T)(m,["providerId","signInMethod"]);if(!w||!M)return null;const W=new Ki(w,M);return W.idToken=R.idToken||void 0,W.accessToken=R.accessToken||void 0,W.secret=R.secret,W.nonce=R.nonce,W.pendingToken=R.pendingToken||null,W}_getIdTokenResponse(p){return Rs(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Rs(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Rs(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,U.xO)(m)}return p}}function zc(){return(zc=(0,h.Z)(function*(_,p){return dt(_,"POST","/v1/accounts:sendVerificationCode",Te(_,p))})).apply(this,arguments)}function Gc(){return(Gc=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:signInWithPhoneNumber",Te(_,p))})).apply(this,arguments)}function Wc(){return(Wc=(0,h.Z)(function*(_,p){const m=yield en(_,"POST","/v1/accounts:signInWithPhoneNumber",Te(_,p));if(m.temporaryProof)throw Kn(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const qc={USER_NOT_FOUND:"user-not-found"};function Yh(){return(Yh=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:signInWithPhoneNumber",Te(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),qc)})).apply(this,arguments)}class Ps extends Ei{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Ps({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Ps({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Zh(_,p){return Gc.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Xp(_,p){return Wc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Kc(_,p){return Yh.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:M}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:R}=p;return w||m||M||R?new Ps({verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:R}):null}}class zo{constructor(p){var m,w,M,R,W,se;const Fe=(0,U.zd)((0,U.pd)(p)),Ke=null!==(m=Fe.apiKey)&&void 0!==m?m:null,vt=null!==(w=Fe.oobCode)&&void 0!==w?w:null,Bt=function oo(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Fe.mode)&&void 0!==M?M:null);re(Ke&&vt&&Bt,"argument-error"),this.apiKey=Ke,this.operation=Bt,this.code=vt,this.continueUrl=null!==(R=Fe.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(W=Fe.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(se=Fe.tenantId)&&void 0!==se?se:null}static parseLink(p){const m=function Qh(_){const p=(0,U.zd)((0,U.pd)(_)).link,m=p?(0,U.zd)((0,U.pd)(p)).deep_link_id:null,w=(0,U.zd)((0,U.pd)(_)).deep_link_id;return(w?(0,U.zd)((0,U.pd)(w)).link:null)||w||m||p||_}(p);try{return new zo(m)}catch{return null}}}let Zc=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,w){return Yr._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const M=zo.parseLink(w);return re(M,"argument-error"),Yr._fromEmailAndCode(m,M.code,M.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ao{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class xa extends ao{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class us extends xa{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return re("providerId"in m&&"signInMethod"in m,"argument-error"),Ki._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return re(p.idToken||p.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return us.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return us.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:R,nonce:W,providerId:se}=p;if(!w&&!M&&!m&&!R||!se)return null;try{return new us(se)._credential({idToken:m,accessToken:w,nonce:W,pendingToken:R})}catch{return null}}}let Yc=(()=>{class _ extends xa{constructor(){super("facebook.com")}static credential(m){return Ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Qc=(()=>{class _ extends xa{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:M}=m;if(!w&&!M)return null;try{return _.credential(w,M)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Su=(()=>{class _ extends xa{constructor(){super("github.com")}static credential(m){return Ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Os extends Ei{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Rs(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Rs(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Rs(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M,pendingToken:R}=m;return w&&M&&R&&w===M?new Os(w,R):null}static _create(p,m){return new Os(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Au extends ao{constructor(p){re(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Au.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Au.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Os.fromJSON(p);return re(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return Os._create(w,m)}catch{return null}}}let Jc=(()=>{class _ extends xa{constructor(){super("twitter.com")}static credential(m,w){return Ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=m;if(!w||!M)return null;try{return _.credential(w,M)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Go(_,p){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:signUp",Te(_,p))})).apply(this,arguments)}class Sn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,M=!1){return(0,h.Z)(function*(){const R=yield Bn._fromIdTokenResponse(p,w,M),W=Na(w);return new Sn({user:R,providerId:W,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,h.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const M=Na(w);return new Sn({user:p,providerId:M,_tokenResponse:w,operationType:m})})()}}function Na(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Mu(_){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,h.Z)(function*(_){var p;const m=on(_);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Sn({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Go(m,{returnSecureToken:!0}),M=yield Sn._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class lo extends U.ZR{constructor(p,m,w,M){var R;super(m.code,m.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,lo.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,M){return new lo(p,m,w,M)}}function co(_,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?lo._fromErrorAndOperation(_,R,p,w):R})}function _r(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function ef(_,p){return xu.apply(this,arguments)}function xu(){return xu=(0,h.Z)(function*(_,p){const m=(0,U.m9)(_);yield Ra(!0,m,p);const{providerUserInfo:w}=yield function qi(_,p){return Cs.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),M=_r(w||[]);return m.providerData=m.providerData.filter(R=>M.has(R.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),xu.apply(this,arguments)}function Fr(_,p){return ur.apply(this,arguments)}function ur(){return(ur=(0,h.Z)(function*(_,p,m=!1){const w=yield Wt(_,p._linkToIdToken(_.auth,yield _.getIdToken()),m);return Sn._forOperation(_,"link",w)})).apply(this,arguments)}function Ra(_,p,m){return ks.apply(this,arguments)}function ks(){return(ks=(0,h.Z)(function*(_,p,m){yield Vn(p);const M=!1===_?"provider-already-linked":"no-such-provider";re(_r(p.providerData).has(m)===_,p.auth,M)})).apply(this,arguments)}function Xc(_,p){return ls.apply(this,arguments)}function ls(){return(ls=(0,h.Z)(function*(_,p,m=!1){const{auth:w}=_,M="reauthenticate";try{const R=yield Wt(_,co(w,M,p,_),m);re(R.idToken,w,"internal-error");const W=Pi(R.idToken);re(W,w,"internal-error");const{sub:se}=W;return re(_.uid===se,w,"user-mismatch"),Sn._forOperation(_,M,R)}catch(R){throw"auth/user-not-found"===R?.code&&ve(w,"user-mismatch"),R}})).apply(this,arguments)}function Pa(_,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,h.Z)(function*(_,p,m=!1){const w="signIn",M=yield co(_,w,p),R=yield Sn._fromIdTokenResponse(_,w,M);return m||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Rt(_,p){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,h.Z)(function*(_,p){return Pa(on(_),p)})).apply(this,arguments)}function tf(_,p){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,h.Z)(function*(_,p){const m=(0,U.m9)(_);return yield Ra(!1,m,p.providerId),Fr(m,p)})).apply(this,arguments)}function xl(_,p){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,h.Z)(function*(_,p){return Xc((0,U.m9)(_),p)})).apply(this,arguments)}function td(){return(td=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:signInWithCustomToken",Te(_,p))})).apply(this,arguments)}function eg(_,p){return ce.apply(this,arguments)}function ce(){return ce=(0,h.Z)(function*(_,p){const m=on(_),w=yield function ed(_,p){return td.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),M=yield Sn._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(M.user),M}),ce.apply(this,arguments)}class kt{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Rl._fromServerResponse(p,m):"totpInfo"in m?Oa._fromServerResponse(p,m):ve(p,"internal-error")}}class Rl extends kt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Rl(m)}}class Oa extends kt{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Oa(m)}}function kn(_,p,m){var w;re((null===(w=m.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),re(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(re(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(re(m.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function nd(_,p,m){return qo.apply(this,arguments)}function qo(){return qo=(0,h.Z)(function*(_,p,m){var w;const M=on(_),R={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=M._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const W=yield or(M,R,"getOobCode",!0);m&&kn(M,W,m),yield Ho(M,W)}else m&&kn(M,R,m),yield Ho(M,R).catch(function(){var W=(0,h.Z)(function*(se){if("auth/missing-recaptcha-token"!==se.code)return Promise.reject(se);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Fe=yield or(M,R,"getOobCode",!0);m&&kn(M,Fe,m),yield Ho(M,Fe)}});return function(se){return W.apply(this,arguments)}}())}),qo.apply(this,arguments)}function Di(_,p,m){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,h.Z)(function*(_,p,m){yield Ta((0,U.m9)(_),{oobCode:p,newPassword:m})})).apply(this,arguments)}function rd(_,p){return id.apply(this,arguments)}function id(){return id=(0,h.Z)(function*(_,p){yield function ro(_,p){return wi.apply(this,arguments)}((0,U.m9)(_),{oobCode:p})}),id.apply(this,arguments)}function Fs(_,p){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,h.Z)(function*(_,p){const m=(0,U.m9)(_),w=yield Ta(m,{oobCode:p}),M=w.requestType;switch(re(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(w.mfaInfo,m,"internal-error");default:re(w.email,m,"internal-error")}let R=null;return w.mfaInfo&&(R=kt._fromServerResponse(on(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:M}})).apply(this,arguments)}function Er(_,p){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,h.Z)(function*(_,p){const{data:m}=yield Fs((0,U.m9)(_),p);return m.email})).apply(this,arguments)}function Ls(_,p,m){return cs.apply(this,arguments)}function cs(){return cs=(0,h.Z)(function*(_,p,m){var w;const M=on(_),R={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let W;if(null!==(w=M._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Ke=yield or(M,R,"signUpPassword");W=Go(M,Ke)}else W=Go(M,R).catch(function(){var Ke=(0,h.Z)(function*(vt){if("auth/missing-recaptcha-token"===vt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Bt=yield or(M,R,"signUpPassword");return Go(M,Bt)}return Promise.reject(vt)});return function(vt){return Ke.apply(this,arguments)}}());const se=yield W.catch(Ke=>Promise.reject(Ke)),Fe=yield Sn._fromIdTokenResponse(M,"signIn",se);return yield M._updateCurrentUser(Fe.user),Fe}),cs.apply(this,arguments)}function Zi(_,p,m){return Rt((0,U.m9)(_),Zc.credential(p,m))}function sd(_,p,m){return ho.apply(this,arguments)}function ho(){return ho=(0,h.Z)(function*(_,p,m){var w;const M=on(_),R={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function W(se,Fe){re(Fe.handleCodeInApp,M,"argument-error"),Fe&&kn(M,se,Fe)}if(null!==(w=M._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const se=yield or(M,R,"getOobCode",!0);W(se,m),yield io(M,se)}else W(R,m),yield io(M,R).catch(function(){var se=(0,h.Z)(function*(Fe){if("auth/missing-recaptcha-token"!==Fe.code)return Promise.reject(Fe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ke=yield or(M,R,"getOobCode",!0);W(Ke,m),yield io(M,Ke)}});return function(Fe){return se.apply(this,arguments)}}())}),ho.apply(this,arguments)}function od(_,p){return"EMAIL_SIGNIN"===zo.parseLink(p)?.operation}function tg(_,p,m){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,h.Z)(function*(_,p,m){const w=(0,U.m9)(_),M=Zc.credentialWithLink(p,m||ot());return re(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Rt(w,M)})).apply(this,arguments)}function ka(){return(ka=(0,h.Z)(function*(_,p){return dt(_,"POST","/v1/accounts:createAuthUri",Te(_,p))})).apply(this,arguments)}function ad(_,p){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,h.Z)(function*(_,p){const w={identifier:p,continueUri:Zt()?ot():"http://localhost"},{signinMethods:M}=yield function Pu(_,p){return ka.apply(this,arguments)}((0,U.m9)(_),w);return M||[]}),Ou.apply(this,arguments)}function ud(_,p){return Zo.apply(this,arguments)}function Zo(){return Zo=(0,h.Z)(function*(_,p){const m=(0,U.m9)(_),M={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&kn(m.auth,M,p);const{email:R}=yield function Sl(_,p){return Sa.apply(this,arguments)}(m.auth,M);R!==_.email&&(yield _.reload())}),Zo.apply(this,arguments)}function Pl(_,p,m){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,h.Z)(function*(_,p,m){const w=(0,U.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};m&&kn(w.auth,R,m);const{email:W}=yield function Hc(_,p){return kr.apply(this,arguments)}(w.auth,R);W!==_.email&&(yield _.reload())}),Fa.apply(this,arguments)}function ku(){return(ku=(0,h.Z)(function*(_,p){return dt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ld(_,p){return kl.apply(this,arguments)}function kl(){return kl=(0,h.Z)(function*(_,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,U.m9)(_),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},W=yield Wt(w,function Ol(_,p){return ku.apply(this,arguments)}(w.auth,R));w.displayName=W.displayName||null,w.photoURL=W.photoUrl||null;const se=w.providerData.find(({providerId:Fe})=>"password"===Fe);se&&(se.displayName=w.displayName,se.photoURL=w.photoURL),yield w._updateTokensIfNecessary(W)}),kl.apply(this,arguments)}function cd(_,p){return Yi((0,U.m9)(_),p,null)}function Mr(_,p){return Yi((0,U.m9)(_),null,p)}function Yi(_,p,m){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,h.Z)(function*(_,p,m){const{auth:w}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const W=yield Wt(_,Yn(w,R));yield _._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Yo{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Fl extends Yo{constructor(p,m,w,M){super(p,m,w),this.username=M}}class ng extends Yo{constructor(p,m){super(p,"facebook.com",m)}}class hd extends Fl{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class rg extends Yo{constructor(p,m){super(p,"google.com",m)}}class Fu extends Fl{constructor(p,m,w){super(p,"twitter.com",m,w)}}function Ll(_){const{user:p,_tokenResponse:m}=_;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function dd(_){var p,m;if(!_)return null;const{providerId:w}=_,M=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&_?.idToken){const W=null===(m=null===(p=Pi(_.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(W)return new Yo(R,"anonymous"!==W&&"custom"!==W?W:null)}if(!w)return null;switch(w){case"facebook.com":return new ng(R,M);case"github.com":return new hd(R,M);case"google.com":return new rg(R,M);case"twitter.com":return new Fu(R,M,_.screenName||null);case"custom":case"anonymous":return new Yo(R,null);default:return new Yo(R,w,M)}}(m)}class hs{constructor(p,m,w){this.type=p,this.credential=m,this.auth=w}static _fromIdtoken(p,m){return new hs("enroll",p,m)}static _fromMfaPendingCredential(p){return new hs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return hs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return hs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Vl{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=on(p),M=m.customData._serverResponse,R=(M.mfaInfo||[]).map(se=>kt._fromServerResponse(w,se));re(M.mfaPendingCredential,w,"internal-error");const W=hs._fromMfaPendingCredential(M.mfaPendingCredential);return new Vl(W,R,function(){var se=(0,h.Z)(function*(Fe){const Ke=yield Fe._process(w,W);delete M.mfaInfo,delete M.mfaPendingCredential;const vt=Object.assign(Object.assign({},M),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(m.operationType){case"signIn":const Bt=yield Sn._fromIdTokenResponse(w,m.operationType,vt);return yield w._updateCurrentUser(Bt.user),Bt;case"reauthenticate":return re(m.user,w,"internal-error"),Sn._forOperation(m.user,m.operationType,vt);default:ve(w,"internal-error")}});return function(Fe){return se.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,h.Z)(function*(){return m.signInResolver(p)})()}}function Va(_,p){var m;const w=(0,U.m9)(_),M=p;return re(p.customData.operationType,w,"argument-error"),re(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Vl._fromError(w,M)}class Xo{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>kt._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Xo(p)}getSession(){var p=this;return(0,h.Z)(function*(){return hs._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var w=this;return(0,h.Z)(function*(){const M=p,R=yield w.getSession(),W=yield Wt(w.user,M._process(w.user.auth,R,m));return yield w.user._updateTokensIfNecessary(W),w.user.reload()})()}unenroll(p){var m=this;return(0,h.Z)(function*(){const w="string"==typeof p?p:p.uid,M=yield m.user.getIdToken();try{const R=yield Wt(m.user,function fo(_,p){return dt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Te(_,p))}(m.user.auth,{idToken:M,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:W})=>W!==w),yield m.user._updateTokensIfNecessary(R),yield m.user.reload()}catch(R){throw R}})()}}const po=new WeakMap;function ea(_){const p=(0,U.m9)(_);return po.has(p)||po.set(p,Xo._fromUser(p)),po.get(p)}const Ua="__sak";class Ba{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ua,"1"),this.storage.removeItem(Ua),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bu=(()=>{class _ extends Ba{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ul(){const _=(0,U.z$)();return ge(_)||mn(_)}()&&function as(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_i(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),R=this.localCache[w];M!==R&&m(w,R,M)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((se,Fe,Ke)=>{this.notifyListeners(se,Ke)});const M=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(M);if(m.newValue!==se)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!w)return}const R=()=>{const se=this.storage.getItem(M);!w&&this.localCache[M]===se||this.notifyListeners(M,se)},W=this.storage.getItem(M);!function Or(){return(0,U.w1)()&&10===document.documentMode}()||W===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const R of Array.from(M))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var M=()=>super._set,R=this;return(0,h.Z)(function*(){yield M().call(R,m,w),R.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,M=this;return(0,h.Z)(function*(){const R=yield w().call(M,m);return M.localCache[m]=JSON.stringify(R),R})()}_remove(m){var w=()=>super._remove,M=this;return(0,h.Z)(function*(){yield w().call(M,m),delete M.localCache[m]})()}}return _.type="LOCAL",_})(),Lr=(()=>{class _ extends Ba{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return _.type="SESSION",_})();let $l=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(R=>R.isListeningto(m));if(w)return w;const M=new _(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,h.Z)(function*(){const M=m,{eventId:R,eventType:W,data:se}=M.data,Fe=w.handlersMap[W];if(!Fe?.size)return;M.ports[0].postMessage({status:"ack",eventId:R,eventType:W});const Ke=Array.from(Fe).map(function(){var Bt=(0,h.Z)(function*(ti){return ti(M.origin,se)});return function(ti){return Bt.apply(this,arguments)}}()),vt=yield function yd(_){return Promise.all(_.map(function(){var p=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(Ke);M.ports[0].postMessage({status:"done",eventId:R,eventType:W,response:vt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Qi(_="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return _+m}class vd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var M=this;return(0,h.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let W,se;return new Promise((Fe,Ke)=>{const vt=Qi("",20);R.port1.start();const Bt=setTimeout(()=>{Ke(new Error("unsupported_event"))},w);se={messageChannel:R,onMessage(ti){const Co=ti;if(Co.data.eventId===vt)switch(Co.data.status){case"ack":clearTimeout(Bt),W=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Fe(Co.data.response);break;default:clearTimeout(Bt),clearTimeout(W),Ke(new Error("invalid_response"))}}},M.handlers.add(se),R.port1.addEventListener("message",se.onMessage),M.target.postMessage({eventType:p,eventId:vt,data:m},[R.port2])}).finally(()=>{se&&M.removeMessageHandler(se)})})()}}function Ln(){return window}function ju(){return typeof Ln().WorkerGlobalScope<"u"&&"function"==typeof Ln().importScripts}function $a(){return($a=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Jn="firebaseLocalStorageDb",ta=1,An="firebaseLocalStorage",sf="fbase_key";class Bs{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Hu(_,p){return _.transaction([An],p?"readwrite":"readonly").objectStore(An)}function Hl(){const _=indexedDB.open(Jn,ta);return new Promise((p,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(An,{keyPath:sf})}catch(M){m(M)}}),_.addEventListener("success",(0,h.Z)(function*(){const w=_.result;w.objectStoreNames.contains(An)?p(w):(w.close(),yield function na(){const _=indexedDB.deleteDatabase(Jn);return new Bs(_).toPromise()}(),p(yield Hl()))}))})}function zl(_,p,m){return js.apply(this,arguments)}function js(){return(js=(0,h.Z)(function*(_,p,m){const w=Hu(_,!0).put({[sf]:p,value:m});return new Bs(w).toPromise()})).apply(this,arguments)}function go(){return(go=(0,h.Z)(function*(_,p){const m=Hu(_,!1).get(p),w=yield new Bs(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Ha(_,p){const m=Hu(_,!0).delete(p);return new Bs(m).toPromise()}const Gl=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield Hl()),m.db})()}_withRetries(m){var w=this;return(0,h.Z)(function*(){let M=0;for(;;)try{const R=yield w._openDb();return yield m(R)}catch(R){if(M++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return ju()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=$l._getInstance(function $u(){return ju()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(M,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(M,R){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(M,R){return["keyChanged"]});return function(M,R){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var w,M;if(m.activeServiceWorker=yield function _d(){return $a.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new vd(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);R&&null!==(w=R[0])&&void 0!==w&&w.fulfilled&&null!==(M=R[0])&&void 0!==M&&M.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Ed(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Hl();return yield zl(m,Ua,"1"),yield Ha(m,Ua),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var M=this;return(0,h.Z)(function*(){return M._withPendingWrite((0,h.Z)(function*(){return yield M._withRetries(R=>zl(R,m,w)),M.localCache[m]=w,M.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,h.Z)(function*(){const M=yield w._withRetries(R=>function af(_,p){return go.apply(this,arguments)}(R,m));return w.localCache[m]=M,M})()}_remove(m){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(M=>Ha(M,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const w=yield m._withRetries(W=>{const se=Hu(W,!1).getAll();return new Bs(se).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const M=[],R=new Set;for(const{fbase_key:W,value:se}of w)R.add(W),JSON.stringify(m.localCache[W])!==JSON.stringify(se)&&(m.notifyListeners(W,se),M.push(W));for(const W of Object.keys(m.localCache))m.localCache[W]&&!R.has(W)&&(m.notifyListeners(W,null),M.push(W));return M})()}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const R of Array.from(M))R(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),Wl=1e12;class Dd{constructor(p){this.auth=p,this.counter=Wl,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new ql(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||Wl;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Wl))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,h.Z)(function*(){var w;return null===(w=m._widgets.get(p||Wl))||void 0===w||w.execute(),""})()}}class ql{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;re(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kl(_){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const lf=Sr("rcb"),oy=new pe(3e4,6e4);class _o{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Ln().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return re(function uy(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&At(Ln().grecaptcha)?Promise.resolve(Ln().grecaptcha):new Promise((w,M)=>{const R=Ln().setTimeout(()=>{M(ye(p,"network-request-failed"))},oy.get());Ln()[lf]=()=>{Ln().clearTimeout(R),delete Ln()[lf];const se=Ln().grecaptcha;if(!se||!At(se))return void M(ye(p,"internal-error"));const Fe=se.render;se.render=(Ke,vt)=>{const Bt=Fe(Ke,vt);return this.counter++,Bt},this.hostLanguage=m,w(se)},Qt(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:lf,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),M(ye(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Ln().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cf{load(p){return(0,h.Z)(function*(){return new Dd(p)})()}clearedOneInstance(){}}const Xn="recaptcha",Gu={theme:"light",type:"image"};class Wu{constructor(p,m=Object.assign({},Gu),w){this.parameters=m,this.type=Xn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=on(w),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;re(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cf:new _o,this.validateStartingState()}verify(){var p=this;return(0,h.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(R=>{const W=se=>{se&&(p.tokenChangeListeners.delete(W),R(se))};p.tokenChangeListeners.add(W),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=Ln()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,h.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,h.Z)(function*(){re(Zt()&&!ju(),p.auth,"internal-error"),yield function Zl(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function le(_){return ee.apply(this,arguments)}(p.auth);re(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ci{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Ps._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function $s(_,p,m){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,h.Z)(function*(_,p,m){const w=on(_),M=yield Wa(w,p,(0,U.m9)(m));return new ci(M,R=>Rt(w,R))})).apply(this,arguments)}function za(_,p,m){return ra.apply(this,arguments)}function ra(){return(ra=(0,h.Z)(function*(_,p,m){const w=(0,U.m9)(_);yield Ra(!1,w,"phone");const M=yield Wa(w.auth,p,(0,U.m9)(m));return new ci(M,R=>tf(w,R))})).apply(this,arguments)}function Cd(_,p,m){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,h.Z)(function*(_,p,m){const w=(0,U.m9)(_),M=yield Wa(w.auth,p,(0,U.m9)(m));return new ci(M,R=>xl(w,R))})).apply(this,arguments)}function Wa(_,p,m){return qu.apply(this,arguments)}function qu(){return qu=(0,h.Z)(function*(_,p,m){var w;const M=yield m.verify();try{let R;if(re("string"==typeof M,_,"argument-error"),re(m.type===Xn,_,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const W=R.session;if("phoneNumber"in R)return re("enroll"===W.type,_,"internal-error"),(yield function Uu(_,p){return dt(_,"POST","/v2/accounts/mfaEnrollment:start",Te(_,p))}(_,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{re("signin"===W.type,_,"internal-error");const se=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return re(se,_,"missing-multi-factor-info"),(yield function wd(_,p){return dt(_,"POST","/v2/accounts/mfaSignIn:start",Te(_,p))}(_,{mfaPendingCredential:W.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield function Jp(_,p){return zc.apply(this,arguments)}(_,{phoneNumber:R.phoneNumber,recaptchaToken:M});return W}}finally{m._reset()}}),qu.apply(this,arguments)}function Ci(_,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,h.Z)(function*(_,p){yield Fr((0,U.m9)(_),p)})).apply(this,arguments)}let Fi=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=on(m)}verifyPhoneNumber(m,w){return Wa(this.auth,m,(0,U.m9)(w))}static credential(m,w){return Ps._fromVerification(m,w)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:M}=m;return w&&M?Ps._fromTokenResponse(w,M):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function lt(_,p){return p?Zn(p):(re(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class lr extends Ei{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Rs(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Rs(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Rs(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function $n(_){return Pa(_.auth,new lr(_),_.bypassAuthState)}function bd(_){const{auth:p,user:m}=_;return re(m,p,"internal-error"),Xc(m,new lr(_),_.bypassAuthState)}function qa(_){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,h.Z)(function*(_){const{auth:p,user:m}=_;return re(m,p,"internal-error"),Fr(m,new lr(_),_.bypassAuthState)})).apply(this,arguments)}class Ql{constructor(p,m,w,M,R=!1){this.auth=p,this.resolver=w,this.user=M,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,h.Z)(function*(w,M){p.pendingPromise={resolve:w,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,M){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:R,tenantId:W,error:se,type:Fe}=p;if(se)return void m.reject(se);const Ke={auth:m.auth,requestUri:w,sessionId:M,tenantId:W||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Fe)(Ke))}catch(vt){m.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return $n;case"linkViaPopup":case"linkViaRedirect":return qa;case"reauthViaPopup":case"reauthViaRedirect":return bd;default:ve(this.auth,"internal-error")}}resolve(p){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Td=new pe(2e3,1e4);function bi(_,p,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,h.Z)(function*(_,p,m){const w=on(_);je(_,p,ao);const M=lt(w,m);return new Xl(w,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function Jl(_,p,m){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,h.Z)(function*(_,p,m){const w=(0,U.m9)(_);je(w.auth,p,ao);const M=lt(w.auth,m);return new Xl(w.auth,"reauthViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}function Ka(_,p,m){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,h.Z)(function*(_,p,m){const w=(0,U.m9)(_);je(w.auth,p,ao);const M=lt(w.auth,m);return new Xl(w.auth,"linkViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}let Xl=(()=>{class _ extends Ql{constructor(m,w,M,R,W){super(m,w,R,W),this.provider=M,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const w=yield m.execute();return re(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,h.Z)(function*(){Tt(1===m.filter.length,"Popup operations only handle one event");const w=Qi();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(ye(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,M;this.pollId=null!==(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Td.get())};m()}}return _.currentPopupAction=null,_})();const Sd="pendingRedirect",Ti=new Map;class Ku extends Ql{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,h.Z)(function*(){let w=Ti.get(m.auth._key());if(!w){try{const R=(yield function Jr(_,p){return Za.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(R)}catch(M){w=()=>Promise.reject(M)}Ti.set(m.auth._key(),w)}return m.bypassAuthState||Ti.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const M=yield w.auth._redirectUserForId(p.eventId);if(M)return w.user=M,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Za(){return(Za=(0,h.Z)(function*(_,p){const m=Zu(p),w=df(_);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(m));return yield w._remove(m),M})).apply(this,arguments)}function ec(_,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,h.Z)(function*(_,p){return df(_)._set(Zu(p),"true")})).apply(this,arguments)}function Ya(){Ti.clear()}function Qa(_,p){Ti.set(_._key(),p)}function df(_){return Zn(_._redirectPersistence)}function Zu(_){return li(Sd,_.config.apiKey,_.name)}function Ja(_,p,m){return function Ad(_,p,m){return tc.apply(this,arguments)}(_,p,m)}function tc(){return(tc=(0,h.Z)(function*(_,p,m){const w=on(_);je(_,p,ao),yield w._initializationPromise;const M=lt(w,m);return yield ec(M,w),M._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function nc(_,p,m){return function Xa(_,p,m){return xr.apply(this,arguments)}(_,p,m)}function xr(){return(xr=(0,h.Z)(function*(_,p,m){const w=(0,U.m9)(_);je(w.auth,p,ao),yield w.auth._initializationPromise;const M=lt(w.auth,m);yield ec(M,w.auth);const R=yield Li(w);return M._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function rc(_,p,m){return function Xr(_,p,m){return ia.apply(this,arguments)}(_,p,m)}function ia(){return(ia=(0,h.Z)(function*(_,p,m){const w=(0,U.m9)(_);je(w.auth,p,ao),yield w.auth._initializationPromise;const M=lt(w.auth,m);yield Ra(!1,w,p.providerId),yield ec(M,w.auth);const R=yield Li(w);return M._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function hf(_,p){return vn.apply(this,arguments)}function vn(){return(vn=(0,h.Z)(function*(_,p){return yield on(_)._initializationPromise,zs(_,p,!1)})).apply(this,arguments)}function zs(_,p){return ic.apply(this,arguments)}function ic(){return(ic=(0,h.Z)(function*(_,p,m=!1){const w=on(_),M=lt(w,p),W=yield new Ku(w,M,m).execute();return W&&!m&&(delete W.user._redirectEventId,yield w._persistUserIfCurrent(W.user),yield w._setRedirectUser(null,p)),W})).apply(this,arguments)}function Li(_){return cr.apply(this,arguments)}function cr(){return(cr=(0,h.Z)(function*(_){const p=Qi(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class ff{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Gs(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fs(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!fs(p)){const M=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(ye(this.auth,M))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eu(p))}saveEventToCache(p){this.cachedEventUids.add(eu(p)),this.lastProcessedEventTime=Date.now()}}function eu(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function fs({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===p?.code}function wr(_){return ps.apply(this,arguments)}function ps(){return(ps=(0,h.Z)(function*(_,p={}){return dt(_,"GET","/v1/projects",p)})).apply(this,arguments)}const Md=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yu=/^https?/;function Ws(){return(Ws=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield wr(_);for(const m of p)try{if(Qu(m))return}catch{}ve(_,"unauthorized-domain")})).apply(this,arguments)}function Qu(_){const p=ot(),{protocol:m,hostname:w}=new URL(p);if(_.startsWith("chrome-extension://")){const W=new URL(_);return""===W.hostname&&""===w?"chrome-extension:"===m&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&W.hostname===w}if(!Yu.test(m))return!1;if(Md.test(_))return w===_;const M=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const Ju=new pe(3e4,6e4);function Io(){const _=Ln().___jsl;if(_?.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Do=null;const oa=new pe(5e3,15e3),xd="__/auth/iframe",qs="emulator/auth/iframe",Vi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rd(_){const p=_.config;re(p.authDomain,_,"auth-domain-config-required");const m=p.emulator?_e(p,qs):`https://${_.config.authDomain}/${xd}`,w={apiKey:p.apiKey,appName:_.name,v:Z.SDK_VERSION},M=Nd.get(_.config.apiHost);M&&(w.eid=M);const R=_._getFrameworks();return R.length&&(w.fw=R.join(",")),`${m}?${(0,U.xO)(w).slice(1)}`}function Pd(){return Pd=(0,h.Z)(function*(_){const p=yield function sg(_){return Do=Do||function bt(_){return new Promise((p,m)=>{var w,M,R;function W(){Io(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Io(),m(ye(_,"network-request-failed"))},timeout:Ju.get()})}if(null!==(M=null===(w=Ln().gapi)||void 0===w?void 0:w.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Ln().gapi)||void 0===R||!R.load){const se=Sr("iframefcb");return Ln()[se]=()=>{gapi.load?W():m(ye(_,"network-request-failed"))},Qt(`https://apis.google.com/js/api.js?onload=${se}`).catch(Fe=>m(Fe))}W()}}).catch(p=>{throw Do=null,p})}(_),Do}(_),m=Ln().gapi;return re(m,_,"internal-error"),p.open({where:document.body,url:Rd(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vi,dontclear:!0},w=>new Promise(function(){var M=(0,h.Z)(function*(R,W){yield w.restyle({setHideOnLeave:!1});const se=ye(_,"network-request-failed"),Fe=Ln().setTimeout(()=>{W(se)},oa.get());function Ke(){Ln().clearTimeout(Fe),R(w)}w.ping(Ke).then(Ke,()=>{W(se)})});return function(R,W){return M.apply(this,arguments)}}()))}),Pd.apply(this,arguments)}const Mn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hn=500,tu=600,oc="_blank",Xu="http://localhost";class dr{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const C="__/auth/handler",S="emulator/auth/handler",P=encodeURIComponent("fac");function j(_,p,m,w,M,R){return q.apply(this,arguments)}function q(){return(q=(0,h.Z)(function*(_,p,m,w,M,R){re(_.config.authDomain,_,"auth-domain-config-required"),re(_.config.apiKey,_,"invalid-api-key");const W={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:w,v:Z.SDK_VERSION,eventId:M};if(p instanceof ao){p.setDefaultLanguage(_.languageCode),W.providerId=p.providerId||"",(0,U.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[vt,Bt]of Object.entries(R||{}))W[vt]=Bt}if(p instanceof xa){const vt=p.getScopes().filter(Bt=>""!==Bt);vt.length>0&&(W.scopes=vt.join(","))}_.tenantId&&(W.tid=_.tenantId);const se=W;for(const vt of Object.keys(se))void 0===se[vt]&&delete se[vt];const Fe=yield _._getAppCheckToken(),Ke=Fe?`#${P}=${encodeURIComponent(Fe)}`:"";return`${function Q({config:_}){return _.emulator?_e(_,S):`https://${_.authDomain}/${C}`}(_)}?${(0,U.xO)(se).slice(1)}${Ke}`})).apply(this,arguments)}const ze="webStorageSupport",rt=class Ge{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lr,this._completeRedirectFn=zs,this._overrideRedirectResult=Qa}_openPopup(p,m,w,M){var R=this;return(0,h.Z)(function*(){var W;Tt(null===(W=R.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const se=yield j(p,m,w,ot(),M);return function nu(_,p,m,w=Hn,M=tu){const R=Math.max((window.screen.availHeight-M)/2,0).toString(),W=Math.max((window.screen.availWidth-w)/2,0).toString();let se="";const Fe=Object.assign(Object.assign({},Mn),{width:w.toString(),height:M.toString(),top:R,left:W}),Ke=(0,U.z$)().toLowerCase();m&&(se=X(Ke)?oc:m),G(Ke)&&(p=p||Xu,Fe.scrollbars="yes");const vt=Object.entries(Fe).reduce((ti,[Co,aa])=>`${ti}${Co}=${aa},`,"");if(function Yt(_=(0,U.z$)()){var p;return mn(_)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Ke)&&"_self"!==se)return function E(_,p){const m=document.createElement("a");m.href=_,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",se),new dr(null);const Bt=window.open(p||"",se,vt);re(Bt,_,"popup-blocked");try{Bt.focus()}catch{}return new dr(Bt)}(p,se,Qi())})()}_openRedirect(p,m,w,M){var R=this;return(0,h.Z)(function*(){return yield R._originValidation(p),function Us(_){Ln().location.href=_}(yield j(p,m,w,ot(),M)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:M,promise:R}=this.eventManagers[m];return M?Promise.resolve(M):(Tt(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,h.Z)(function*(){const w=yield function gs(_){return Pd.apply(this,arguments)}(p),M=new ff(p);return w.register("authEvent",R=>(re(R?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:M},m.iframes[p._key()]=w,M})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(ze,{type:ze},M=>{var R;const W=null===(R=M?.[0])||void 0===R?void 0:R[ze];void 0!==W&&m(!!W),ve(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function sa(_){return Ws.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return _i()||ge()||mn()}};class xt{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return nt("unexpected MultiFactorSessionType")}}}class Dt extends xt{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Dt(p)}_finalizeEnroll(p,m,w){return function Jo(_,p){return dt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Te(_,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function vo(_,p){return dt(_,"POST","/v2/accounts/mfaSignIn:finalize",Te(_,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ei=(()=>{class _{constructor(){}static assertion(m){return Dt._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var Ir="@firebase/auth";class ys{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,U.Pz)("authIdTokenMaxAge"),function pf(_){(0,Z._registerComponent)(new ae.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),R=p.getProvider("app-check-internal"),{apiKey:W,authDomain:se}=w.options;re(W&&!W.includes(":"),"invalid-api-key",{appName:w.name});const Fe={apiKey:W,authDomain:se,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jo(_)},Ke=new Dn(w,M,R,Fe);return function Ca(_,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(Zn);p?.errorMap&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(w,p?.popupRedirectResolver)}(Ke,m),Ke},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,Z._registerComponent)(new ae.wA("auth-internal",p=>{const m=on(p.getProvider("auth").getImmediate());return new ys(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Z.registerVersion)(Ir,"0.23.2",function el(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,Z.registerVersion)(Ir,"0.23.2","esm2017")}("Browser")},2090:(Ct,Me,k)=>{k.d(Me,{$s:()=>Zn,BH:()=>be,L:()=>Ce,LL:()=>Tn,P0:()=>Ue,Pz:()=>ye,Sg:()=>je,UG:()=>nt,US:()=>ae,ZB:()=>Y,ZR:()=>dt,aH:()=>ve,b$:()=>Zt,eu:()=>We,hl:()=>Ie,jU:()=>Tt,m9:()=>li,ne:()=>Wt,pd:()=>Pi,r3:()=>qi,ru:()=>ot,tV:()=>H,uI:()=>re,vZ:()=>ht,w1:()=>Bo,xO:()=>ir,xb:()=>Da,z$:()=>Oe,zI:()=>ke,zd:()=>Wr});const oe=function(B){const L=[];let G=0;for(let ge=0;ge<B.length;ge++){let X=B.charCodeAt(ge);X<128?L[G++]=X:X<2048?(L[G++]=X>>6|192,L[G++]=63&X|128):55296==(64512&X)&&ge+1<B.length&&56320==(64512&B.charCodeAt(ge+1))?(X=65536+((1023&X)<<10)+(1023&B.charCodeAt(++ge)),L[G++]=X>>18|240,L[G++]=X>>12&63|128,L[G++]=X>>6&63|128,L[G++]=63&X|128):(L[G++]=X>>12|224,L[G++]=X>>6&63|128,L[G++]=63&X|128)}return L},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,L){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let X=0;X<B.length;X+=3){const Pe=B[X],St=X+1<B.length,rn=St?B[X+1]:0,jn=X+2<B.length,mn=jn?B[X+2]:0;let Or=(15&rn)<<2|mn>>6,_i=63&mn;jn||(_i=64,St||(Or=64)),ge.push(G[Pe>>2],G[(3&Pe)<<4|rn>>4],G[Or],G[_i])}return ge.join("")},encodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(B):this.encodeByteArray(oe(B),L)},decodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(B):function(B){const L=[];let G=0,ge=0;for(;G<B.length;){const X=B[G++];if(X<128)L[ge++]=String.fromCharCode(X);else if(X>191&&X<224){const Pe=B[G++];L[ge++]=String.fromCharCode((31&X)<<6|63&Pe)}else if(X>239&&X<365){const jn=((7&X)<<18|(63&B[G++])<<12|(63&B[G++])<<6|63&B[G++])-65536;L[ge++]=String.fromCharCode(55296+(jn>>10)),L[ge++]=String.fromCharCode(56320+(1023&jn))}else{const Pe=B[G++],St=B[G++];L[ge++]=String.fromCharCode((15&X)<<12|(63&Pe)<<6|63&St)}}return L.join("")}(this.decodeStringToByteArray(B,L))},decodeStringToByteArray(B,L){this.init_();const G=L?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let X=0;X<B.length;){const Pe=G[B.charAt(X++)],rn=X<B.length?G[B.charAt(X)]:0;++X;const mn=X<B.length?G[B.charAt(X)]:64;++X;const Yt=X<B.length?G[B.charAt(X)]:64;if(++X,null==Pe||null==rn||null==mn||null==Yt)throw new Le;ge.push(Pe<<2|rn>>4),64!==mn&&(ge.push(rn<<4&240|mn>>2),64!==Yt&&ge.push(mn<<6&192|Yt))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}};class Le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ce=function(B){return function(B){const L=oe(B);return ae.encodeByteArray(L,!0)}(B).replace(/\./g,"")},H=function(B){try{return ae.decodeString(B,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function Y(B,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return L}for(const G in L)!L.hasOwnProperty(G)||!$e(G)||(B[G]=Y(B[G],L[G]));return B}function $e(B){return"__proto__"!==B}const we=()=>{try{return function Ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if(typeof document>"u")return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=B&&H(B[1]);return L&&JSON.parse(L)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},Ue=B=>{const L=(B=>{var L,G;return null===(G=null===(L=we())||void 0===L?void 0:L.emulatorHosts)||void 0===G?void 0:G[B]})(B);if(!L)return;const G=L.lastIndexOf(":");if(G<=0||G+1===L.length)throw new Error(`Invalid host ${L} with no separate hostname and port!`);const ge=parseInt(L.substring(G+1),10);return"["===L[0]?[L.substring(1,G-1),ge]:[L.substring(0,G),ge]},ve=()=>{var B;return null===(B=we())||void 0===B?void 0:B.config},ye=B=>{var L;return null===(L=we())||void 0===L?void 0:L[`_${B}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,G)=>{this.resolve=L,this.reject=G})}wrapCallback(L){return(G,ge)=>{G?this.reject(G):this.resolve(ge),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(G):L(G,ge))}}}function je(B,L){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=L||"demo-project",X=B.iat||0,Pe=B.sub||B.user_id;if(!Pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const St=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:X,exp:X+3600,auth_time:X,sub:Pe,user_id:Pe,firebase:{sign_in_provider:"custom",identities:{}}},B);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(St)),""].join(".")}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function nt(){var B;const L=null===(B=we())||void 0===B?void 0:B.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Tt(){return"object"==typeof self&&self.self===self}function ot(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Bo(){const B=Oe();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Ie(){try{return"object"==typeof indexedDB}catch{return!1}}function We(){return new Promise((B,L)=>{try{let G=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(ge);X.onsuccess=()=>{X.result.close(),G||self.indexedDB.deleteDatabase(ge),B(!0)},X.onupgradeneeded=()=>{G=!1},X.onerror=()=>{var Pe;L((null===(Pe=X.error)||void 0===Pe?void 0:Pe.message)||"")}}catch(G){L(G)}})}function ke(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class dt extends Error{constructor(L,G,ge){super(G),this.code=L,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tn.prototype.create)}}class Tn{constructor(L,G,ge){this.service=L,this.serviceName=G,this.errors=ge}create(L,...G){const ge=G[0]||{},X=`${this.service}/${L}`,Pe=this.errors[L],St=Pe?function mt(B,L){return B.replace(_t,(G,ge)=>{const X=L[ge];return null!=X?String(X):`<${ge}?>`})}(Pe,ge):"Error";return new dt(X,`${this.serviceName}: ${St} (${X}).`,ge)}}const _t=/\{\$([^}]+)}/g;function qi(B,L){return Object.prototype.hasOwnProperty.call(B,L)}function Da(B){for(const L in B)if(Object.prototype.hasOwnProperty.call(B,L))return!1;return!0}function ht(B,L){if(B===L)return!0;const G=Object.keys(B),ge=Object.keys(L);for(const X of G){if(!ge.includes(X))return!1;const Pe=B[X],St=L[X];if(bs(Pe)&&bs(St)){if(!ht(Pe,St))return!1}else if(Pe!==St)return!1}for(const X of ge)if(!G.includes(X))return!1;return!0}function bs(B){return null!==B&&"object"==typeof B}function ir(B){const L=[];for(const[G,ge]of Object.entries(B))Array.isArray(ge)?ge.forEach(X=>{L.push(encodeURIComponent(G)+"="+encodeURIComponent(X))}):L.push(encodeURIComponent(G)+"="+encodeURIComponent(ge));return L.length?"&"+L.join("&"):""}function Wr(B){const L={};return B.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[X,Pe]=ge.split("=");L[decodeURIComponent(X)]=decodeURIComponent(Pe)}}),L}function Pi(B){const L=B.indexOf("?");if(!L)return"";const G=B.indexOf("#",L);return B.substring(L,G>0?G:void 0)}function Wt(B,L){const G=new ft(B,L);return G.subscribe.bind(G)}class ft{constructor(L,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{L(this)}).catch(ge=>{this.error(ge)})}next(L){this.forEachObserver(G=>{G.next(L)})}error(L){this.forEachObserver(G=>{G.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,G,ge){let X;if(void 0===L&&void 0===G&&void 0===ge)throw new Error("Missing Observer.");X=function mi(B,L){if("object"!=typeof B||null===B)return!1;for(const G of L)if(G in B&&"function"==typeof B[G])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:G,complete:ge},void 0===X.next&&(X.next=qr),void 0===X.error&&(X.error=qr),void 0===X.complete&&(X.complete=qr);const Pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),Pe}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,L)}sendOne(L,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{G(this.observers[L])}catch(ge){typeof console<"u"&&console.error&&console.error(ge)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qr(){}const tn=1e3,Pr=2,Bn=144e5,Kr=.5;function Zn(B,L=tn,G=Pr){const ge=L*Math.pow(G,B),X=Math.round(Kr*ge*(Math.random()-.5)*2);return Math.min(Bn,ge+X)}function li(B){return B&&B._delegate?B._delegate:B}},6235:(Ct,Me,k)=>{var h=k(4650);let U=null;function Z(){return U}class de{}const ae=new h.OlP("DocumentToken");let Le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ne(){return(0,h.LFG)(H)}()},providedIn:"platform"}),n})();const Ce=new h.OlP("Location Initialized");let H=(()=>{class n extends Le{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState(t){const r=Z().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Z().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){$()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){$()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Y(){return new H((0,h.LFG)(ae))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function $e(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ee(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let st=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(we)},providedIn:"root"}),n})();const fe=new h.OlP("appBaseHref");let we=(()=>{class n extends st{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $e(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+qe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+qe(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+qe(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Le),h.LFG(fe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Re=(()=>{class n extends st{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=$e(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+qe(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+qe(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Le),h.LFG(fe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function je(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ee(be(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qe(r))}normalize(t){return n.stripTrailingSlash(function ye(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=qe,n.joinWithSlash=$e,n.stripTrailingSlash=Ee,n.\u0275fac=function(t){return new(t||n)(h.LFG(st))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ve(){return new Ue((0,h.LFG)(st))}()},providedIn:"root"}),n})();function be(n){return n.replace(/\/index.html$/,"")}function Ss(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}let Ms=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ut,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ut{constructor(){this.$implicit=null,this.ngIf=null}}function bu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let oo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();let Su=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Xh((0,h.LFG)(ae),window)}),n})();class Xh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Al(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Os(this.window.history)||Os(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Os(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Jc{}class pd extends de{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Lu extends pd{static makeCurrent(){!function oe(n){U||(U=n)}(new Lu)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function La(){return Qo=Qo||document.querySelector("base"),Qo?Qo.getAttribute("href"):null}();return null==t?null:function ig(n){ds=ds||document.createElement("a"),ds.setAttribute("href",n);const e=ds.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ss(document.cookie,e)}}let ds,Qo=null;const nf=new h.OlP("TRANSITION_ID"),gd=[{provide:h.ip1,useFactory:function Vu(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=Z(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[nf,ae,h.zs3],multi:!0}];let Vl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Va=new h.OlP("EventManagerPlugins");let Uu=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Va),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Jo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Z().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let md=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let a=i.get(t)??0;return a+=r,a>0?i.set(t,a):i.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Vs=(()=>{class n extends md{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const fo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xo=/%COMP%/g,ja=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Bu(n,e){return e.flat(100).map(t=>t.replace(Xo,n))}function jl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Lr=(()=>{class n{constructor(t,r,i,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new yd(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof ju?i.applyToHost(t):i instanceof Us&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const l=this.eventManager,f=this.sharedStylesHost,y=this.removeStylesOnCompDestory;switch(r.encapsulation){case h.ifc.Emulated:a=new ju(l,f,r,this.appId,y);break;case h.ifc.ShadowDom:return new Ln(l,f,t,r);default:a=new Us(l,f,r,y)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Uu),h.LFG(Vs),h.LFG(h.AFp),h.LFG(ja))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class yd{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(fo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(vd(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(vd(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=fo[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=fo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,jl(r)):this.eventManager.addEventListener(e,t,jl(r))}}function vd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ln extends yd{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Bu(i.id,i.styles);for(const l of a){const f=document.createElement("style");f.textContent=l,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Us extends yd{constructor(e,t,r,i,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Bu(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ju extends Us{constructor(e,t,r,i,a){const l=i+"-"+r.id;super(e,t,r,a,l),this.contentAttr=function rf(n){return"_ngcontent-%COMP%".replace(Xo,n)}(l),this.hostAttr=function Bl(n){return"_nghost-%COMP%".replace(Xo,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let _d=(()=>{class n extends Jo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const $a=["alt","control","meta","shift"],Ed={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$u={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Jn=(()=>{class n extends Jo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Z().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),$a.forEach(I=>{const T=r.indexOf(I);T>-1&&(r.splice(T,1),l+=I+".")}),l+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=l,y}static matchEventFullKeyCode(t,r){let i=Ed[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),$a.forEach(l=>{l!==i&&(0,$u[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const af=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function na(){Lu.makeCurrent()},multi:!0},{provide:ae,useFactory:function zl(){return(0,h.RDi)(document),document},deps:[]}]),go=new h.OlP(""),Ha=[{provide:h.rWj,useClass:class hs{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const f=function(y){l=l||y,a--,0==a&&r(l)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Z().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],mo=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Hl(){return new h.qLn},deps:[]},{provide:Va,useClass:_d,multi:!0,deps:[ae,h.R0b,h.Lbi]},{provide:Va,useClass:Jn,multi:!0,deps:[ae]},{provide:Lr,useClass:Lr,deps:[Uu,Vs,h.AFp,ja]},{provide:h.FYo,useExisting:Lr},{provide:md,useExisting:Vs},{provide:Vs,useClass:Vs,deps:[ae]},{provide:Uu,useClass:Uu,deps:[Va,h.R0b]},{provide:Jc,useClass:Vl,deps:[]},[]];let yo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:nf,useExisting:h.AFp},gd]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(go,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...mo,...Ha],imports:[oo,h.hGG]}),n})(),uf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function vo(){return new uf((0,h.LFG)(ae))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Ga=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):h.LFG(qu),r},providedIn:"root"}),n})(),qu=(()=>{class n extends Ga{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case h.q3G.NONE:return r;case h.q3G.HTML:return(0,h.qzn)(r,"HTML")?(0,h.z3N)(r):(0,h.EiD)(this._doc,String(r)).toString();case h.q3G.STYLE:return(0,h.qzn)(r,"Style")?(0,h.z3N)(r):r;case h.q3G.SCRIPT:if((0,h.qzn)(r,"Script"))return(0,h.z3N)(r);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.qzn)(r,"URL")?(0,h.z3N)(r):(0,h.mCW)(String(r));case h.q3G.RESOURCE_URL:if((0,h.qzn)(r,"ResourceURL"))return(0,h.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${h.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${h.JZr})`)}}bypassSecurityTrustHtml(t){return(0,h.JVY)(t)}bypassSecurityTrustStyle(t){return(0,h.L6k)(t)}bypassSecurityTrustScript(t){return(0,h.eBb)(t)}bypassSecurityTrustUrl(t){return(0,h.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,h.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Wa(n){return new qu(n.get(ae))}(h.LFG(h.zs3)),r},providedIn:"root"}),n})();var fn=k(8996),Fi=k(7669);function lt(...n){const e=(0,Fi.yG)(n);return(0,fn.D)(n,e)}var lr=k(7579);class $n extends lr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const qa=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Vr=k(9751);const{isArray:Ql}=Array,{getPrototypeOf:Td,prototype:bi,keys:Hs}=Object;var Ka=k(4671),Mt=k(4004);const{isArray:Xl}=Array;var Jr=k(5403),Za=k(9672);function ec(...n){const e=(0,Fi.yG)(n),t=(0,Fi.jO)(n),{args:r,keys:i}=function Jl(n){if(1===n.length){const e=n[0];if(Ql(e))return{args:e,keys:null};if(function Eo(n){return n&&"object"==typeof n&&Td(n)===bi}(e)){const t=Hs(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,fn.D)([],e);const a=new Vr.y(function wo(n,e,t=Ka.y){return r=>{Ya(e,()=>{const{length:i}=n,a=new Array(i);let l=i,f=i;for(let y=0;y<i;y++)Ya(e,()=>{const I=(0,fn.D)(n[y],e);let T=!1;I.subscribe((0,Jr.x)(r,x=>{a[y]=x,T||(T=!0,f--),f||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>function Ku(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,l):Ka.y));return t?a.pipe(function Ti(n){return(0,Mt.U)(e=>function Sd(n,e){return Xl(e)?n(...e):n(e)}(n,e))}(t)):a}function Ya(n,e,t){n?(0,Za.f)(t,n,e):e()}var Qa=k(8189);function Zu(...n){return function df(){return(0,Qa.J)(1)}()((0,fn.D)(n,(0,Fi.yG)(n)))}var Ja=k(8421);function Ad(n){return new Vr.y(e=>{(0,Ja.Xf)(n()).subscribe(e)})}var tc=k(9635),nc=k(576);function Xa(n,e){const t=(0,nc.m)(n)?n:()=>n,r=i=>i.error(t());return new Vr.y(e?i=>e.schedule(r,0,i):r)}var xr=k(515),rc=k(727),Xr=k(4482);function ia(){return(0,Xr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Jr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class hf extends Vr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Xr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Jr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rc.w0.EMPTY)}return e}refCount(){return ia()(this)}}function vn(n,e){return(0,Xr.e)((t,r)=>{let i=null,a=0,l=!1;const f=()=>l&&!i&&r.complete();t.subscribe((0,Jr.x)(r,y=>{i?.unsubscribe();let I=0;const T=a++;(0,Ja.Xf)(n(y,T)).subscribe(i=(0,Jr.x)(r,x=>r.next(e?e(y,x,T,I++):x),()=>{i=null,f()}))},()=>{l=!0,f()}))})}function zs(n){return n<=0?()=>xr.E:(0,Xr.e)((e,t)=>{let r=0;e.subscribe((0,Jr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Li(n,e){return(0,Xr.e)((t,r)=>{let i=0;t.subscribe((0,Jr.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var cr=k(5577);function sc(n){return(0,Xr.e)((e,t)=>{let r=!1;e.subscribe((0,Jr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ff(n=eu){return(0,Xr.e)((e,t)=>{let r=!1;e.subscribe((0,Jr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function eu(){return new qa}function fs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Li((i,a)=>n(i,a,r)):Ka.y,zs(1),t?sc(e):ff(()=>new qa))}function Gs(n,e){return(0,nc.m)(e)?(0,cr.z)(n,e,1):(0,cr.z)(n,1)}var wr=k(8505);function ps(n){return(0,Xr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Jr.x)(t,void 0,void 0,l=>{a=(0,Ja.Xf)(n(l,ps(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Yu(n,e){return(0,Xr.e)(function Md(n,e,t,r,i){return(a,l)=>{let f=t,y=e,I=0;a.subscribe((0,Jr.x)(l,T=>{const x=I++;y=f?n(y,T,x):(f=!0,T),r&&l.next(y)},i&&(()=>{f&&l.next(y),l.complete()})))}}(n,e,arguments.length>=2,!0))}function sa(n){return n<=0?()=>xr.E:(0,Xr.e)((e,t)=>{let r=[];e.subscribe((0,Jr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ws(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Li((i,a)=>n(i,a,r)):Ka.y,sa(1),t?sc(e):ff(()=>new qa))}function Io(n){return(0,Xr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const bt="primary",Do=Symbol("RouteTitle");class sg{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function oa(n){return new sg(n)}function xd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],f=n[a];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Vi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Nd(n[i],e[i]))return!1;return!0}function Nd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Rd(n){return Array.prototype.concat.apply([],n)}function gs(n){return n.length>0?n[n.length-1]:null}function Mn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Hn(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,fn.D)(Promise.resolve(n)):lt(n)}const tu=!1,oc={exact:function E(n,e,t){if(!rt(n.segments,e.segments)||!j(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!E(n.children[r],e.children[r],t))return!1;return!0},subset:S},Xu={exact:function nu(n,e){return Vi(n,e)},subset:function C(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Nd(n[t],e[t]))},ignored:()=>!0};function dr(n,e,t){return oc[t.paths](n.root,e.root,t.matrixParams)&&Xu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function S(n,e,t){return P(n,e,e.segments,t)}function P(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!rt(i,t)||e.hasChildren()||!j(i,t,r))}if(n.segments.length===t.length){if(!rt(n.segments,t)||!j(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!S(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(rt(n.segments,i)&&j(n.segments,i,r)&&n.children[bt])&&P(n.children[bt],e,a,r)}}function j(n,e,t){return e.every((r,i)=>Xu[t](n[i].parameters,r.parameters))}class q{constructor(e=new Q([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oa(this.queryParams)),this._queryParamMap}toString(){return zn.serialize(this)}}class Q{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Mn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ms(this)}}class ze{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=oa(this.parameters)),this._parameterMap}toString(){return og(this)}}function rt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new ei},providedIn:"root"}),n})();class ei{parse(e){const t=new M(e);return new q(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ks(e.root,!0)}`,r=function ag(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ir(t)}=${Ir(i)}`).join("&"):`${Ir(t)}=${Ir(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ji(n){return encodeURI(n)}(e.fragment)}`:""}`}}const zn=new ei;function ms(n){return n.segments.map(e=>og(e)).join("/")}function Ks(n,e){if(!n.hasChildren())return ms(n);if(e){const t=n.children[bt]?Ks(n.children[bt],!1):"",r=[];return Mn(n.children,(i,a)=>{a!==bt&&r.push(`${a}:${Ks(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function xt(n,e){let t=[];return Mn(n.children,(r,i)=>{i===bt&&(t=t.concat(e(r,i)))}),Mn(n.children,(r,i)=>{i!==bt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===bt?[Ks(n.children[bt],!1)]:[`${i}:${Ks(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[bt]?`${ms(n)}/${t[0]}`:`${ms(n)}/(${t.join("//")})`}}function Ui(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ir(n){return Ui(n).replace(/%3B/gi,";")}function ys(n){return Ui(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function el(n){return decodeURIComponent(n)}function pf(n){return el(n.replace(/\+/g,"%20"))}function og(n){return`${ys(n.path)}${function gf(n){return Object.keys(n).map(e=>`;${ys(e)}=${ys(n[e])}`).join("")}(n.parameters)}`}const ly=/^[^\/()?;=#]+/;function mf(n){const e=n.match(ly);return e?e[0]:""}const _=/^[^=?&#]+/,m=/^[^&#]+/;class M{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[bt]=new Q(e,t)),r}parseSegment(){const e=mf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,tu);return this.capture(e),new ze(el(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=mf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=mf(this.remaining);i&&(r=i,this.capture(r))}e[el(t)]=el(r)}parseQueryParam(e){const t=function p(n){const e=n.match(_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function w(n){const e=n.match(m);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=pf(t),a=pf(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=mf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,tu);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=bt);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[bt]:new Q([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,tu)}}function R(n){return n.segments.length>0?new Q([],{[bt]:n}):n}function W(n){const e={};for(const r of Object.keys(n.children)){const a=W(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function se(n){if(1===n.numberOfChildren&&n.children[bt]){const e=n.children[bt];return new Q(n.segments.concat(e.segments),e.children)}return n}(new Q(n.segments,e))}function Fe(n){return n instanceof q}const Ke=!1;function Co(n,e,t,r,i){if(0===t.length)return vs(e.root,e.root,e.root,r,i);const a=function uc(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Od(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Mn(a.outlets,(y,I)=>{f[I]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Od(t,e,r)}(t);return a.toRoot()?vs(e.root,e.root,new Q([],{}),r,i):function l(y){const I=function Fd(n,e,t,r){if(n.isAbsolute)return new ua(e.root,!0,0);if(-1===r)return new ua(t,t===e.root,0);return function tl(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new h.vHH(4005,Ke&&"Invalid number of '../'");i=r.segments.length}return new ua(r,!1,i-a)}(t,r+(aa(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),T=I.processChildren?la(I.segmentGroup,I.index,a.commands):nl(I.segmentGroup,I.index,a.commands);return vs(e.root,I.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function aa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ac(n){return"object"==typeof n&&null!=n&&n.outlets}function vs(n,e,t,r,i){let l,a={};r&&Mn(r,(y,I)=>{a[I]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),l=n===e?t:yf(n,e,t);const f=R(W(l));return new q(f,a,i)}function yf(n,e,t){const r={};return Mn(n.children,(i,a)=>{r[a]=i===e?t:yf(i,e,t)}),new Q(n.segments,r)}class Od{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&aa(r[0]))throw new h.vHH(4003,Ke&&"Root segment cannot have matrix parameters");const i=r.find(ac);if(i&&i!==gs(r))throw new h.vHH(4004,Ke&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ua{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function nl(n,e,t){if(n||(n=new Q([],{})),0===n.segments.length&&n.hasChildren())return la(n,e,t);const r=function cy(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],f=t[r];if(ac(f))break;const y=`${f}`,I=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&I&&"object"==typeof I&&void 0===I.outlets){if(!dy(y,I,l))return a;r+=2}else{if(!dy(y,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Q(n.segments.slice(0,r.pathIndex),{});return a.children[bt]=new Q(n.segments.slice(r.pathIndex),n.children),la(a,0,i)}return r.match&&0===i.length?new Q(n.segments,{}):r.match&&!n.hasChildren()?vf(n,e,t):r.match?la(n,0,i):vf(n,e,t)}function la(n,e,t){if(0===t.length)return new Q(n.segments,{});{const r=function Ld(n){return ac(n[0])?n[0].outlets:{[bt]:n}}(t),i={};if(!r[bt]&&n.children[bt]&&1===n.numberOfChildren&&0===n.children[bt].segments.length){const a=la(n.children[bt],e,t);return new Q(n.segments,a.children)}return Mn(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=nl(n.children[l],e,a))}),Mn(n.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new Q(n.segments,i)}}function vf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(ac(a)){const y=_f(a.outlets);return new Q(r,y)}if(0===i&&aa(t[0])){r.push(new ze(n.segments[e].path,mE(t[0]))),i++;continue}const l=ac(a)?a.outlets[bt]:`${a}`,f=i<t.length-1?t[i+1]:null;l&&f&&aa(f)?(r.push(new ze(l,mE(f))),i+=2):(r.push(new ze(l,{})),i++)}return new Q(r,{})}function _f(n){const e={};return Mn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=vf(new Q([],{}),0,t))}),e}function mE(n){const e={};return Mn(n,(t,r)=>e[r]=`${t}`),e}function dy(n,e,t){return n==t.path&&Vi(e,t.parameters)}const Ef="imperative";class ca{constructor(e,t){this.id=e,this.url=t}}class hy extends ca{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rl extends ca{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wf extends ca{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lc extends ca{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class If extends ca{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vd extends ca{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XD extends ca{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eC extends ca{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class WM extends ca{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tC extends ca{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fy{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nC{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yE{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ug{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class py{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vE{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gy{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let rC=(()=>{class n{createUrlTree(t,r,i,a,l,f){return Co(t||r.root,i,a,l,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),sC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(e){return rC.\u0275fac(e)},providedIn:"root"}),n})();class EE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=my(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=my(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=bo(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bo(e,this._root).map(t=>t.value)}}function my(n,e){if(n===e.value)return e;for(const t of e.children){const r=my(n,t);if(r)return r}return null}function bo(n,e){if(n===e.value)return[e];for(const t of e.children){const r=bo(n,t);if(r.length)return r.unshift(e),r}return[]}class Xi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ud(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class wE extends EE{constructor(e,t){super(e),this.snapshot=t,yy(this,e)}toString(){return this.snapshot.toString()}}function IE(n,e){const t=function oC(n,e){const l=new lg([],{},{},"",{},bt,e,null,n.root,-1,{});return new bE("",new Xi(l,[]))}(n,e),r=new $n([new ze("",{})]),i=new $n({}),a=new $n({}),l=new $n({}),f=new $n(""),y=new Bd(r,i,l,f,a,bt,e,t.root);return y.snapshot=t.root,new wE(new Xi(y,[]),t)}class Bd{constructor(e,t,r,i,a,l,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.title=this.data?.pipe((0,Mt.U)(I=>I[Do]))??lt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mt.U)(e=>oa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mt.U)(e=>oa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function DE(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function CE(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class lg{get title(){return this.data?.[Do]}constructor(e,t,r,i,a,l,f,y,I,T,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.routeConfig=y,this._urlSegment=I,this._lastPathIndex=T,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=oa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bE extends EE{constructor(e,t){super(t),this.url=e,yy(this,t)}toString(){return TE(this._root)}}function yy(n,e){e.value._routerState=n,e.children.forEach(t=>yy(n,t))}function TE(n){const e=n.children.length>0?` { ${n.children.map(TE).join(", ")} } `:"";return`${n.value}${e}`}function jd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Vi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Vi(e.params,t.params)||n.params.next(t.params),function qs(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Vi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Vi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function To(n,e){const t=Vi(n.params,e.params)&&function Ge(n,e){return rt(n,e)&&n.every((t,r)=>Vi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||To(n.parent,e.parent))}function $d(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function SE(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return $d(n,r,i);return $d(n,r)})}(n,e,t);return new Xi(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>$d(n,f)),l}}const r=function AE(n){return new Bd(new $n(n.url),new $n(n.params),new $n(n.queryParams),new $n(n.fragment),new $n(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>$d(n,a));return new Xi(r,i)}}const ME="ngNavigationCancelingError";function aC(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Fe(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=uC(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function uC(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[ME]=!0,r.cancellationCode=e,t&&(r.url=t),r}function cg(n){return dg(n)&&Fe(n.url)}function dg(n){return n&&n[ME]}class qM{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new hg,this.attachRef=null}}let hg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new qM,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cf=!1;let xE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=bt,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(hg),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,Cf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,Cf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,Cf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,Cf);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new lC(t,f,i.injector);if(r&&function cC(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(l);this.activated=i.createComponent(I,i.length,y)}else this.activated=i.createComponent(l,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class lC{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Bd?this.route:e===hg?this.childContexts:this.parent.get(e,t)}}let vy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[xE],encapsulation:2}),n})();function _y(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function fg(n){const e=n.children&&n.children.map(fg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==bt&&(t.component=vy),t}function Zs(n){return n.outlet||bt}function OE(n,e){const t=n.filter(r=>Zs(r)===e);return t.push(...n.filter(r=>Zs(r)!==e)),t}function bf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class kE{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),jd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ud(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),Mn(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ud(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ud(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ud(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new vE(a.value.snapshot))}),e.children.length&&this.forwardEvent(new ug(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(jd(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),jd(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=bf(i.snapshot),y=f?.get(h._Vd)??null;l.attachRef=null,l.route=i,l.resolver=y,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class pC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wy{constructor(e,t){this.component=e,this.route=t}}function Tf(n,e,t){const r=n._root;return Hd(r,e?e._root:null,t,[r.value])}function dc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function Hd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ud(e);return n.children.forEach(l=>{(function FE(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const y=function gC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!rt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!rt(n.url,e.url)||!Vi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!To(n,e)||!Vi(n.queryParams,e.queryParams);default:return!To(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new pC(r)):(a.data=l.data,a._resolvedData=l._resolvedData),Hd(n,e,a.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new wy(f.outlet.component,l))}else l&&Sf(e,f,i),i.canActivateChecks.push(new pC(r)),Hd(n,null,a.component?f?f.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),Mn(a,(l,f)=>Sf(l,t.getContext(f),i)),i}function Sf(n,e,t){const r=Ud(n),i=n.value;Mn(r,(a,l)=>{Sf(a,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new wy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zd(n){return"function"==typeof n}function ru(n){return n instanceof qa||"EmptyError"===n?.name}const pg=Symbol("INITIAL_VALUE");function il(){return vn(n=>ec(n.map(e=>e.pipe(zs(1),function ic(...n){const e=(0,Fi.yG)(n);return(0,Xr.e)((t,r)=>{(e?Zu(n,t,e):Zu(n,t)).subscribe(r)})}(pg)))).pipe((0,Mt.U)(e=>{for(const t of e)if(!0!==t){if(t===pg)return pg;if(!1===t||t instanceof q)return t}return!0}),Li(e=>e!==pg),zs(1)))}function Ay(n){return(0,tc.z)((0,wr.b)(e=>{if(Fe(e))throw aC(0,e)}),(0,Mt.U)(e=>!0===e))}const My={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BE(n,e,t,r,i){const a=xy(n,e,t);return a.matched?function Gd(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?lt(i.map(l=>{const f=dc(l,n);return Hn(function by(n){return n&&zd(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(il(),Ay()):lt(!0)}(r=_y(e,r),e,t).pipe((0,Mt.U)(l=>!0===l?a:{...My})):lt(a)}function xy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...My}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||xd)(t,n,e);if(!i)return{...My};const a={};Mn(i.posParams,(f,y)=>{a[y]=f.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Wd(n,e,t,r){if(t.length>0&&function IC(n,e,t){return t.some(r=>Ny(n,e,r)&&Zs(r)!==bt)}(n,t,r)){const a=new Q(e,function jE(n,e,t,r){const i={};i[bt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Zs(a)!==bt){const l=new Q([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[Zs(a)]=l}return i}(n,e,r,new Q(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function $E(n,e,t){return t.some(r=>Ny(n,e,r))}(n,t,r)){const a=new Q(n.segments,function wC(n,e,t,r,i){const a={};for(const l of r)if(Ny(n,t,l)&&!i[Zs(l)]){const f=new Q([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[Zs(l)]=f}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new Q(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Ny(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function HE(n,e,t,r){return!!(Zs(n)===r||r!==bt&&Ny(e,t,n))&&("**"===n.path||xy(e,n,t).matched)}function qd(n,e,t){return 0===e.length&&!n.children[t]}const yg=!1;class iu{constructor(e){this.segmentGroup=e||null}}class Kd{constructor(e){this.urlTree=e}}function Af(n){return Xa(new iu(n))}function Ry(n){return Xa(new Kd(n))}class zE{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Wd(this.urlTree.root,[],[],this.config).segmentGroup,t=new Q(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,bt).pipe((0,Mt.U)(a=>this.createUrlTree(W(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ps(a=>{if(a instanceof Kd)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof iu?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,bt).pipe((0,Mt.U)(i=>this.createUrlTree(W(i),e.queryParams,e.fragment))).pipe(ps(i=>{throw i instanceof iu?this.noMatchError(i):i}))}noMatchError(e){return new h.vHH(4002,yg)}createUrlTree(e,t,r){const i=R(e);return new q(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Mt.U)(a=>new Q([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,fn.D)(i).pipe(Gs(a=>{const l=r.children[a],f=OE(t,a);return this.expandSegmentGroup(e,f,l,a).pipe((0,Mt.U)(y=>({segment:y,outlet:a})))}),Yu((a,l)=>(a[l.outlet]=l.segment,a),{}),Ws())}expandSegment(e,t,r,i,a,l){return(0,fn.D)(r).pipe(Gs(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,l).pipe(ps(I=>{if(I instanceof iu)return lt(null);throw I}))),fs(f=>!!f),ps((f,y)=>{if(ru(f))return qd(t,i,a)?lt(new Q([],{})):Af(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,l,f){return HE(i,t,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l):Af(t):Af(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ry(a):this.lineralizeSegments(r,a).pipe((0,cr.z)(l=>{const f=new Q(l,{});return this.expandSegment(e,f,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:f,consumedSegments:y,remainingSegments:I,positionalParamSegments:T}=xy(t,i,a);if(!f)return Af(t);const x=this.applyRedirectCommands(y,i.redirectTo,T);return i.redirectTo.startsWith("/")?Ry(x):this.lineralizeSegments(i,x).pipe((0,cr.z)(F=>this.expandSegment(e,t,r,F.concat(I),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=_y(r,e),r.loadChildren?(r._loadedRoutes?lt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Mt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Q(i,{})))):lt(new Q(i,{}))):BE(t,r,i,e).pipe(vn(({matched:l,consumedSegments:f,remainingSegments:y})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,cr.z)(T=>{const x=T.injector??e,F=T.routes,{segmentGroup:V,slicedSegments:K}=Wd(t,f,y,F),ne=new Q(V.segments,V.children);if(0===K.length&&ne.hasChildren())return this.expandChildren(x,F,ne).pipe((0,Mt.U)(it=>new Q(f,it)));if(0===F.length&&0===K.length)return lt(new Q(f,{}));const he=Zs(r)===a;return this.expandSegment(x,ne,F,K,he?bt:a,!0).pipe((0,Mt.U)(Xe=>new Q(f.concat(Xe.segments),Xe.children)))})):Af(t)))}getChildConfig(e,t,r){return t.children?lt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?lt({routes:t._loadedRoutes,injector:t._loadedInjector}):function EC(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?lt(!0):lt(i.map(l=>{const f=dc(l,n);return Hn(function Dy(n){return n&&zd(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(il(),Ay())}(e,t,r).pipe((0,cr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,wr.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function CC(n){return Xa(uC(yg,3))}())):lt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return lt(r);if(i.numberOfChildren>1||!i.children[bt])return e.redirectTo,Xa(new h.vHH(4e3,yg));i=i.children[bt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new q(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Mn(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return Mn(t.children,(f,y)=>{l[y]=this.createSegmentGroup(e,f,r,i)}),new Q(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,yg);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Py{}class Mf{constructor(e,t,r,i,a,l,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.urlSerializer=f}recognize(){const e=Wd(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,bt).pipe((0,Mt.U)(t=>{if(null===t)return null;const r=new lg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Xi(r,t),a=new bE(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=DE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,fn.D)(Object.keys(r.children)).pipe(Gs(i=>{const a=r.children[i],l=OE(t,i);return this.processSegmentGroup(e,l,a,i)}),Yu((i,a)=>i&&a?(i.push(...a),i):null),function Qu(n,e=!1){return(0,Xr.e)((t,r)=>{let i=0;t.subscribe((0,Jr.x)(r,a=>{const l=n(a,i++);(l||e)&&r.next(a),!l&&r.complete()}))})}(i=>null!==i),sc(null),Ws(),(0,Mt.U)(i=>{if(null===i)return null;const a=WE(i);return function SC(n){n.sort((e,t)=>e.value.outlet===bt?-1:t.value.outlet===bt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,fn.D)(t).pipe(Gs(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,a)),fs(l=>!!l),ps(l=>{if(ru(l))return qd(r,i,a)?lt([]):lt(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!HE(t,r,i,a))return lt(null);let l;if("**"===t.path){const f=i.length>0?gs(i).parameters:{},y=KE(r)+i.length;l=lt({snapshot:new lg(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,da(t),Zs(t),t.component??t._loadedComponent??null,t,qE(r),y,ZE(t)),consumedSegments:[],remainingSegments:[]})}else l=BE(r,t,i,e).pipe((0,Mt.U)(({matched:f,consumedSegments:y,remainingSegments:I,parameters:T})=>{if(!f)return null;const x=KE(r)+y.length;return{snapshot:new lg(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,da(t),Zs(t),t.component??t._loadedComponent??null,t,qE(r),x,ZE(t)),consumedSegments:y,remainingSegments:I}}));return l.pipe(vn(f=>{if(null===f)return lt(null);const{snapshot:y,consumedSegments:I,remainingSegments:T}=f;e=t._injector??e;const x=t._loadedInjector??e,F=function AC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:K}=Wd(r,I,T,F.filter(he=>void 0===he.redirectTo));if(0===K.length&&V.hasChildren())return this.processChildren(x,F,V).pipe((0,Mt.U)(he=>null===he?null:[new Xi(y,he)]));if(0===F.length&&0===K.length)return lt([new Xi(y,[])]);const ne=Zs(t)===a;return this.processSegment(x,F,V,K,ne?bt:a).pipe((0,Mt.U)(he=>null===he?null:[new Xi(y,he)]))}))}}function MC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function WE(n){const e=[],t=new Set;for(const r of n){if(!MC(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=WE(r.children);e.push(new Xi(r.value,i))}return e.filter(r=>!t.has(r))}function qE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function KE(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function da(n){return n.data||{}}function ZE(n){return n.resolve||{}}function ky(n){return"string"==typeof n.title||null===n.title}function Fy(n){return vn(e=>{const t=n(e);return t?(0,fn.D)(t).pipe((0,Mt.U)(()=>e)):lt(e)})}const Zd=new h.OlP("ROUTES");let Vy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return lt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Hn(t.loadComponent()).pipe((0,Mt.U)(JE),(0,wr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Io(()=>{this.componentLoaders.delete(t)})),i=new hf(r,()=>new lr.x).pipe(ia());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Mt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,I,T=!1;Array.isArray(f)?I=f:(y=f.create(t).injector,I=Rd(y.get(Zd,[],h.XFs.Self|h.XFs.Optional)));return{routes:I.map(fg),injector:y}}),Io(()=>{this.childrenLoaders.delete(r)})),l=new hf(a,()=>new lr.x).pipe(ia());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return Hn(t()).pipe((0,Mt.U)(JE),(0,cr.z)(r=>r instanceof h.YKP||Array.isArray(r)?lt(r):(0,fn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JE(n){return function So(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let _g=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new lr.x,this.configLoader=(0,h.f3M)(Vy),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(Dt),this.rootContexts=(0,h.f3M)(hg),this.navigationId=0,this.afterPreactivation=()=>lt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new nC(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new fy(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new $n({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ef,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Li(r=>0!==r.id),(0,Mt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),vn(r=>{let i=!1,a=!1;return lt(r).pipe((0,wr.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vn(l=>{const f=t.browserUrlTree.toString(),y=!t.navigated||l.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!y&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new lc(l.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),xr.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return XE(l.source)&&(t.browserUrlTree=l.extractedUrl),lt(l).pipe(vn(T=>{const x=this.transitions?.getValue();return this.events.next(new hy(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),x!==this.transitions?.getValue()?xr.E:Promise.resolve(T)}),function GE(n,e,t,r){return vn(i=>function bC(n,e,t,r,i){return new zE(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Mt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,wr.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function NC(n,e,t,r,i){return(0,cr.z)(a=>function Oy(n,e,t,r,i,a,l="emptyOnly"){return new Mf(n,e,t,r,i,l,a).recognize().pipe(vn(f=>null===f?function TC(n){return new Vr.y(e=>e.error(n))}(new Py):lt(f)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,Mt.U)(l=>({...a,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,wr.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const F=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(F,T)}t.browserUrlTree=T.urlAfterRedirects}const x=new Vd(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(x)}));if(y&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:x,source:F,restoredState:V,extras:K}=l,ne=new hy(T,this.urlSerializer.serialize(x),F,V);this.events.next(ne);const he=IE(x,this.rootComponentType).snapshot;return lt(r={...l,targetSnapshot:he,urlAfterRedirects:x,extras:{...K,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new lc(l.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),xr.E}}),(0,wr.b)(l=>{const f=new XD(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),(0,Mt.U)(l=>r={...l,guards:Tf(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function gg(n,e){return(0,cr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?lt({...t,guardsResult:!0}):function vC(n,e,t,r){return(0,fn.D)(n).pipe((0,cr.z)(i=>function _C(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?lt(a.map(f=>{const y=bf(e)??i,I=dc(f,y);return Hn(function mC(n){return n&&zd(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,r):y.runInContext(()=>I(n,e,t,r))).pipe(fs())})).pipe(il()):lt(!0)}(i.component,i.route,t,e,r)),fs(i=>!0!==i,!0))}(l,r,i,n).pipe((0,cr.z)(f=>f&&function LE(n){return"boolean"==typeof n}(f)?function Ty(n,e,t,r){return(0,fn.D)(e).pipe(Gs(i=>Zu(function hc(n,e){return null!==n&&e&&e(new yE(n)),lt(!0)}(i.route.parent,r),function mg(n,e){return null!==n&&e&&e(new py(n)),lt(!0)}(i.route,r),function Sy(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function Iy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Ad(()=>lt(l.guards.map(y=>{const I=bf(l.node)??t,T=dc(y,I);return Hn(function Cy(n){return n&&zd(n.canActivateChild)}(T)?T.canActivateChild(r,n):I.runInContext(()=>T(r,n))).pipe(fs())})).pipe(il())));return lt(a).pipe(il())}(n,i.path,t),function UE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return lt(!0);const i=r.map(a=>Ad(()=>{const l=bf(e)??t,f=dc(a,l);return Hn(function ZM(n){return n&&zd(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(fs())}));return lt(i).pipe(il())}(n,i.route,t))),fs(i=>!0!==i,!0))}(r,a,n,e):lt(f)),(0,Mt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,l=>this.events.next(l)),(0,wr.b)(l=>{if(r.guardsResult=l.guardsResult,Fe(l.guardsResult))throw aC(0,l.guardsResult);const f=new eC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Li(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Fy(l=>{if(l.guards.canActivateChecks.length)return lt(l).pipe((0,wr.b)(f=>{const y=new WM(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}),vn(f=>{let y=!1;return lt(f).pipe(function YM(n,e){return(0,cr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return lt(t);let a=0;return(0,fn.D)(i).pipe(Gs(l=>function QM(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!ky(i)&&(a[Do]=i.title),function YE(n,e,t,r){const i=function JM(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return lt({});const a={};return(0,fn.D)(i).pipe((0,cr.z)(l=>function QE(n,e,t,r){const i=bf(e)??r,a=dc(n,i);return Hn(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(fs(),(0,wr.b)(f=>{a[l]=f}))),sa(1),function Ju(n){return(0,Mt.U)(()=>n)}(a),ps(l=>ru(l)?xr.E:Xa(l)))}(a,n,e,r).pipe((0,Mt.U)(l=>(n._resolvedData=l,n.data=DE(n,t).resolve,i&&ky(i)&&(n.data[Do]=i.title),null)))}(l.route,r,n,e)),(0,wr.b)(()=>a++),sa(1),(0,cr.z)(l=>a===i.length?lt(t):xr.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,wr.b)({next:()=>y=!0,complete:()=>{y||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,wr.b)(f=>{const y=new tC(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}))}),Fy(l=>{const f=y=>{const I=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,wr.b)(T=>{y.component=T}),(0,Mt.U)(()=>{})));for(const T of y.children)I.push(...f(T));return I};return ec(f(l.targetSnapshot.root)).pipe(sc(),zs(1))}),Fy(()=>this.afterPreactivation()),(0,Mt.U)(l=>{const f=function Df(n,e,t){const r=$d(n,e._root,t?t._root:void 0);return new wE(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:f}}),(0,wr.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,Mt.U)(r=>(new kE(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),zs(1),(0,wr.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new rl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),Io(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ps(l=>{if(a=!0,dg(l)){cg(l)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new wf(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(f),cg(l)){const y=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||XE(r.source)};t.scheduleNavigation(y,Ef,null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new If(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(l))}catch(y){r.reject(y)}}return xr.E}))}))}cancelNavigationTransition(t,r,i){const a=new wf(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XE(n){return n!==Ef}let e0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===bt);return r}getResolvedTitleForRoute(t){return t.data[Do]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(RC)},providedIn:"root"}),n})(),RC=(()=>{class n extends e0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(uf))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(OC)},providedIn:"root"}),n})();class PC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let OC=(()=>{class n extends PC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lt=new h.OlP("",{providedIn:"root",factory:()=>({})});let n0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(r0)},providedIn:"root"}),n})(),r0=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FC(n){throw n}function LC(n,e,t){return e.parse("/")}const s0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(Lt,{optional:!0})||{},this.errorHandler=this.options.errorHandler||FC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||LC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(n0),this.routeReuseStrategy=(0,h.f3M)(t0),this.urlCreationStrategy=(0,h.f3M)(sC),this.titleStrategy=(0,h.f3M)(e0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Rd((0,h.f3M)(Zd,{optional:!0})??[]),this.navigationTransitions=(0,h.f3M)(_g),this.urlSerializer=(0,h.f3M)(Dt),this.location=(0,h.f3M)(Ue),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new q,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=IE(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ef,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const y={...i};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(a.state=y)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(fg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:f,preserveFragment:y}=r,I=y?this.currentUrlTree.fragment:l;let T=null;switch(f){case"merge":T={...this.currentUrlTree.queryParams,...a};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=a||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,T,I??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Fe(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Ef,null,r)}navigate(t,r={skipLocationChange:!1}){return function UC(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new h.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...s0}:!1===r?{...VC}:r,Fe(t))return dr(this.currentUrlTree,t,i);const a=this.parseUrl(t);return dr(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let f,y,I,T;return l?(f=l.resolve,y=l.reject,I=l.promise):I=new Promise((x,F)=>{f=x,y=F}),T="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:y,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class By{}let jy=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Li(t=>t instanceof rl),Gs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,h.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,f=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,fn.D)(i).pipe((0,Qa.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):lt(null);const a=i.pipe((0,cr.z)(l=>null===l?lt(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,fn.D)([a,l]).pipe((0,Qa.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Bi),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(By),h.LFG(Vy))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rf=new h.OlP("");let a0=(()=>{class n{constructor(t,r,i,a,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof hy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();var Ys=(()=>((Ys=Ys||{})[Ys.COMPLETE=0]="COMPLETE",Ys[Ys.FAILED=1]="FAILED",Ys[Ys.REDIRECTING=2]="REDIRECTING",Ys))();const Pf=!1;function fc(n,e){return{\u0275kind:n,\u0275providers:e}}const Hy=new h.OlP("",{providedIn:"root",factory:()=>!1});function Of(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Bi),i=n.get(u0);1===n.get(wg)&&r.initialNavigation(),n.get(l0,null,h.XFs.Optional)?.setUpPreloading(),n.get(Rf,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const u0=new h.OlP(Pf?"bootstrap done indicator":"",{factory:()=>new lr.x}),wg=new h.OlP(Pf?"initial navigation":"",{providedIn:"root",factory:()=>1});function HC(){let n=[];return n=Pf?[{provide:h.Xts,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Bi);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function _E(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],fc(1,n)}const l0=new h.OlP(Pf?"router preloader":"");function zC(n){return fc(0,[{provide:l0,useExisting:jy},{provide:By,useExisting:n}])}const Jd=!1,qC=new h.OlP(Jd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),zy=[Ue,{provide:Dt,useClass:ei},Bi,hg,{provide:Bd,useFactory:function $y(n){return n.routerState.root},deps:[Bi]},Vy,Jd?{provide:Hy,useValue:!0}:[]];function KC(){return new h.PXZ("Router",Bi)}let ZC=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[zy,Jd&&r?.enableTracing?HC().\u0275providers:[],{provide:Zd,multi:!0,useValue:t},{provide:qC,useFactory:h0,deps:[[Bi,new h.FiY,new h.tp0]]},{provide:Lt,useValue:r||{}},r?.useHash?{provide:st,useClass:Re}:{provide:st,useClass:we},{provide:Rf,useFactory:()=>{const n=(0,h.f3M)(Su),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(Lt),r=(0,h.f3M)(_g),i=(0,h.f3M)(Dt);return t.scrollOffset&&n.setOffset(t.scrollOffset),new a0(i,r,n,e,t)}},r?.preloadingStrategy?zC(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:KC},r?.initialNavigation?QC(r):[],[{provide:f0,useFactory:Of},{provide:h.tb,multi:!0,useExisting:f0}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Zd,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(qC,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[vy]}),n})();function h0(n){if(Jd&&n)throw new h.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function QC(n){return["disabled"===n.initialNavigation?fc(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Bi);return()=>{e.setUpLocationChangeListener()}}},{provide:wg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?fc(2,[{provide:wg,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(Ce,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Bi),a=e.get(u0);(function tx(n,e){n.events.pipe(Li(t=>t instanceof rl||t instanceof wf||t instanceof If||t instanceof lc),(0,Mt.U)(t=>t instanceof rl||t instanceof lc?Ys.COMPLETE:t instanceof wf&&(0===t.code||1===t.code)?Ys.REDIRECTING:Ys.FAILED),Li(t=>t!==Ys.REDIRECTING),zs(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(_g).afterPreactivation=()=>(r(!0),a.closed?lt(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const f0=new h.OlP(Jd?"Router Initializer":""),Gy=[];let Ff=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ZC.forRoot(Gy),ZC]}),n})();var et=k(5861),Qs=(()=>{return(n=Qs||(Qs={}))[n.igual=0]="igual",n[n.distinto=1]="distinto",n[n.mayor=2]="mayor",n[n.mayorOIgual=3]="mayorOIgual",n[n.menor=4]="menor",n[n.menorOIgual=5]="menorOIgual",Qs;var n})(),xn=k(1157),su=k(259);class sl{constructor(e){return e}}class Dg{constructor(){return(0,su.C6)()}}const qy=new h.OlP("angularfire2._apps"),XC={provide:sl,useFactory:function Wy(n){return n&&1===n.length?n[0]:new sl((0,su.Mq)())},deps:[[new h.FiY,qy]]},p0={provide:Dg,deps:[[new h.FiY,qy]]};function eb(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new sl(r)}}let g0=(()=>{class n{constructor(t){(0,su.KN)("angularfire",xn.q4.full,"core"),(0,su.KN)("angularfire",xn.q4.full,"app"),(0,su.KN)("angular",h.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[XC,p0]}),n})();function m0(n,...e){return{ngModule:g0,providers:[{provide:qy,useFactory:eb(n),multi:!0,deps:[h.R0b,h.zs3,xn.HU,...e]}]}}const tb=(0,xn.u3)(su.ZF,!0);k(1389);var ni=k(2090),ou=k(6881),pc=k(1877),Cg=k(4859);class bg{constructor(){return(0,xn.vb)("auth")}}const C0=new Map,Lf={activated:!1,tokenObservers:[]},mb={initialized:!1,enabled:!1};function hr(n){return C0.get(n)||Object.assign({},Lf)}function Ag(){return mb}const Xs="https://content-firebaseappcheck.googleapis.com/v1",gc="exchangeDebugToken",Uf={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class rv{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,et.Z)(function*(){t.stop();try{t.pending=new ni.BH,yield function eh(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ni.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const fr=new ni.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cu(n,e){return ll.apply(this,arguments)}function ll(){return(ll=(0,et.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,a)}catch(x){throw fr.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==l.status)throw fr.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(x){throw fr.create("fetch-parse-error",{originalErrorMessage:x?.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const I=1e3*Number(y[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+I,issuedAtTimeMillis:T}})).apply(this,arguments)}const S0="firebase-app-check-database",A0=1,nh="firebase-app-check-store";let Bf=null;function x0(n,e){return jf.apply(this,arguments)}function jf(){return(jf=(0,et.Z)(function*(n,e){const r=(yield function ov(){return Bf||(Bf=new Promise((n,e)=>{try{const t=indexedDB.open(S0,A0);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(fr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(nh,{keyPath:"compositeKey"})}}catch(t){e(fr.create("storage-open",{originalErrorMessage:t?.message}))}}),Bf)}()).transaction(nh,"readwrite"),a=r.objectStore(nh).put({compositeKey:n,value:e});return new Promise((l,f)=>{a.onsuccess=y=>{l()},r.onerror=y=>{var I;f(fr.create("storage-set",{originalErrorMessage:null===(I=y.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const cl=new pc.Yd("@firebase/app-check");function rh(n,e){return(0,ni.hl)()?function vb(n,e){return x0(function $f(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{cl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Hf(){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,et.Z)(function*(){const n=Ag();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const cv={error:"UNKNOWN_ERROR"};function R0(n){return ni.US.encodeString(JSON.stringify(n),!1)}function Og(n){return kg.apply(this,arguments)}function kg(){return(kg=(0,et.Z)(function*(n,e=!1){const t=n.app;!function al(n){if(!hr(n).activated)throw fr.create("use-before-activation",{appName:n.name})}(t);const r=hr(t);let a,i=r.token;if(i&&!dl(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(dl(y)?i=y:yield rh(t,void 0))}if(!e&&i&&dl(i))return{token:i.token};let f,l=!1;if(function Rg(){return Ag().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=cu(function iv(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Xs}/projects/${t}/apps/${r}:${gc}?key=${i}`,body:{debug_token:e}}}(t,yield Hf()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const y=yield r.exchangeTokenPromise;return yield rh(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield hr(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?cl.warn(y.message):cl.error(y),a=y}return i?a?f=dl(i)?{token:i.token,internalError:a}:fv(a):(f={token:i.token},r.token=i,yield rh(t,i)):f=fv(a),l&&function hv(n,e){const t=hr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f})).apply(this,arguments)}function dv(n,e){const t=hr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function O0(n){const{app:e}=n,t=hr(e);let r=t.tokenRefresher;r||(r=function Eb(n){const{app:e}=n;return new rv((0,et.Z)(function*(){let r;if(r=hr(e).token?yield Og(n,!0):yield Og(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=hr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Uf.RETRIAL_MIN_WAIT,Uf.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function dl(n){return n.expireTimeMillis-Date.now()>0}function fv(n){return{token:R0(cv),error:n}}class k0{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hr(this.app);for(const t of e)dv(this.app,t.next);return Promise.resolve()}}const vv="app-check-internal";!function ih(){(0,ou._registerComponent)(new Cg.wA("app-check",n=>function F0(n,e){return new k0(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(vv).initialize()})),(0,ou._registerComponent)(new Cg.wA(vv,n=>function L0(n){return{getToken:e=>Og(n,e),addTokenListener:e=>function Lg(n,e,t,r){const{app:i}=n,a=hr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&dl(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),O0(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>O0(n))}(n,"INTERNAL",e),removeTokenListener:e=>dv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ou.registerVersion)("@firebase/app-check","0.7.0")}();class jg{constructor(){return(0,xn.vb)("app-check")}}typeof window<"u"&&window;var tt,xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mo={},mc=mc||{},zt=xb||self;function zf(){}function Hg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Gf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var zg="closure_uid_"+(1e9*Math.random()>>>0),Gg=0;function Nb(n,e,t){return n.call.apply(n.bind,arguments)}function Z0(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function di(n,e,t){return(di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Nb:Z0).apply(null,arguments)}function Wf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Dr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function fu(){this.s=this.s,this.o=this.o}fu.prototype.s=!1,fu.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function K0(n){Object.prototype.hasOwnProperty.call(n,zg)&&n[zg]||(n[zg]=++Gg)}(this)},fu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Wg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Iv(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Hg(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function hi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}hi.prototype.h=function(){this.defaultPrevented=!0};var Q0=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",zf,e),zt.removeEventListener("test",zf,e)}catch{}return n}();function qf(n){return/^[\s\xa0]*$/.test(n)}var J0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Dv(n,e){return n<e?-1:n>e?1:0}function qg(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function pa(n){return-1!=qg().indexOf(n)}function Cv(n){return Cv[" "](n),n}function X0(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Cv[" "]=zf;var Kg,n,Rb=pa("Opera"),sh=pa("Trident")||pa("MSIE"),ew=pa("Edge"),bv=ew||sh,tw=pa("Gecko")&&!(-1!=qg().toLowerCase().indexOf("webkit")&&!pa("Edge"))&&!(pa("Trident")||pa("MSIE"))&&!pa("Edge"),Pb=-1!=qg().toLowerCase().indexOf("webkit")&&!pa("Edge");function nw(){var n=zt.document;return n?n.documentMode:void 0}e:{var Tv="",Sv=(n=qg(),tw?/rv:([^\);]+)(\)|;)/.exec(n):ew?/Edge\/([\d\.]+)/.exec(n):sh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Pb?/WebKit\/(\S+)/.exec(n):Rb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Sv&&(Tv=Sv?Sv[1]:""),sh){var Av=nw();if(null!=Av&&Av>parseFloat(Tv)){Kg=String(Av);break e}}Kg=Tv}var Ob={},iw=zt.document&&sh&&(nw()||parseInt(Kg,10))||void 0;function oh(n,e){if(hi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(tw){e:{try{Cv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:sw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&oh.$.h.call(this)}}Dr(oh,hi);var sw={2:"touch",3:"pen",4:"mouse"};oh.prototype.h=function(){oh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ah="closure_listenable_"+(1e6*Math.random()|0),ow=0;function aw(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++ow,this.fa=this.ia=!1}function Kf(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Zf(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function fl(n){const e={};for(const t in n)e[t]=n[t];return e}const uw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lw(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<uw.length;a++)t=uw[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function pu(n){this.src=n,this.g={},this.h=0}function cw(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=wv(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Kf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Yf(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}pu.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=Yf(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new aw(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var dw="closure_lm_"+(1e6*Math.random()|0),Yg={};function xv(n,e,t,r,i){if(r&&r.once)return hw(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)xv(n,e[a],t,r,i);return null}return t=Gn(t),n&&n[ah]?n.O(e,t,Gf(r)?!!r.capture:!!r,i):kb(n,e,t,!1,r,i)}function kb(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=Gf(i)?!!i.capture:!!i,f=uh(n);if(f||(n[dw]=f=new pu(n)),(t=f.add(e,t,r,l,a)).proxy)return t;if(r=function Nt(){const e=Fb;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Q0||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(yc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hw(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)hw(n,e[a],t,r,i);return null}return t=Gn(t),n&&n[ah]?n.P(e,t,Gf(r)?!!r.capture:!!r,i):kb(n,e,t,!0,r,i)}function fw(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)fw(n,e[a],t,r,i);else r=Gf(r)?!!r.capture:!!r,t=Gn(t),n&&n[ah]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Yf(a=n.g[e],t,r,i))&&(Kf(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=uh(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Yf(e,t,r,i)),(t=-1<n?e[n]:null)&&Nv(t))}function Nv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ah])cw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(yc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=uh(e))?(cw(t,n),0==t.h&&(t.src=null,e[dw]=null)):Kf(n)}}}function yc(n){return n in Yg?Yg[n]:Yg[n]="on"+n}function Fb(n,e){if(n.fa)n=!0;else{e=new oh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Nv(n),n=t.call(r,e)}return n}function uh(n){return(n=n[dw])instanceof pu?n:null}var lh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gn(n){return"function"==typeof n?n:(n[lh]||(n[lh]=function(e){return n.handleEvent(e)}),n[lh])}function fi(){fu.call(this),this.i=new pu(this),this.S=this,this.J=null}function ri(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new hi(e,n);else if(e instanceof hi)e.target=e.target||n;else{var i=e;lw(e=new hi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=Qf(l,r,!0,e)&&i}if(i=Qf(l=e.g=n,r,!0,e)&&i,i=Qf(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Qf(l=e.g=t[a],r,!1,e)&&i}function Qf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var f=l.listener,y=l.la||l.src;l.ia&&cw(n.i,l),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}Dr(fi,fu),fi.prototype[ah]=!0,fi.prototype.removeEventListener=function(n,e,t,r){fw(this,n,e,t,r)},fi.prototype.N=function(){if(fi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Kf(t[r]);delete n.g[e],n.h--}}this.J=null},fi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},fi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Rv=zt.JSON.stringify;function pw(){var n=vw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ov,Pv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new mw,n=>n.reset());class mw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Lb(n){zt.setTimeout(()=>{throw n},0)}function yw(n,e){Ov||function Jf(){var n=zt.Promise.resolve(void 0);Ov=function(){n.then(Vb)}}(),kv||(Ov(),kv=!0),vw.add(n,e)}var kv=!1,vw=new class gw{constructor(){this.h=this.g=null}add(e,t){const r=Pv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Vb(){for(var n;n=pw();){try{n.h.call(n.g)}catch(t){Lb(t)}var e=Pv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}kv=!1}function vc(n,e){fi.call(this),this.h=n||1,this.g=e||zt,this.j=di(this.qb,this),this.l=Date.now()}function Qg(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Jg(n,e,t){if("function"==typeof n)t&&(n=di(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=di(n.handleEvent,n)}return 2147483647<Number(e)?-1:zt.setTimeout(n,e||0)}function Fv(n){n.g=Jg(()=>{n.g=null,n.i&&(n.i=!1,Fv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Dr(vc,fi),(tt=vc.prototype).ga=!1,tt.T=null,tt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ri(this,"tick"),this.ga&&(Qg(this),this.start()))}},tt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.N=function(){vc.$.N.call(this),Qg(this),delete this.g};class Ub extends fu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fv(this)}N(){super.N(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gu(n){fu.call(this),this.h=n,this.g={}}Dr(gu,fu);var ch=[];function _w(n,e,t,r){Array.isArray(t)||(t&&(ch[0]=t.toString()),t=ch);for(var i=0;i<t.length;i++){var a=xv(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Ew(n){Zf(n.g,function(e,t){this.g.hasOwnProperty(t)&&Nv(e)},n),n.g={}}function Xg(){this.g=!0}function _c(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Dw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return Rv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}gu.prototype.N=function(){gu.$.N.call(this),Ew(this)},gu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xg.prototype.Ea=function(){this.g=!1},Xg.prototype.info=function(){};var Ec={},Cw=null;function Lv(){return Cw=Cw||new fi}function jb(n){hi.call(this,Ec.Ta,n)}function em(n){const e=Lv();ri(e,new jb(e))}function $b(n,e){hi.call(this,Ec.STAT_EVENT,n),this.stat=e}function Ai(n){const e=Lv();ri(e,new $b(e,n))}function Xf(n,e){hi.call(this,Ec.Ua,n),this.size=e}function ep(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},e)}Ec.Ta="serverreachability",Dr(jb,hi),Ec.STAT_EVENT="statevent",Dr($b,hi),Ec.Ua="timingevent",Dr(Xf,hi);var tm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Vv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wc(){}function Tw(){}wc.prototype.h=null;var Bv,tp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Uv(){hi.call(this,"d")}function Sw(){hi.call(this,"c")}function np(){}function rp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new gu(this),this.P=ip,this.V=new vc(n=bv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Aw}function Aw(){this.i=null,this.g="",this.h=!1}Dr(Uv,hi),Dr(Sw,hi),Dr(np,wc),np.prototype.g=function(){return new XMLHttpRequest},np.prototype.i=function(){return{}},Bv=new np;var ip=45e3,jv={},sp={};function $v(n,e,t){n.L=1,n.v=im(mu(e)),n.s=t,n.S=!0,Hv(n,null)}function Hv(n,e){n.G=Date.now(),Ic(n),n.A=mu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),kw(t.i,"t",r),n.C=0,t=n.l.I,n.h=new Aw,n.g=hm(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Ub(di(n.Pa,n,n.g),n.O)),_w(n.U,n.g,"readystatechange",n.nb),e=n.I?fl(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),em(),function ww(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",f=a.split("&"),y=0;y<f.length;y++){var I=f[y].split("=");if(1<I.length){var T=I[0];I=I[1];var x=T.split("_");l=2<=x.length&&"type"==x[1]?l+(T+"=")+I+"&":l+(T+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Mw(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function zv(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=Hb(n,t),i==sp){4==e&&(n.o=4,Ai(14),r=!1),_c(n.j,n.m,null,"[Incomplete Response]");break}if(i==jv){n.o=4,Ai(15),_c(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}_c(n.j,n.m,i,null),Gv(n,i)}Mw(n)&&i!=sp&&i!=jv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ai(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Yw(e),e.L=!0,Ai(11))):(_c(n.j,n.m,t,"[Invalid Chunked Response]"),Dc(n),dh(n))}function Hb(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?sp:(t=Number(e.substring(t,r)),isNaN(t)?jv:(r+=1)+t>e.length?sp:(e=e.substr(r,t),n.C=r+t,e))}function Ic(n){n.Y=Date.now()+n.P,xw(n,n.P)}function xw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ep(di(n.lb,n),e)}function op(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function dh(n){0==n.l.H||n.J||Jw(n.l,n)}function Dc(n){op(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Qg(n.V),Ew(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function Gv(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Lw(t.h,n)))if(!n.K&&Lw(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;dm(t),cm(t)}r_(t),Ai(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=ep(di(t.ib,t),6e3));if(1>=Fw(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Tc(t,11)}else if((n.K||t.g==n)&&dm(t),!qf(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let I=i[e];if(t.V=I[0],I=I[1],2==t.H)if("c"==I[0]){t.J=I[1],t.oa=I[2];const T=I[3];null!=T&&(t.qa=T,t.j.info("VER="+t.qa));const x=I[4];null!=x&&(t.Ga=x,t.j.info("SVER="+t.Ga));const F=I[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const K=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var a=r.h;a.g||-1==K.indexOf("spdy")&&-1==K.indexOf("quic")&&-1==K.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(om(a,a.h),a.h=null))}if(r.F){const ne=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(r.Da=ne,Wn(r.G,r.F,ne))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=eI(r,r.I?r.oa:null,r.Y),l.K){am(r.h,l);var f=l,y=r.K;y&&f.setTimeout(y),f.B&&(op(f),Ic(f)),r.g=l}else Zw(r);0<t.i.length&&fp(t)}else"stop"!=I[0]&&"close"!=I[0]||Tc(t,7);else 3==t.H&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?Tc(t,7):e_(t):"noop"!=I[0]&&t.l&&t.l.Aa(I),t.A=0)}em()}catch{}}function Nw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Hg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Wv(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Hg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function zb(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Hg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(tt=rp.prototype).setTimeout=function(n){this.P=n},tt.nb=function(n){n=n.target;const e=this.M;e&&3==yu(n)?e.l():this.Pa(n)},tt.Pa=function(n){try{if(n==this.g)e:{const T=yu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||bv||this.g&&(this.h.h||this.g.ja()||Gw(this.g)))){this.J||4!=T||7==e||em(),op(this);var t=this.g.da();this.aa=t;t:if(Mw(this)){var r=Gw(this.g);n="";var i=r.length,a=4==yu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Dc(this),dh(this);var l="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function Iw(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qf(f)){var I=f;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,Ai(12),Dc(this),dh(this);break e}_c(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gv(this,t)}this.S?(zv(this,T,l),bv&&this.i&&3==T&&(_w(this.U,this.V,"tick",this.mb),this.V.start())):(_c(this.j,this.m,l,null),Gv(this,l)),4==T&&Dc(this),this.i&&!this.J&&(4==T?Jw(this.l,this):(this.i=!1,Ic(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ai(12)):(this.o=0,Ai(13)),Dc(this),dh(this)}}}catch{}},tt.mb=function(){if(this.g){var n=yu(this.g),e=this.g.ja();this.C<e.length&&(op(this),zv(this,n,e),this.i&&4!=n&&Ic(this))}},tt.cancel=function(){this.J=!0,Dc(this)},tt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Bb(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(em(),Ai(17)),Dc(this),this.o=2,dh(this)):xw(this,this.Y-n)};var qv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Cc){this.h=void 0!==e?e:n.h,nm(this,n.j),this.s=n.s,this.g=n.g,rm(this,n.m),this.l=n.l,e=n.i;var t=new bc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Rw(this,t),this.o=n.o}else n&&(t=String(n).match(qv))?(this.h=!!e,nm(this,t[1]||"",!0),this.s=hh(t[2]||""),this.g=hh(t[3]||"",!0),rm(this,t[4]),this.l=hh(t[5]||"",!0),Rw(this,t[6]||"",!0),this.o=hh(t[7]||"")):(this.h=!!e,this.i=new bc(null,this.h))}function mu(n){return new Cc(n)}function nm(n,e,t){n.j=t?hh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function rm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Rw(n,e,t){e instanceof bc?(n.i=e,function Zv(n,e){e&&!n.j&&(ga(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Kv(this,r),kw(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=fh(e,Kb)),n.i=new bc(e,n.h))}function Wn(n,e,t){n.i.set(e,t)}function im(n){return Wn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function hh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function fh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Wb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Wb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Cc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(fh(e,Pw,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(fh(e,Pw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(fh(t,"/"==t.charAt(0)?qb:Ow,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",fh(t,Zb)),n.join("")};var Pw=/[#\/\?@]/g,Ow=/[#\?:]/g,qb=/[#\?]/g,Kb=/[#\?@]/g,Zb=/#/g;function bc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ga(n){n.g||(n.g=new Map,n.h=0,n.i&&function Gb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Kv(n,e){ga(n),e=ph(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function sm(n,e){return ga(n),e=ph(n,e),n.g.has(e)}function kw(n,e,t){Kv(n,e),0<t.length&&(n.i=null,n.g.set(ph(n,e),Wg(t)),n.h+=t.length)}function ph(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Yv(n){this.l=n||gh,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ka&&zt.g.Ka()&&zt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=bc.prototype).add=function(n,e){ga(this),this.i=null,n=ph(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},tt.forEach=function(n,e){ga(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},tt.sa=function(){ga(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},tt.Z=function(n){ga(this);let e=[];if("string"==typeof n)sm(this,n)&&(e=e.concat(this.g.get(ph(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},tt.set=function(n,e){return ga(this),this.i=null,sm(this,n=ph(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},tt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var gh=10;function Qv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Fw(n){return n.h?1:n.g?n.g.size:0}function Lw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function om(n,e){n.g?n.g.add(e):n.h=e}function am(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Vw(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Wg(n.i)}function ap(){}function Qb(){this.g=new ap}function Uw(n,e,t){const r=t||"";try{Nw(n,function(i,a){let l=i;Gf(i)&&(l=Rv(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function up(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function mh(n){this.l=n.fc||null,this.j=n.ob||!1}function lp(n,e){fi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=um,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yv.prototype.cancel=function(){if(this.i=Vw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ap.prototype.stringify=function(n){return zt.JSON.stringify(n,void 0)},ap.prototype.parse=function(n){return zt.JSON.parse(n,void 0)},Dr(mh,wc),mh.prototype.g=function(){return new lp(this.l,this.j)},mh.prototype.i=function(n){return function(){return n}}({}),Dr(lp,fi);var um=0;function Bw(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function cp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,dp(n)}function dp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tt=lp.prototype).open=function(n,e){if(this.readyState!=um)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,dp(this)},tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||zt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cp(this)),this.readyState=um},tt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,dp(this)),this.g&&(this.readyState=3,dp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bw(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},tt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?cp(this):dp(this),3==this.readyState&&Bw(this)}},tt.Za=function(n){this.g&&(this.response=this.responseText=n,cp(this))},tt.Ya=function(n){this.g&&(this.response=n,cp(this))},tt.ka=function(){this.g&&cp(this)},tt.setRequestHeader=function(n,e){this.v.append(n,e)},tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(lp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Jb=zt.JSON.parse;function tr(n){fi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xb,this.L=this.M=!1}Dr(tr,fi);var Xb="",jw=/^https?$/i,eT=["POST","PUT"];function nT(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$w(n),lm(n)}function $w(n){n.F||(n.F=!0,ri(n,"complete"),ri(n,"error"))}function Hw(n){if(n.h&&typeof mc<"u"&&(!n.C[1]||4!=yu(n)||2!=n.da()))if(n.v&&4==yu(n))Jg(n.La,0,n);else if(ri(n,"readystatechange"),4==yu(n)){n.h=!1;try{const f=n.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.I).match(qv)[1]||null;if(!i&&zt.self&&zt.self.location){var a=zt.self.location.protocol;i=a.substr(0,a.length-1)}r=!jw.test(i?i.toLowerCase():"")}t=r}if(t)ri(n,"complete"),ri(n,"success");else{n.m=6;try{var l=2<yu(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",$w(n)}}finally{lm(n)}}}function lm(n,e){if(n.g){zw(n);const t=n.g,r=n.C[0]?zf:null;n.g=null,n.C=null,e||ri(n,"ready");try{t.onreadystatechange=r}catch{}}}function zw(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function yu(n){return n.g?n.g.readyState:0}function Gw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Xb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Ww(n){let e="";return Zf(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Xv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Ww(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Wn(n,e,t))}function hp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function qw(n){this.Ga=0,this.i=[],this.j=new Xg,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hp("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hp("baseRetryDelayMs",5e3,n),this.hb=hp("retryDelaySeedMs",1e4,n),this.eb=hp("forwardChannelMaxRetries",2,n),this.xa=hp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new Yv(n&&n.concurrentRequestLimit),this.Ja=new Qb,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function e_(n){if(yh(n),3==n.H){var e=n.W++,t=mu(n.G);Wn(t,"SID",n.J),Wn(t,"RID",e),Wn(t,"TYPE","terminate"),vh(n,t),(e=new rp(n,n.j,e,void 0)).L=2,e.v=im(mu(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon&&(t=zt.navigator.sendBeacon(e.v.toString(),"")),!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=hm(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ic(e)}_h(n)}function cm(n){n.g&&(Yw(n),n.g.cancel(),n.g=null)}function yh(n){cm(n),n.u&&(zt.clearTimeout(n.u),n.u=null),dm(n),n.h.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function fp(n){Qv(n.h)||n.m||(n.m=!0,yw(n.Na,n),n.C=0)}function t_(n,e){var t;t=e?e.m:n.W++;const r=mu(n.G);Wn(r,"SID",n.J),Wn(r,"RID",t),Wn(r,"AID",n.V),vh(n,r),n.o&&n.s&&Xv(r,n.o,n.s),t=new rp(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=n_(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),om(n.h,t),$v(t,r,e)}function vh(n,e){n.ma&&Zf(n.ma,function(t,r){Wn(e,r,t)}),n.l&&Nw({},function(t,r){Wn(e,r,t)})}function n_(n,e,t){t=Math.min(n.i.length,t);var r=n.l?di(n.l.Va,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let y=0;y<t;y++){let I=i[y].h;const T=i[y].g;if(I-=a,0>I)a=Math.max(0,i[y].h-100),f=!1;else try{Uw(T,l,"req"+I+"_")}catch{r&&r(T)}}if(f){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function Zw(n){n.g||n.u||(n.ba=1,yw(n.Ma,n),n.A=0)}function r_(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ep(di(n.Ma,n),Xw(n,n.A)),n.A++,0))}function Yw(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function Qw(n){n.g=new rp(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=mu(n.wa);Wn(e,"RID","rpc"),Wn(e,"SID",n.J),Wn(e,"CI",n.M?"0":"1"),Wn(e,"AID",n.V),Wn(e,"TYPE","xmlhttp"),vh(n,e),n.o&&n.s&&Xv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=im(mu(e)),t.s=null,t.S=!0,Hv(t,n)}function dm(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function Jw(n,e){var t=null;if(n.g==e){dm(n),Yw(n),n.g=null;var r=2}else{if(!Lw(n.h,e))return;t=e.F,am(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;ri(r=Lv(),new Xf(r,t)),fp(n)}else Zw(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function Kw(n,e){return!(Fw(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ep(di(n.Na,n,e),Xw(n,n.C)),n.C++,0)))}(n,e)||2==r&&r_(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Tc(n,5);break;case 4:Tc(n,10);break;case 3:Tc(n,6);break;default:Tc(n,2)}}function Xw(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Tc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=di(n.pb,n);t||(t=new Cc("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||nm(t,"https"),im(t)),function Jv(n,e){const t=new Xg;if(zt.Image){const r=new Image;r.onload=Wf(up,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Wf(up,t,r,"TestLoadImage: error",!1,e),r.onabort=Wf(up,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wf(up,t,r,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ai(2);n.H=0,n.l&&n.l.za(e),_h(n),yh(n)}function _h(n){if(n.H=0,n.pa=[],n.l){const e=Vw(n.h);(0!=e.length||0!=n.i.length)&&(Iv(n.pa,e),Iv(n.pa,n.i),n.h.i.length=0,Wg(n.i),n.i.length=0),n.l.ya()}}function eI(n,e,t){var r=t instanceof Cc?mu(t):new Cc(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),rm(r,r.m);else{var i=zt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Cc(null,void 0);r&&nm(a,r),e&&(a.g=e),i&&rm(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Wn(r,t,e),Wn(r,"VER",n.qa),vh(n,r),r}function hm(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tr(t&&n.Ha&&!n.va?new mh({ob:!0}):n.va)).Oa(n.I),e}function xo(){}function fm(){if(sh&&!(10<=Number(iw)))throw Error("Environmental error: no available transport.")}function ji(n,e){fi.call(this),this.g=new qw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!qf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new wh(this)}function Eh(n){Uv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function tI(){Sw.call(this),this.status=1}function wh(n){this.g=n}function es(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ih(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function _n(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(tt=tr.prototype).Oa=function(n){this.M=n},tt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Bv.g(),this.C=function bw(n){return n.h||(n.h=n.i())}(this.u?this.u:Bv),this.g.onreadystatechange=di(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void nT(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=zt.FormData&&n instanceof zt.FormData,!(0<=wv(eT,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zw(this),0<this.B&&((this.L=function tT(n){return sh&&function rw(){return X0(Ob,9,function(){let n=0;const e=J0(String(Kg)).split("."),t=J0("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",a=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Dv(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Dv(0==i[2].length,0==a[2].length)||Dv(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=di(this.ua,this)):this.A=Jg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){nT(this,a)}},tt.ua=function(){typeof mc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ri(this,"timeout"),this.abort(8))},tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ri(this,"complete"),ri(this,"abort"),lm(this))},tt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lm(this,!0)),tr.$.N.call(this)},tt.La=function(){this.s||(this.G||this.v||this.l?Hw(this):this.kb())},tt.kb=function(){Hw(this)},tt.da=function(){try{return 2<yu(this)?this.g.status:-1}catch{return-1}},tt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},tt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Jb(e)}},tt.Ia=function(){return this.m},tt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=qw.prototype).qa=8,tt.H=1,tt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new rp(this,this.j,n,void 0);let a=this.s;if(this.U&&(a?(a=fl(a),lw(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=n_(this,i,e),Wn(t=mu(this.G),"RID",n),Wn(t,"CVER",22),this.F&&Wn(t,"X-HTTP-Session-Id",this.F),vh(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(Ww(a)))+"&"+e:this.o&&Xv(t,this.o,a)),om(this.h,i),this.bb&&Wn(t,"TYPE","init"),this.P?(Wn(t,"$req",e),Wn(t,"SID","null"),i.ba=!0,$v(i,t,null)):$v(i,t,e),this.H=2}}else 3==this.H&&(n?t_(this,n):0==this.i.length||Qv(this.h)||t_(this))},tt.Ma=function(){if(this.u=null,Qw(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=ep(di(this.jb,this),n)}},tt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Ai(10),cm(this),Qw(this))},tt.ib=function(){null!=this.v&&(this.v=null,cm(this),r_(this),Ai(19))},tt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Ai(2)):(this.j.info("Failed to ping google.com"),Ai(1))},(tt=xo.prototype).Ba=function(){},tt.Aa=function(){},tt.za=function(){},tt.ya=function(){},tt.Va=function(){},fm.prototype.g=function(n,e){return new ji(n,e)},Dr(ji,fi),ji.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Ai(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=eI(n,null,n.Y),fp(n)},ji.prototype.close=function(){e_(this.g)},ji.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Rv(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&fp(e)},ji.prototype.N=function(){this.g.l=null,delete this.j,e_(this.g),delete this.g,ji.$.N.call(this)},Dr(Eh,Uv),Dr(tI,Sw),Dr(wh,xo),wh.prototype.Ba=function(){ri(this.g,"a")},wh.prototype.Aa=function(n){ri(this.g,new Eh(n))},wh.prototype.za=function(n){ri(this.g,new tI)},wh.prototype.ya=function(){ri(this.g,"b")},Dr(es,function rT(){this.blockSize=-1}),es.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},es.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)Ih(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){Ih(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){Ih(this,r),i=0;break}}this.h=i,this.i+=e},es.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var iT={};function pm(n){return-128<=n&&128>n?X0(iT,n,function(e){return new _n([0|e],0>e?-1:0)}):new _n([0|n],0>n?-1:0)}function No(n){if(isNaN(n)||!isFinite(n))return pl;if(0>n)return pi(No(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=mm;return new _n(e,0)}var mm=4294967296,pl=pm(0),pp=pm(1),i_=pm(16777216);function Ro(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ts(n){return-1==n.h}function pi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new _n(t,~n.h).add(pp)}function ym(n,e){return n.add(pi(e))}function vm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function gp(n,e){this.g=n,this.h=e}function mp(n,e){if(Ro(e))throw Error("division by zero");if(Ro(n))return new gp(pl,pl);if(ts(n))return e=mp(pi(n),e),new gp(pi(e.g),pi(e.h));if(ts(e))return e=mp(n,pi(e)),new gp(pi(e.g),e.h);if(30<n.g.length){if(ts(n)||ts(e))throw Error("slowDivide_ only works with positive integers.");for(var t=pp,r=e;0>=r.X(n);)t=_m(t),r=_m(r);var i=Sc(t,1),a=Sc(r,1);for(r=Sc(r,2),t=Sc(t,2);!Ro(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=Sc(r,1),t=Sc(t,1)}return e=ym(n,i.R(e)),new gp(i,e)}for(i=pl;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=No(t)).R(e);ts(l)||0<l.X(n);)l=(a=No(t-=r)).R(e);Ro(a)&&(a=pp),i=i.add(a),n=ym(n,l)}return new gp(i,n)}function _m(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new _n(t,n.h)}function Sc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new _n(i,n.h)}(tt=_n.prototype).ea=function(){if(ts(this))return-pi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:mm+r)*e,e*=mm}return n},tt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ro(this))return"0";if(ts(this))return"-"+pi(this).toString(n);for(var e=No(Math.pow(n,6)),t=this,r="";;){var i=mp(t,e).g,a=((0<(t=ym(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ro(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},tt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},tt.X=function(n){return ts(n=ym(this,n))?-1:Ro(n)?0:1},tt.abs=function(){return ts(this)?pi(this):this},tt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new _n(t,-2147483648&t[t.length-1]?-1:0)},tt.R=function(n){if(Ro(this)||Ro(n))return pl;if(ts(this))return ts(n)?pi(this).R(pi(n)):pi(pi(this).R(n));if(ts(n))return pi(this.R(pi(n)));if(0>this.X(i_)&&0>n.X(i_))return No(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),f=n.D(i)>>>16,y=65535&n.D(i);t[2*r+2*i]+=l*y,vm(t,2*r+2*i),t[2*r+2*i+1]+=a*y,vm(t,2*r+2*i+1),t[2*r+2*i+1]+=l*f,vm(t,2*r+2*i+1),t[2*r+2*i+2]+=a*f,vm(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new _n(t,0)},tt.gb=function(n){return mp(this,n).h},tt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new _n(t,this.h&n.h)},tt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new _n(t,this.h|n.h)},tt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new _n(t,this.h^n.h)},fm.prototype.createWebChannel=fm.prototype.g,ji.prototype.send=ji.prototype.u,ji.prototype.open=ji.prototype.m,ji.prototype.close=ji.prototype.close,tm.NO_ERROR=0,tm.TIMEOUT=8,tm.HTTP_ERROR=6,Vv.COMPLETE="complete",Tw.EventType=tp,tp.OPEN="a",tp.CLOSE="b",tp.ERROR="c",tp.MESSAGE="d",fi.prototype.listen=fi.prototype.O,tr.prototype.listenOnce=tr.prototype.P,tr.prototype.getLastError=tr.prototype.Sa,tr.prototype.getLastErrorCode=tr.prototype.Ia,tr.prototype.getStatus=tr.prototype.da,tr.prototype.getResponseJson=tr.prototype.Wa,tr.prototype.getResponseText=tr.prototype.ja,tr.prototype.send=tr.prototype.ha,tr.prototype.setWithCredentials=tr.prototype.Oa,es.prototype.digest=es.prototype.l,es.prototype.reset=es.prototype.reset,es.prototype.update=es.prototype.j,_n.prototype.add=_n.prototype.add,_n.prototype.multiply=_n.prototype.R,_n.prototype.modulo=_n.prototype.gb,_n.prototype.compare=_n.prototype.X,_n.prototype.toNumber=_n.prototype.ea,_n.prototype.toString=_n.prototype.toString,_n.prototype.getBits=_n.prototype.D,_n.fromNumber=No,_n.fromString=function gm(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return pi(gm(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=No(Math.pow(e,8)),r=pl,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=No(Math.pow(e,a)),r=r.R(a).add(No(l))):r=(r=r.R(t)).add(No(l))}return r};var sT=Mo.createWebChannelTransport=function(){return new fm},nI=Mo.getStatEventTarget=function(){return Lv()},Em=Mo.ErrorCode=tm,oT=Mo.EventType=Vv,rI=Mo.Event=Ec,s_=Mo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},aT=Mo.FetchXmlHttpFactory=mh,yp=Mo.WebChannel=Tw,uT=Mo.XhrIo=tr,$i=Mo.Md5=es,Po=Mo.Integer=_n;const iI="@firebase/firestore";class ii{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ii.UNAUTHENTICATED=new ii(null),ii.GOOGLE_CREDENTIALS=new ii("google-credentials-uid"),ii.FIRST_PARTY=new ii("first-party-uid"),ii.MOCK_USER=new ii("mock-user");let vp="9.22.0";const Ac=new pc.Yd("@firebase/firestore");function wm(){return Ac.logLevel}function Se(n,...e){if(Ac.logLevel<=pc.in.DEBUG){const t=e.map(o_);Ac.debug(`Firestore (${vp}): ${n}`,...t)}}function Cr(n,...e){if(Ac.logLevel<=pc.in.ERROR){const t=e.map(o_);Ac.error(`Firestore (${vp}): ${n}`,...t)}}function _s(n,...e){if(Ac.logLevel<=pc.in.WARN){const t=e.map(o_);Ac.warn(`Firestore (${vp}): ${n}`,...t)}}function o_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${vp}) INTERNAL ASSERTION FAILED: `+n;throw Cr(e),new Error(e)}function Et(n,e){n||at()}function Je(n,e){return n}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends ni.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _p{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ii.UNAUTHENTICATED))}shutdown(){}}class zx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class oI{constructor(e){this.t=e,this.currentUser=ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=I=>this.i!==i?(i=this.i,t(I)):Promise.resolve();let l=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Nr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const I=l;e.enqueueRetryable((0,et.Z)(function*(){yield I.promise,yield a(r.currentUser)}))},y=I=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(I=>y(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?y(I):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Nr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et("string"==typeof r.accessToken),new _p(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(null===e||"string"==typeof e),new ii(e)}}class lT{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ii.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class aI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new lT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cT{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,Se("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et("string"==typeof t.token),this.T=t.token,new Mc(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function u_(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class hT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=u_(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function jt(n,e){return n<e?-1:n>e?1:0}function Ep(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new De(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new De(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new De(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nr.fromMillis(Date.now())}static fromDate(e){return nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new nr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new nr(0,0))}static max(){return new It(new nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Dh{constructor(e,t,r){void 0===t?t=0:t>e.length&&at(),void 0===r?r=e.length-t:r>e.length-t&&at(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Dh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class an extends Dh{construct(e,t,r){return new an(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new an(t)}static emptyPath(){return new an([])}}const fT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends Dh{construct(e,t,r){return new pr(e,t,r)}static isValidIdentifier(e){return fT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new De(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new De(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new De(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(a(),i++)}if(a(),l)throw new De(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pr(t)}static emptyPath(){return new pr([])}}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(an.fromString(e))}static fromName(e){return new Ze(an.fromString(e).popFirst(5))}static empty(){return new Ze(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===an.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return an.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new an(e.slice()))}}function cI(n){return new Es(n.readTime,n.key,-1)}class Es{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Es(It.min(),Ze.empty(),-1)}static max(){return new Es(It.max(),Ze.empty(),-1)}}function dI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}const d_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xc(n){return hI.apply(this,arguments)}function hI(){return hI=(0,et.Z)(function*(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==d_)throw n;Se("LocalStore","Unexpectedly lost primary lease")}),hI.apply(this,arguments)}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let i=0,a=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++a,l&&a===i&&t()},y=>r(y))}),l=!0,a===i&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(i=>i?te.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new te((r,i)=>{const a=e.length,l=new Array(a);let f=0;for(let y=0;y<a;y++){const I=y;t(e[I]).next(T=>{l[I]=T,++f,f===a&&r(l)},T=>i(T))}})}static doWhile(e,t){return new te((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}function Oo(n){return"IndexedDbTransactionError"===n.name}let Hi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function bh(n){return null==n}function Dp(n){return 0===n&&1/n==-1/0}function wI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function y_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class On{constructor(e,t){this.comparator=e,this.root=t||gi.EMPTY}insert(e,t){return new On(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gi.BLACK,null,null))}remove(e){return new On(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cp(this.root,e,this.comparator,!0)}}class Cp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??gi.RED,this.left=i??gi.EMPTY,this.right=a??gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new gi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return gi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}gi.EMPTY=null,gi.RED=!0,gi.BLACK=!1,gi.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,r,i){return this}insert(n,e,t){return new gi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nn{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ya(this.data.getIterator())}getIteratorFrom(e){return new ya(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class ya{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zi{constructor(e){this.fields=e,e.sort(pr.comparator)}static empty(){return new zi([])}unionWith(e){let t=new Nn(pr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new zi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ep(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Tm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Tm("Invalid base64 string: "+i):i}}(e);return new jr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new jr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jr.EMPTY_BYTE_STRING=new jr("");const Xx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yl(n){if(Et(!!n),"string"==typeof n){let e=0;const t=Xx.exec(n);if(Et(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gr(n.seconds),nanos:gr(n.nanos)}}function gr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _u(n){return"string"==typeof n?jr.fromBase64String(n):jr.fromUint8Array(n)}function Sm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function bp(n){const e=n.mapValue.fields.__previous_value__;return Sm(e)?bp(e):e}function Am(n){const e=yl(n.mapValue.fields.__local_write_time__.timestampValue);return new nr(e.seconds,e.nanos)}class II{constructor(e,t,r,i,a,l,f,y,I){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=y,this.useFetchStreams=I}}class Nc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Nc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Nc&&e.projectId===this.projectId&&e.database===this.database}}const Eu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function va(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sm(n)?4:DI(n)?9007199254740991:10:at()}function Fo(n,e){if(n===e)return!0;const t=va(n);if(t!==va(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Am(n).isEqual(Am(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=yl(r.timestampValue),l=yl(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,_u(n.bytesValue).isEqual(_u(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return gr(r.geoPointValue.latitude)===gr(i.geoPointValue.latitude)&&gr(r.geoPointValue.longitude)===gr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return gr(r.integerValue)===gr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=gr(r.doubleValue),l=gr(i.doubleValue);return a===l?Dp(a)===Dp(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return Ep(n.arrayValue.values||[],e.arrayValue.values||[],Fo);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(wI(a)!==wI(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!Fo(a[f],l[f])))return!1;return!0}(n,e);default:return at()}var i}function Th(n,e){return void 0!==(n.values||[]).find(t=>Fo(t,e))}function wu(n,e){if(n===e)return 0;const t=va(n),r=va(e);if(t!==r)return jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=gr(i.integerValue||i.doubleValue),f=gr(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return __(n.timestampValue,e.timestampValue);case 4:return __(Am(n),Am(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(i,a){const l=_u(i),f=_u(a);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),f=a.split("/");for(let y=0;y<l.length&&y<f.length;y++){const I=jt(l[y],f[y]);if(0!==I)return I}return jt(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=jt(gr(i.latitude),gr(a.latitude));return 0!==l?l:jt(gr(i.longitude),gr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],f=a.values||[];for(let y=0;y<l.length&&y<f.length;++y){const I=wu(l[y],f[y]);if(I)return I}return jt(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Eu.mapValue&&a===Eu.mapValue)return 0;if(i===Eu.mapValue)return 1;if(a===Eu.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),y=a.fields||{},I=Object.keys(y);f.sort(),I.sort();for(let T=0;T<f.length&&T<I.length;++T){const x=jt(f[T],I[T]);if(0!==x)return x;const F=wu(l[f[T]],y[I[T]]);if(0!==F)return F}return jt(f.length,I.length)}(n.mapValue,e.mapValue);default:throw at()}}function __(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=yl(n),r=yl(e),i=jt(t.seconds,r.seconds);return 0!==i?i:jt(t.nanos,r.nanos)}function Rc(n){return Sh(n)}function Sh(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=yl(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_u(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=Sh(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const f of i)l?l=!1:a+=",",a+=`${f}:${Sh(r.fields[f])}`;return a+"}"}(n.mapValue):at();var e}function vl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function E_(n){return!!n&&"integerValue"in n}function Tp(n){return!!n&&"arrayValue"in n}function bT(n){return!!n&&"nullValue"in n}function TT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function w_(n){return!!n&&"mapValue"in n}function Ah(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ah(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ah(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class xi{constructor(e){this.value=e}static empty(){return new xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!w_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ah(t)}setAll(e){let t=pr.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=Ah(l):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());w_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];w_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){vu(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new xi(Ah(this.value))}}function NT(n){const e=[];return vu(n.fields,(t,r)=>{const i=new pr([t]);if(w_(r)){const a=NT(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new zi(e)}class qn{constructor(e,t,r,i,a,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new qn(e,0,It.min(),It.min(),It.min(),xi.empty(),0)}static newFoundDocument(e,t,r,i){return new qn(e,1,t,It.min(),r,i,0)}static newNoDocument(e,t){return new qn(e,2,t,It.min(),It.min(),xi.empty(),0)}static newUnknownDocument(e,t){return new qn(e,3,t,It.min(),It.min(),xi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _l{constructor(e,t){this.position=e,this.inclusive=t}}function Sp(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?Ze.comparator(Ze.fromName(l.referenceValue),t.key):wu(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function CI(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fo(n.position[t],e.position[t]))return!1;return!0}class Mh{constructor(e,t="asc"){this.field=e,this.dir=t}}function bI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class El{}class nn extends El{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new eN(e,t,r):"array-contains"===t?new FT(e,r):"in"===t?new AI(e,r):"not-in"===t?new MI(e,r):"array-contains-any"===t?new xI(e,r):new nn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new TI(e,r):new kT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(wu(t,this.value)):null!==t&&va(this.value)===va(t)&&this.matchesComparison(wu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pn extends El{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new pn(e,t)}matches(e){return wl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function wl(n){return"and"===n.op}function Ap(n){return function Mm(n){for(const e of n.filters)if(e instanceof pn)return!1;return!0}(n)&&wl(n)}function xh(n){if(n instanceof nn)return n.field.canonicalString()+n.op.toString()+Rc(n.value);if(Ap(n))return n.filters.map(e=>xh(e)).join(",");{const e=n.filters.map(t=>xh(t)).join(",");return`${n.op}(${e})`}}function RT(n,e){return n instanceof nn?(t=n,(r=e)instanceof nn&&t.op===r.op&&t.field.isEqual(r.field)&&Fo(t.value,r.value)):n instanceof pn?function(t,r){return r instanceof pn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&RT(a,r.filters[l]),!0)}(n,e):void at();var t,r}function OT(n){return n instanceof nn?`${(e=n).field.canonicalString()} ${e.op} ${Rc(e.value)}`:n instanceof pn?function(e){return e.op.toString()+" {"+e.getFilters().map(OT).join(" ,")+"}"}(n):"Filter";var e}class eN extends nn{constructor(e,t,r){super(e,t,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class TI extends nn{constructor(e,t){super(e,"in",t),this.keys=SI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kT extends nn{constructor(e,t){super(e,"not-in",t),this.keys=SI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function SI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class FT extends nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tp(t)&&Th(t.arrayValue,this.value)}}class AI extends nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Th(this.value.arrayValue,t)}}class MI extends nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Th(this.value.arrayValue,t)}}class xI extends nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Th(this.value.arrayValue,r))}}class NI{constructor(e,t=null,r=[],i=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=f,this.dt=null}}function D_(n,e=null,t=[],r=[],i=null,a=null,l=null){return new NI(n,e,t,r,i,a,l)}function Oc(n){const e=Je(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>xh(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),bh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Rc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Rc(r)).join(",")),e.dt=t}return e.dt}function Nh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!RT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CI(n.startAt,e.startAt)&&CI(n.endAt,e.endAt)}function Rh(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Iu{constructor(e,t=null,r=[],i=[],a=null,l="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=y,this.wt=null,this._t=null}}function Mp(n){return new Iu(n)}function LT(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function T_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Nm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function S_(n){return null!==n.collectionGroup}function Ph(n){const e=Je(n);if(null===e.wt){e.wt=[];const t=Nm(e),r=T_(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Mh(t)),e.wt.push(new Mh(pr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Mh(pr.keyField(),a))}}}return e.wt}function ns(n){const e=Je(n);if(!e._t)if("F"===e.limitType)e._t=D_(e.path,e.collectionGroup,Ph(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Ph(e))t.push(new Mh(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new _l(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new _l(e.startAt.position,e.startAt.inclusive):null;e._t=D_(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function PI(n,e){e.getFirstInequalityField(),Nm(n);const t=n.filters.concat([e]);return new Iu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function A_(n,e,t){return new Iu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xp(n,e){return Nh(ns(n),ns(e))&&n.limitType===e.limitType}function VT(n){return`${Oc(ns(n))}|lt:${n.limitType}`}function OI(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>OT(r)).join(", ")}]`),bh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Rc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Rc(r)).join(",")),`Target(${t})`}(ns(n))}; limitType=${n.limitType})`}function Rm(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Ph(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const f=Sp(i,a,l);return i.inclusive?f<=0:f<0}(t.startAt,Ph(t),r)||t.endAt&&!function(i,a,l){const f=Sp(i,a,l);return i.inclusive?f>=0:f>0}(t.endAt,Ph(t),r)));var t,r}function BT(n){return(e,t)=>{let r=!1;for(const i of Ph(n)){const a=tN(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function tN(n,e,t){const r=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(i,a,l){const f=a.data.field(i),y=l.data.field(i);return null!==f&&null!==y?wu(f,y):at()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}class s{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vu(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return y_(this.inner)}size(){return this.innerSize}}const o=new On(Ze.comparator);function u(){return o}const c=new On(Ze.comparator);function d(...n){let e=c;for(const t of n)e=e.insert(t.key,t);return e}function g(n){let e=c;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function v(){return b()}function D(){return b()}function b(){return new s(n=>n.toString(),(n,e)=>n.isEqual(e))}const A=new On(Ze.comparator),N=new Nn(Ze.comparator);function O(...n){let e=N;for(const t of n)e=e.add(t);return e}const z=new Nn(jt);function me(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dp(e)?"-0":e}}function Be(n){return{integerValue:""+n}}function Ye(n,e){return function gT(n){return"number"==typeof n&&Number.isInteger(n)&&!Dp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Be(e):me(n,e)}class ut{constructor(){this._=void 0}}function Pt(n,e,t){return n instanceof En?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Sm(i)&&(i=bp(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Rn?jT(n,e):n instanceof Np?nN(n,e):function(r,i){const a=$t(r,i),l=rN(a)+rN(r.gt);return E_(a)&&E_(r.gt)?Be(l):me(r.serializer,l)}(n,e)}function Ae(n,e,t){return n instanceof Rn?jT(n,e):n instanceof Np?nN(n,e):t}function $t(n,e){return n instanceof Pm?E_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class En extends ut{}class Rn extends ut{constructor(e){super(),this.elements=e}}function jT(n,e){const t=iN(e);for(const r of n.elements)t.some(i=>Fo(i,r))||t.push(r);return{arrayValue:{values:t}}}class Np extends ut{constructor(e){super(),this.elements=e}}function nN(n,e){let t=iN(e);for(const r of n.elements)t=t.filter(i=>!Fo(i,r));return{arrayValue:{values:t}}}class Pm extends ut{constructor(e,t){super(),this.serializer=e,this.gt=t}}function rN(n){return gr(n.integerValue||n.doubleValue)}function iN(n){return Tp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class J1{constructor(e,t){this.version=e,this.transformResults=t}}class mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class FI{}function sN(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new km(n.key,mr.none()):new Om(n.key,n.data,mr.none());{const t=n.data,r=xi.empty();let i=new Nn(pr.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new kc(n.key,r,new zi(i.toArray()),mr.none())}}function X1(n,e,t){n instanceof Om?function(r,i,a){const l=r.value.clone(),f=uN(r.fieldTransforms,i,a.transformResults);l.setAll(f),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof kc?function(r,i,a){if(!kI(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=uN(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(aN(r)),f.setAll(l),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function x_(n,e,t,r){return n instanceof Om?function(i,a,l,f){if(!kI(i.precondition,a))return l;const y=i.value.clone(),I=lN(i.fieldTransforms,f,a);return y.setAll(I),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof kc?function(i,a,l,f){if(!kI(i.precondition,a))return l;const y=lN(i.fieldTransforms,f,a),I=a.data;return I.setAll(aN(i)),I.setAll(y),a.convertToFoundDocument(a.version,I).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(l=t,kI(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function ek(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=$t(r.transform,i||null);null!=a&&(null===t&&(t=xi.empty()),t.set(r.field,a))}return t||null}function oN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ep(t,r,(i,a)=>function Q1(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Rn&&r instanceof Rn||t instanceof Np&&r instanceof Np?Ep(t.elements,r.elements,Fo):t instanceof Pm&&r instanceof Pm?Fo(t.gt,r.gt):t instanceof En&&r instanceof En);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Om extends FI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class kc extends FI{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function aN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function uN(n,e,t){const r=new Map;Et(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,f=e.data.field(a.field);r.set(a.field,Ae(l,f,t[i]))}return r}function lN(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,Pt(a,l,e))}return r}class km extends FI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $T extends FI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&X1(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=x_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=x_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=D();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=t.has(i.key)?null:f;const y=sN(l,f);null!==y&&r.set(i.key,y),l.isValidDocument()||l.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),O())}isEqual(e){return this.batchId===e.batchId&&Ep(this.mutations,e.mutations,(t,r)=>oN(t,r))&&Ep(this.baseMutations,e.baseMutations,(t,r)=>oN(t,r))}}class zT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Et(e.mutations.length===r.length);let i=A;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new zT(e,t,r,i)}}class GT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nk{constructor(e,t){this.count=e,this.unchangedNames=t}}var si,dn;function dN(n){if(void 0===n)return Cr("GRPC error has no .code"),ie.UNKNOWN;switch(n){case si.OK:return ie.OK;case si.CANCELLED:return ie.CANCELLED;case si.UNKNOWN:return ie.UNKNOWN;case si.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case si.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case si.INTERNAL:return ie.INTERNAL;case si.UNAVAILABLE:return ie.UNAVAILABLE;case si.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case si.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case si.NOT_FOUND:return ie.NOT_FOUND;case si.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case si.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case si.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case si.ABORTED:return ie.ABORTED;case si.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case si.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case si.DATA_LOSS:return ie.DATA_LOSS;default:return at()}}(dn=si||(si={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class WT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return LI}static getOrCreateInstance(){return null===LI&&(LI=new WT),LI}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let LI=null;const rk=new Po([4294967295,4294967295],0);function fN(n){const e=function hN(){return new TextEncoder}().encode(n),t=new $i;return t.update(e),new Uint8Array(t.digest())}function pN(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Po([t,r],0),new Po([i,a],0)]}class qT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new N_(`Invalid padding: ${t}`);if(r<0)throw new N_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new N_(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new N_(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Po.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Po.fromNumber(r)));return 1===i.compare(rk)&&(i=new Po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=fN(e),[r,i]=pN(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new qT(a,i,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=fN(e),[r,i]=pN(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class N_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class R_{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,P_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new R_(It.min(),i,new On(jt),u(),O())}}class P_{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new P_(r,t,O(),O(),O())}}class VI{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class gN{constructor(e,t){this.targetId=e,this.Vt=t}}class mN{constructor(e,t,r=jr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class yN{constructor(){this.St=0,this.Dt=_N(),this.Ct=jr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=O(),t=O(),r=O();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:at()}}),new P_(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=_N()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ik{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=u(),this.zt=vN(),this.Wt=new On(jt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(Rh(l))if(0===i){const f=new Ze(l.path);this.Yt(r,f,qn.newNoDocument(f,It.min()))}else Et(1===i);else{const f=this.ie(r);if(f!==i){const y=this.re(e,f);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=WT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(I,T,x){var F,V,K,ne,he,Ve;const Xe={localCacheCount:T,existenceFilterCount:x.count},it=x.unchangedNames;return it&&(Xe.bloomFilter={applied:0===I,hashCount:null!==(F=it?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(ne=null===(K=null===(V=it?.bits)||void 0===V?void 0:V.bitmap)||void 0===K?void 0:K.length)&&void 0!==ne?ne:0,padding:null!==(Ve=null===(he=it?.bits)||void 0===he?void 0:he.padding)&&void 0!==Ve?Ve:0}),Xe}(y,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=r;let y,I;try{y=_u(a).toUint8Array()}catch(T){if(T instanceof Tm)return _s("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{I=new qT(y,l,f)}catch(T){return _s(T instanceof N_?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===I.It?1:i!==t-this.oe(e.targetId,I)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const f=this.se(l);if(f){if(a.current&&Rh(f.target)){const y=new Ze(f.target.path);null!==this.jt.get(y)||this.ae(l,y)||this.Yt(l,y,qn.newNoDocument(y,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let r=O();this.zt.forEach((a,l)=>{let f=!0;l.forEachWhile(y=>{const I=this.se(y);return!I||"TargetPurposeLimboResolution"===I.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new R_(e,t,this.Wt,this.jt,r);return this.jt=u(),this.zt=vN(),this.Wt=new On(jt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new yN,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Nn(jt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Se("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new yN),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function vN(){return new On(Ze.comparator)}function _N(){return new On(Ze.comparator)}const sk={asc:"ASCENDING",desc:"DESCENDING"},ok={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ak={and:"AND",or:"OR"};class uk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function KT(n,e){return n.useProto3Json||bh(e)?e:{value:e}}function Fm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lk(n,e){return Fm(n,e.toTimestamp())}function $r(n){return Et(!!n),It.fromTimestamp(function(e){const t=yl(e);return new nr(t.seconds,t.nanos)}(n))}function ZT(n,e){return(t=n,new an(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wN(n){const e=an.fromString(n);return Et(xN(e)),e}function O_(n,e){return ZT(n.databaseId,e.path)}function Il(n,e){const t=wN(e);if(t.get(1)!==n.databaseId.projectId)throw new De(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new De(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(DN(t))}function YT(n,e){return ZT(n.databaseId,e)}function k_(n){return new an(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DN(n){return Et(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function CN(n,e,t){return{name:O_(n,e),fields:t.value.mapValue.fields}}function TN(n,e){return{documents:[YT(n,e.path)]}}function JT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=YT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=YT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return MN(pn.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(I=>{return{field:Oh((T=I).field),direction:pk(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=KT(n,e.limit);var f,y;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function SN(n){let e=function IN(n){const e=wN(n);return 4===e.length?an.emptyPath():DN(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Et(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=function(T){const x=AN(T);return x instanceof pn&&Ap(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(T=>{return new Mh(Lm((x=T).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(T){let x;return x="object"==typeof T?T.value:T,bh(x)?null:x}(t.limit));let y=null;var T;t.startAt&&(y=new _l((T=t.startAt).values||[],!!T.before));let I=null;return t.endAt&&(I=function(T){return new _l(T.values||[],!T.before)}(t.endAt)),function RI(n,e,t,r,i,a,l,f){return new Iu(n,e,t,r,i,a,l,f)}(e,i,l,a,f,"F",y,I)}function AN(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Lm(e.unaryFilter.field);return nn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Lm(e.unaryFilter.field);return nn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Lm(e.unaryFilter.field);return nn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Lm(e.unaryFilter.field);return nn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):void 0!==n.fieldFilter?nn.create(Lm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return pn.create(e.compositeFilter.filters.map(t=>AN(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return at()}}(e.compositeFilter.op))}(n):at();var e}function pk(n){return sk[n]}function gk(n){return ok[n]}function mk(n){return ak[n]}function Oh(n){return{fieldPath:n.canonicalString()}}function Lm(n){return pr.fromServerFormat(n.fieldPath)}function MN(n){return n instanceof nn?function(e){if("=="===e.op){if(TT(e.value))return{unaryFilter:{field:Oh(e.field),op:"IS_NAN"}};if(bT(e.value))return{unaryFilter:{field:Oh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(TT(e.value))return{unaryFilter:{field:Oh(e.field),op:"IS_NOT_NAN"}};if(bT(e.value))return{unaryFilter:{field:Oh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oh(e.field),op:gk(e.op),value:e.value}}}(n):n instanceof pn?function(e){const t=e.getFilters().map(r=>MN(r));return 1===t.length?t[0]:{compositeFilter:{op:mk(e.op),filters:t}}}(n):at()}function yk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xN(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Fc{constructor(e,t,r,i,a=It.min(),l=It.min(),f=jr.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=y}withSequenceNumber(e){return new Fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NN{constructor(e){this.fe=e}}function XT(n){const e=SN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?A_(e,e.limit,"L"):e}class kp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(gr(e.integerValue));else if("doubleValue"in e){const r=gr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Dp(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(_u(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?DI(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):at()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Ze.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}kp.Ve=new kp;class Tk{constructor(){this.rn=new sS}addToCollectionParentIndex(e,t){return this.rn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Es.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class sS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Nn(an.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nn(an.comparator)).toArray()}}new Uint8Array(0);class rs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new rs(e,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}rs.DEFAULT_COLLECTION_PERCENTILE=10,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rs.DEFAULT=new rs(41943040,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rs.DISABLED=new rs(-1,0,0);class Lp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Lp(0)}static Mn(){return new Lp(-1)}}class Rk{constructor(){this.changes=new s(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rR{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&x_(r.mutation,i,zi.empty(),nr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,O()).next(()=>r))}getLocalViewOfDocuments(e,t,r=O()){const i=v();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=d();return a.forEach((f,y)=>{l=l.insert(f,y.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=v();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,O()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let a=u();const l=b(),f=b();return t.forEach((y,I)=>{const T=r.get(I.key);i.has(I.key)&&(void 0===T||T.mutation instanceof kc)?a=a.insert(I.key,I):void 0!==T?(l.set(I.key,T.mutation.getFieldMask()),x_(T.mutation,I,T.mutation.getFieldMask(),nr.now())):l.set(I.key,zi.empty())}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((I,T)=>l.set(I,T)),t.forEach((I,T)=>{var x;return f.set(I,new kk(T,null!==(x=l.get(I))&&void 0!==x?x:null))}),f))}recalculateAndSaveOverlays(e,t){const r=b();let i=new On((l,f)=>l-f),a=O();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(y=>{const I=t.get(y);if(null===I)return;let T=r.get(y)||zi.empty();T=f.applyToLocalView(I,T),r.set(y,T);const x=(i.get(f.batchId)||O()).add(y);i=i.insert(f.batchId,x)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),I=y.key,T=y.value,x=D();T.forEach(F=>{if(!a.has(F)){const V=sN(t.get(F),r.get(F));null!==V&&x.set(F,V),a=a.add(F)}}),l.push(this.documentOverlayCache.saveOverlays(e,I,x))}return te.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):S_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):te.resolve(v());let f=-1,y=a;return l.next(I=>te.forEach(I,(T,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),a.get(T)?te.resolve():this.remoteDocumentCache.getEntry(e,T).next(F=>{y=y.insert(T,F)}))).next(()=>this.populateOverlays(e,I,a)).next(()=>this.computeViews(e,y,I,O())).next(T=>({batchId:f,changes:g(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(r=>{let i=d();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=d();return this.indexManager.getCollectionParents(e,i).next(l=>te.forEach(l,f=>{const y=(I=t,T=f.child(i),new Iu(T,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(I=>{I.forEach((T,x)=>{a=a.insert(T,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,y)=>{const I=y.getKey();null===a.get(I)&&(a=a.insert(I,qn.newInvalidDocument(I)))});let l=d();return a.forEach((f,y)=>{const I=i.get(f);void 0!==I&&x_(I.mutation,y,zi.empty(),nr.now()),Rm(t,y)&&(l=l.insert(f,y))}),l})}}class Fk{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return te.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:$r(r.createTime)}),te.resolve()}getNamedQuery(e,t){return te.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:XT(r.bundledQuery),readTime:$r(r.readTime)}),te.resolve();var r}}class Lk{constructor(){this.overlays=new On(Ze.comparator),this.ls=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=v();return te.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const i=v(),a=t.length+1,l=new Ze(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const y=f.getNext().value,I=y.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new On((I,T)=>I-T);const l=this.overlays.getIterator();for(;l.hasNext();){const I=l.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let T=a.get(I.largestBatchId);null===T&&(T=v(),a=a.insert(I.largestBatchId,T)),T.set(I.getKey(),I)}}const f=v(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((I,T)=>f.set(I,T)),!(f.size()>=i)););return te.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new GT(t,r));let a=this.ls.get(t);void 0===a&&(a=O(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class oS{constructor(){this.fs=new Nn(Ni.ds),this.ws=new Nn(Ni._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ni(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ni(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ze(new an([])),r=new Ni(t,e),i=new Ni(t,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ze(new an([])),r=new Ni(t,e),i=new Ni(t,e+1);let a=O();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Ni(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ni{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ze.comparator(e.key,t.key)||jt(e.As,t.As)}static _s(e,t){return jt(e.As,t.As)||Ze.comparator(e.key,t.key)}}class Vk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Nn(Ni.ds)}checkEmpty(e){return te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const l=new HT(a,t,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new Ni(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,t){return te.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ni(t,0),i=new Ni(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);a.push(f)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nn(jt);return t.forEach(i=>{const a=new Ni(i,0),l=new Ni(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],f=>{r=r.add(f.As)})}),te.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ze.isDocumentKey(a)||(a=a.child(""));const l=new Ni(new Ze(a),0);let f=new Nn(jt);return this.Rs.forEachWhile(y=>{const I=y.key.path;return!!r.isPrefixOf(I)&&(I.length===i&&(f=f.add(y.As)),!0)},l),te.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Et(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return te.forEach(t.mutations,i=>{const a=new Ni(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ni(t,0),i=this.Rs.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return te.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Uk{constructor(e){this.Ds=e,this.docs=new On(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():qn.newInvalidDocument(t))}getEntries(e,t){let r=u();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():qn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=u();const l=t.path,f=new Ze(l.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:I,value:{document:T}}=y.getNext();if(!l.isPrefixOf(I.path))break;I.path.length>l.length+1||dI(cI(T),r)<=0||(i.has(T.key)||Rm(t,T))&&(a=a.insert(T.key,T.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,i){at()}Cs(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Bk(this)}getSize(e){return te.resolve(this.size)}}class Bk extends Rk{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class jk{constructor(e){this.persistence=e,this.xs=new s(t=>Oc(t),Nh),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Ns=0,this.ks=new oS,this.targetCount=0,this.Ms=Lp.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),te.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Lp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Fn(t),te.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),te.waitFor(a).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.ks.containsKey(t))}}class aS{constructor(e,t){this.$s={},this.overlays={},this.Os=new Hi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new jk(this),this.indexManager=new Tk,this.remoteDocumentCache=new Uk(r=>this.referenceDelegate.Ls(r)),this.serializer=new NN(t),this.qs=new Fk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Vk(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Se("MemoryPersistence","Starting transaction:",e);const i=new $k(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return te.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class $k extends Gx{constructor(e){super(),this.currentSequenceNumber=e}}class qI{constructor(e){this.persistence=e,this.Qs=new oS,this.js=null}static zs(e){return new qI(e)}get Ws(){if(this.js)return this.js;throw at()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),te.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Ws,r=>{const i=Ze.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,It.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return te.or([()=>te.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class dS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=O(),i=O();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new dS(e,t.fromCache,r,i)}}class sR{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(LT(t))return te.resolve(null);let r=ns(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=A_(t,null,"F"),r=ns(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=O(...a);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const I=this.ji(t,f);return this.zi(t,I,l,y.readTime)?this.Ki(e,A_(t,null,"F")):this.Wi(e,I,t,y)}))})))}Gi(e,t,r,i){return LT(t)||i.isEqual(It.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(t,a);return this.zi(t,l,r,i)?this.Qi(e,t):(wm()<=pc.in.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),OI(t)),this.Wi(e,l,t,function c_(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=It.fromTimestamp(1e9===r?new nr(t+1,0):new nr(t,r));return new Es(i,Ze.empty(),e)}(i,-1)))})}ji(e,t){let r=new Nn(BT(e));return t.forEach((i,a)=>{Rm(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return wm()<=pc.in.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",OI(t)),this.Ui.getDocumentsMatchingQuery(e,t,Es.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class zk{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new On(jt),this.Yi=new s(a=>Oc(a),Nh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rR(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function aR(n,e){return hS.apply(this,arguments)}function hS(){return hS=(0,et.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],f=[];let y=O();for(const I of i){l.push(I.batchId);for(const T of I.mutations)y=y.add(T.key)}for(const I of a){f.push(I.batchId);for(const T of I.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(I=>({er:I,removedBatchIds:l,addedBatchIds:f}))})})}),hS.apply(this,arguments)}function uR(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function qk(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jm(n,e,t){return fS.apply(this,arguments)}function fS(){return fS=(0,et.Z)(function*(n,e,t){const r=Je(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Oo(l))throw l;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),fS.apply(this,arguments)}function YI(n,e,t){const r=Je(n);let i=It.min(),a=O();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,y,I){const T=Je(f),x=T.Yi.get(I);return void 0!==x?te.resolve(T.Ji.get(x)):T.Bs.getTargetData(y,I)}(r,l,ns(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(y=>{a=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:It.min(),t?a:O())).next(f=>(function hR(n,e,t){let r=n.Xi.get(e)||It.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}(r,function UT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),f),{documents:f,ir:a})))}class vS{constructor(){this.activeTargetIds=function J(){return z}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gR{constructor(){this.Hr=new vS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new vS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Yk{Yr(e){}shutdown(){}}class mR{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let XI=null;function ES(){return null===XI?XI=268435456+Math.round(2147483648*Math.random()):XI++,"0x"+XI.toString(16)}const Qk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jk{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const is="WebChannelConnection";class Xk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const l=ES(),f=this.To(e,t);Se("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const y={};return this.Eo(y,i,a),this.Ao(e,f,y,r).then(I=>(Se("RestConnection",`Received RPC '${e}' ${l}: `,I),I),I=>{throw _s("RestConnection",`RPC '${e}' ${l} failed with error: `,I,"url: ",f,"request:",r),I})}vo(e,t,r,i,a,l){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+vp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${Qk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=ES();return new Promise((l,f)=>{const y=new uT;y.setWithCredentials(!0),y.listenOnce(oT.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Em.NO_ERROR:const T=y.getResponseJson();Se(is,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(T)),l(T);break;case Em.TIMEOUT:Se(is,`RPC '${e}' ${a} timed out`),f(new De(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Em.HTTP_ERROR:const x=y.getStatus();if(Se(is,`RPC '${e}' ${a} failed with status:`,x,"response text:",y.getResponseText()),x>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const V=F?.error;if(V&&V.status&&V.message){const K=function(ne){const he=ne.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(he)>=0?he:ie.UNKNOWN}(V.status);f(new De(K,V.message))}else f(new De(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new De(ie.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Se(is,`RPC '${e}' ${a} completed.`)}});const I=JSON.stringify(i);Se(is,`RPC '${e}' ${a} sending request:`,i),y.send(t,"POST",I,r,15)})}Ro(e,t,r){const i=ES(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=sT(),f=nI(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},I=this.longPollingOptions.timeoutSeconds;void 0!==I&&(y.longPollingTimeout=Math.round(1e3*I)),this.useFetchStreams&&(y.xmlHttpFactory=new aT({})),this.Eo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const T=a.join("");Se(is,`Creating RPC '${e}' stream ${i}: ${T}`,y);const x=l.createWebChannel(T,y);let F=!1,V=!1;const K=new Jk({ro:he=>{V?Se(is,`Not sending because RPC '${e}' stream ${i} is closed:`,he):(F||(Se(is,`Opening RPC '${e}' stream ${i} transport.`),x.open(),F=!0),Se(is,`RPC '${e}' stream ${i} sending:`,he),x.send(he))},oo:()=>x.close()}),ne=(he,Ve,Xe)=>{he.listen(Ve,it=>{try{Xe(it)}catch(gt){setTimeout(()=>{throw gt},0)}})};return ne(x,yp.EventType.OPEN,()=>{V||Se(is,`RPC '${e}' stream ${i} transport opened.`)}),ne(x,yp.EventType.CLOSE,()=>{V||(V=!0,Se(is,`RPC '${e}' stream ${i} transport closed`),K.wo())}),ne(x,yp.EventType.ERROR,he=>{V||(V=!0,_s(is,`RPC '${e}' stream ${i} transport errored:`,he),K.wo(new De(ie.UNAVAILABLE,"The operation could not be completed")))}),ne(x,yp.EventType.MESSAGE,he=>{var Ve;if(!V){const Xe=he.data[0];Et(!!Xe);const gt=Xe.error||(null===(Ve=Xe[0])||void 0===Ve?void 0:Ve.error);if(gt){Se(is,`RPC '${e}' stream ${i} received error:`,gt);const qt=gt.status;let Kt=function(Wi){const wa=si[Wi];if(void 0!==wa)return dN(wa)}(qt),bn=gt.message;void 0===Kt&&(Kt=ie.INTERNAL,bn="Unknown error status: "+qt+" with message "+gt.message),V=!0,K.wo(new De(Kt,bn)),x.close()}else Se(is,`RPC '${e}' stream ${i} received:`,Xe),K._o(Xe)}}),ne(f,rI.STAT_EVENT,he=>{he.stat===s_.PROXY?Se(is,`RPC '${e}' stream ${i} detected buffering proxy`):he.stat===s_.NOPROXY&&Se(is,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{K.fo()},0),K}}function eD(){return typeof document<"u"?document:null}function G_(n){return new uk(n,!0)}class wS{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class vR{constructor(e,t,r,i,a,l,f,y){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new wS(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,et.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,et.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,et.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ie.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new De(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,et.Z)(function*(){e.state=0,e.start()}))}tu(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eF extends vR{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function dk(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:at(),i=e.targetChange.targetIds||[],a=function(y,I){return y.useProto3Json?(Et(void 0===I||"string"==typeof I),jr.fromBase64String(I||"")):(Et(void 0===I||I instanceof Uint8Array),jr.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(y){const I=void 0===y.code?ie.UNKNOWN:dN(y.code);return new De(I,y.message||"")}(l);t=new mN(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Il(n,r.document.name),a=$r(r.document.updateTime),l=r.document.createTime?$r(r.document.createTime):It.min(),f=new xi({mapValue:{fields:r.document.fields}}),y=qn.newFoundDocument(i,a,l,f);t=new VI(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=Il(n,r.document),a=r.readTime?$r(r.readTime):It.min(),l=qn.newNoDocument(i,a);t=new VI([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=Il(n,r.document);t=new VI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return at();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new nk(i,a);t=new gN(r.targetId,l)}}var y;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return It.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?It.min():a.readTime?$r(a.readTime):It.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=k_(this.serializer),t.addTarget=function(i,a){let l;const f=a.target;if(l=Rh(f)?{documents:TN(i,f)}:{query:JT(i,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=EN(i,a.resumeToken);const y=KT(i,a.expectedCount);null!==y&&(l.expectedCount=y)}else if(a.snapshotVersion.compareTo(It.min())>0){l.readTime=Fm(i,a.snapshotVersion.toTimestamp());const y=KT(i,a.expectedCount);null!==y&&(l.expectedCount=y)}return l}(this.serializer,e);const r=function fk(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=k_(this.serializer),t.removeTarget=e,this.Wo(t)}}class tF extends vR{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function hk(n,e){return n&&n.length>0?(Et(void 0!==e),n.map(t=>function(r,i){let a=$r(r.updateTime?r.updateTime:i);return a.isEqual(It.min())&&(a=$r(i)),new J1(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.cu(r,t)}return Et(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=k_(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function F_(n,e){let t;if(e instanceof Om)t={update:CN(n,e.key,e.value)};else if(e instanceof km)t={delete:O_(n,e.key)};else if(e instanceof kc)t={update:CN(n,e.key,e.data),updateMask:yk(e.fieldMask)};else{if(!(e instanceof $T))return at();t={verify:O_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof En)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Rn)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Np)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Pm)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw at()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:lk(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:at()),t;var i}(this.serializer,r))};this.Wo(t)}}class nF extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new De(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new De(ie.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new De(ie.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class iF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Cr(t),this.mu=!1):Se("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class sF{constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,et.Z)(function*(){var y;Vh(l)&&(Se("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,et.Z)(function*(I){const T=Je(I);T.vu.add(4),yield $m(T),T.bu.set("Unknown"),T.vu.delete(4),yield W_(T)}),function(I){return y.apply(this,arguments)})(l))}))}),this.bu=new iF(r,i)}}function W_(n){return DS.apply(this,arguments)}function DS(){return DS=(0,et.Z)(function*(n){if(Vh(n))for(const e of n.Ru)yield e(!0)}),DS.apply(this,arguments)}function $m(n){return CS.apply(this,arguments)}function CS(){return CS=(0,et.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),CS.apply(this,arguments)}function tD(n,e){const t=Je(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),SS(t)?TS(t):zm(t).Ko()&&bS(t,e))}function q_(n,e){const t=Je(n),r=zm(t);t.Au.delete(e),r.Ko()&&_R(t,e),0===t.Au.size&&(r.Ko()?r.jo():Vh(t)&&t.bu.set("Unknown"))}function bS(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zm(n).su(e)}function _R(n,e){n.Vu.qt(e),zm(n).iu(e)}function TS(n){n.Vu=new ik({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),zm(n).start(),n.bu.gu()}function SS(n){return Vh(n)&&!zm(n).Uo()&&n.Au.size>0}function Vh(n){return 0===Je(n).vu.size}function ER(n){n.Vu=void 0}function oF(n){return AS.apply(this,arguments)}function AS(){return AS=(0,et.Z)(function*(n){n.Au.forEach((e,t)=>{bS(n,e)})}),AS.apply(this,arguments)}function aF(n,e){return MS.apply(this,arguments)}function MS(){return MS=(0,et.Z)(function*(n,e){ER(n),SS(n)?(n.bu.Iu(e),TS(n)):n.bu.set("Unknown")}),MS.apply(this,arguments)}function uF(n,e,t){return xS.apply(this,arguments)}function xS(){return xS=(0,et.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof mN&&2===e.state&&e.cause)try{yield(r=(0,et.Z)(function*(i,a){const l=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nD(n,r)}else if(e instanceof VI?n.Vu.Ht(e):e instanceof gN?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(It.min()))try{const r=yield uR(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const I=i.Au.get(y);I&&i.Au.set(y,I.withResumeToken(f.resumeToken,a))}}),l.targetMismatches.forEach((f,y)=>{const I=i.Au.get(f);if(!I)return;i.Au.set(f,I.withResumeToken(jr.EMPTY_BYTE_STRING,I.snapshotVersion)),_R(i,f);const T=new Fc(I.target,f,y,I.sequenceNumber);bS(i,T)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Se("RemoteStore","Failed to raise snapshot:",r),yield nD(n,r)}var r}),xS.apply(this,arguments)}function nD(n,e,t){return NS.apply(this,arguments)}function NS(){return NS=(0,et.Z)(function*(n,e,t){if(!Oo(e))throw e;n.vu.add(1),yield $m(n),n.bu.set("Offline"),t||(t=()=>uR(n.localStore)),n.asyncQueue.enqueueRetryable((0,et.Z)(function*(){Se("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield W_(n)}))}),NS.apply(this,arguments)}function wR(n,e){return e().catch(t=>nD(n,t,e))}function Hm(n){return RS.apply(this,arguments)}function RS(){return RS=(0,et.Z)(function*(n){const e=Je(n),t=Uh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;lF(e);)try{const i=yield qk(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,cF(e,i)}catch(i){yield nD(e,i)}IR(e)&&DR(e)}),RS.apply(this,arguments)}function lF(n){return Vh(n)&&n.Eu.length<10}function cF(n,e){n.Eu.push(e);const t=Uh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function IR(n){return Vh(n)&&!Uh(n).Uo()&&n.Eu.length>0}function DR(n){Uh(n).start()}function dF(n){return PS.apply(this,arguments)}function PS(){return PS=(0,et.Z)(function*(n){Uh(n).hu()}),PS.apply(this,arguments)}function hF(n){return OS.apply(this,arguments)}function OS(){return OS=(0,et.Z)(function*(n){const e=Uh(n);for(const t of n.Eu)e.uu(t.mutations)}),OS.apply(this,arguments)}function fF(n,e,t){return kS.apply(this,arguments)}function kS(){return kS=(0,et.Z)(function*(n,e,t){const r=n.Eu.shift(),i=zT.from(r,e,t);yield wR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Hm(n)}),kS.apply(this,arguments)}function pF(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,et.Z)(function*(n,e){var t;e&&Uh(n).ou&&(yield(t=(0,et.Z)(function*(r,i){if(function cN(n){switch(n){default:return at();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}(a=i.code)&&a!==ie.ABORTED){const l=r.Eu.shift();Uh(r).Qo(),yield wR(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield Hm(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),IR(n)&&DR(n)}),FS.apply(this,arguments)}function CR(n,e){return LS.apply(this,arguments)}function LS(){return LS=(0,et.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const r=Vh(t);t.vu.add(3),yield $m(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield W_(t)}),LS.apply(this,arguments)}function US(){return US=(0,et.Z)(function*(n,e){const t=Je(n);e?(t.vu.delete(2),yield W_(t)):e||(t.vu.add(2),yield $m(t),t.bu.set("Unknown"))}),US.apply(this,arguments)}function zm(n){return n.Su||(n.Su=function(e,t,r){const i=Je(e);return i.fu(),new eF(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:oF.bind(null,n),ao:aF.bind(null,n),nu:uF.bind(null,n)}),n.Ru.push(function(){var e=(0,et.Z)(function*(t){t?(n.Su.Qo(),SS(n)?TS(n):n.bu.set("Unknown")):(yield n.Su.stop(),ER(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Uh(n){return n.Du||(n.Du=function(e,t,r){const i=Je(e);return i.fu(),new tF(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:dF.bind(null,n),ao:pF.bind(null,n),au:hF.bind(null,n),cu:fF.bind(null,n)}),n.Ru.push(function(){var e=(0,et.Z)(function*(t){t?(n.Du.Qo(),yield Hm(n)):(yield n.Du.stop(),n.Eu.length>0&&(Se("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class BS{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,f=new BS(e,t,l,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new De(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(n,e){if(Cr("AsyncQueue",`${e}: ${n}`),Oo(n))return new De(ie.UNAVAILABLE,`${e}: ${n}`);throw n}class Wm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ze.comparator(t.key,r.key):(t,r)=>Ze.comparator(t.key,r.key),this.keyedMap=d(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new Wm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Wm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class bR{constructor(){this.Cu=new On(Ze.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):at():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class qm{constructor(e,t,r,i,a,l,f,y,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=I}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new qm(e,t,Wm.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class gF{constructor(){this.Nu=void 0,this.listeners=[]}}class mF{constructor(){this.queries=new s(e=>VT(e),xp),this.onlineState="Unknown",this.ku=new Set}}function jS(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,et.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new gF),i)try{a.Nu=yield t.onListen(r)}catch(l){const f=Gm(l,`Initialization of query '${OI(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&GS(t)}),$S.apply(this,arguments)}function HS(n,e){return zS.apply(this,arguments)}function zS(){return zS=(0,et.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),zS.apply(this,arguments)}function yF(n,e){const t=Je(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&GS(t)}function vF(n,e,t){const r=Je(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function GS(n){n.ku.forEach(e=>{e.next()})}class WS{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new qm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=qm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class AR{constructor(e){this.key=e}}class MR{constructor(e){this.key=e}}class xR{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=O(),this.mutatedKeys=O(),this.tc=BT(e),this.ec=new Wm(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new bR,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,I="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,x)=>{const F=i.get(T),V=Rm(this.query,x)?x:null,K=!!F&&this.mutatedKeys.has(F.key),ne=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let he=!1;F&&V?F.data.isEqual(V.data)?K!==ne&&(r.track({type:3,doc:V}),he=!0):this.rc(F,V)||(r.track({type:2,doc:V}),he=!0,(y&&this.tc(V,y)>0||I&&this.tc(V,I)<0)&&(f=!0)):!F&&V?(r.track({type:0,doc:V}),he=!0):F&&!V&&(r.track({type:1,doc:F}),he=!0,(y||I)&&(f=!0)),he&&(V?(l=l.add(V),a=ne?a.add(T):a.delete(T)):(l=l.delete(T),a=a.delete(T)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const T="F"===this.query.limitType?l.last():l.first();l=l.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{ec:l,ic:r,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((I,T)=>function(x,F){const V=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return V(x)-V(F)}(I.type,T.type)||this.tc(I.doc,T.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,y=f!==this.Xu;return this.Xu=f,0!==a.length||y?{snapshot:new qm(this.query,e.ec,i,a,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new bR,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=O(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new MR(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new AR(r))}),t}hc(e){this.Yu=e.ir,this.Zu=O();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return qm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class wF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class IF{constructor(e){this.key=e,this.fc=!1}}class DF{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new s(f=>VT(f),xp),this._c=new Map,this.mc=new Set,this.gc=new On(Ze.comparator),this.yc=new Map,this.Ic=new oS,this.Tc={},this.Ec=new Map,this.Ac=Lp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function CF(n,e){return qS.apply(this,arguments)}function qS(){return qS=(0,et.Z)(function*(n,e){const t=function mA(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SF.bind(null,e),e.dc.nu=yF.bind(null,e.eventManager),e.dc.Pc=vF.bind(null,e.eventManager),e}(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield function Bm(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,te.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new Fc(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,ns(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield function KS(n,e,t,r,i){return ZS.apply(this,arguments)}(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&tD(t.remoteStore,l)}return i}),qS.apply(this,arguments)}function ZS(){return ZS=(0,et.Z)(function*(n,e,t,r,i){n.Rc=(x,F,V)=>{return(K=(0,et.Z)(function*(ne,he,Ve,Xe){let it=he.view.sc(Ve);it.zi&&(it=yield YI(ne.localStore,he.query,!1).then(({documents:Kt})=>he.view.sc(Kt,it)));const gt=Xe&&Xe.targetChanges.get(he.targetId),qt=he.view.applyChanges(it,ne.isPrimaryClient,gt);return sA(ne,he.targetId,qt.cc),qt.snapshot}),function(ne,he,Ve,Xe){return K.apply(this,arguments)})(n,x,F,V);var K};const a=yield YI(n.localStore,e,!0),l=new xR(e,a.ir),f=l.sc(a.documents),y=P_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),I=l.applyChanges(f,n.isPrimaryClient,y);sA(n,t,I.cc);const T=new wF(e,t,l);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),I.snapshot}),ZS.apply(this,arguments)}function bF(n,e){return YS.apply(this,arguments)}function YS(){return YS=(0,et.Z)(function*(n,e){const t=Je(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!xp(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield jm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),q_(t.remoteStore,r.targetId),Km(t,r.targetId)}).catch(xc))):(Km(t,r.targetId),yield jm(t.localStore,r.targetId,!0))}),YS.apply(this,arguments)}function QS(){return QS=(0,et.Z)(function*(n,e,t){const r=function yA(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MF.bind(null,e),e}(n);try{const i=yield function(a,l){const f=Je(a),y=nr.now(),I=l.reduce((F,V)=>F.add(V.key),O());let T,x;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let V=u(),K=O();return f.Zi.getEntries(F,I).next(ne=>{V=ne,V.forEach((he,Ve)=>{Ve.isValidDocument()||(K=K.add(he))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,V)).next(ne=>{T=ne;const he=[];for(const Ve of l){const Xe=ek(Ve,T.get(Ve.key).overlayedDocument);null!=Xe&&he.push(new kc(Ve.key,Xe,NT(Xe.value.mapValue),mr.exists(!0)))}return f.mutationQueue.addMutationBatch(F,y,he,l)}).next(ne=>{x=ne;const he=ne.applyToLocalDocumentSet(T,K);return f.documentOverlayCache.saveOverlays(F,ne.batchId,he)})}).then(()=>({batchId:x.batchId,changes:g(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,f){let y=a.Tc[a.currentUser.toKey()];y||(y=new On(jt)),y=y.insert(l,f),a.Tc[a.currentUser.toKey()]=y}(r,i.batchId,t),yield Lc(r,i.changes),yield Hm(r.remoteStore)}catch(i){const a=Gm(i,"Failed to persist write");t.reject(a)}}),QS.apply(this,arguments)}function NR(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,et.Z)(function*(n,e){const t=Je(n);try{const r=yield function Wk(n,e){const t=Je(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((T,x)=>{const F=i.get(x);if(!F)return;f.push(t.Bs.removeMatchingKeys(a,T.removedDocuments,x).next(()=>t.Bs.addMatchingKeys(a,T.addedDocuments,x)));let V=F.withSequenceNumber(a.currentSequenceNumber);var K,ne,he;null!==e.targetMismatches.get(x)?V=V.withResumeToken(jr.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,r)),i=i.insert(x,V),ne=V,he=T,(0===(K=F).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8||he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,V))});let y=u(),I=O();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,T))}),f.push(function lR(n,e,t){let r=O(),i=O();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=u();return t.forEach((f,y)=>{const I=a.get(f);y.isFoundDocument()!==I.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(It.min())?(e.removeEntry(f,y.readTime),l=l.insert(f,y)):!I.isValidDocument()||y.version.compareTo(I.version)>0||0===y.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(y),l=l.insert(f,y)):Se("LocalStore","Ignoring outdated watch update for ",f,". Current version:",I.version," Watch version:",y.version)}),{nr:l,sr:i}})}(a,l,e.documentUpdates).next(T=>{y=T.nr,I=T.sr})),!r.isEqual(It.min())){const T=t.Bs.getLastRemoteSnapshotVersion(a).next(x=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(T)}return te.waitFor(f).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,I)).next(()=>y)}).then(a=>(t.Ji=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.yc.get(a);l&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?Et(l.fc):i.removedDocuments.size>0&&(Et(l.fc),l.fc=!1))}),yield Lc(t,r,e)}catch(r){yield xc(r)}}),JS.apply(this,arguments)}function RR(n,e,t){const r=Je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,l){const f=Je(a);f.onlineState=l;let y=!1;f.queries.forEach((I,T)=>{for(const x of T.listeners)x.Mu(l)&&(y=!0)}),y&&GS(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function SF(n,e,t){return XS.apply(this,arguments)}function XS(){return XS=(0,et.Z)(function*(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new On(Ze.comparator);l=l.insert(a,qn.newNoDocument(a,It.min()));const f=O().add(a),y=new R_(It.min(),new Map,new On(jt),l,f);yield NR(r,y),r.gc=r.gc.remove(a),r.yc.delete(e),oA(r)}else yield jm(r.localStore,e,!1).then(()=>Km(r,e,t)).catch(xc)}),XS.apply(this,arguments)}function AF(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,et.Z)(function*(n,e){const t=Je(n),r=e.batch.batchId;try{const i=yield function Gk(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,y,I){const T=y.batch,x=T.keys();let F=te.resolve();return x.forEach(V=>{F=F.next(()=>I.getEntry(f,V)).next(K=>{const ne=y.docVersions.get(V);Et(null!==ne),K.version.compareTo(ne)<0&&(T.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),I.addEntry(K)))})}),F.next(()=>l.mutationQueue.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=O();for(let y=0;y<l.mutationResults.length;++y)l.mutationResults[y].transformResults.length>0&&(f=f.add(l.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);iA(t,r,null),rA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Lc(t,i)}catch(i){yield xc(i)}}),eA.apply(this,arguments)}function MF(n,e,t){return tA.apply(this,arguments)}function tA(){return tA=(0,et.Z)(function*(n,e,t){const r=Je(n);try{const i=yield function(a,l){const f=Je(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let I;return f.mutationQueue.lookupMutationBatch(y,l).next(T=>(Et(null!==T),I=T.keys(),f.mutationQueue.removeMutationBatch(y,T))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,I,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,I)).next(()=>f.localDocuments.getDocuments(y,I))})}(r.localStore,e);iA(r,e,t),rA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Lc(r,i)}catch(i){yield xc(i)}}),tA.apply(this,arguments)}function rA(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function iA(n,e,t){const r=Je(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Km(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||PR(n,r)})}function PR(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(q_(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),oA(n))}function sA(n,e,t){for(const r of t)r instanceof AR?(n.Ic.addReference(r.key,e),NF(n,r)):r instanceof MR?(Se("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||PR(n,r.key)):at()}function NF(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Se("SyncEngine","New document in limbo: "+t),n.mc.add(r),oA(n))}function oA(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ze(an.fromString(e)),r=n.Ac.next();n.yc.set(r,new IF(t)),n.gc=n.gc.insert(t,r),tD(n.remoteStore,new Fc(ns(Mp(t.path)),r,"TargetPurposeLimboResolution",Hi.ct))}}function Lc(n,e,t){return aA.apply(this,arguments)}function aA(){return aA=(0,et.Z)(function*(n,e,t){const r=Je(n),i=[],a=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,y)=>{l.push(r.Rc(y,e,t).then(I=>{if((I||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,I?.fromCache?"not-current":"current"),I){i.push(I);const T=dS.Li(y.targetId,I);a.push(T)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,et.Z)(function*(y,I){const T=Je(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>te.forEach(I,F=>te.forEach(F.Fi,V=>T.persistence.referenceDelegate.addReference(x,F.targetId,V)).next(()=>te.forEach(F.Bi,V=>T.persistence.referenceDelegate.removeReference(x,F.targetId,V)))))}catch(x){if(!Oo(x))throw x;Se("LocalStore","Failed to update sequence numbers: "+x)}for(const x of I){const F=x.targetId;if(!x.fromCache){const V=T.Ji.get(F),ne=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);T.Ji=T.Ji.insert(F,ne)}}}),function(y,I){return f.apply(this,arguments)})(r.localStore,a))}),aA.apply(this,arguments)}function RF(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,et.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const r=yield aR(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new De(ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Lc(t,r.er)}var i}),uA.apply(this,arguments)}function PF(n,e){const t=Je(n),r=t.yc.get(e);if(r&&r.fc)return O().add(r.key);{let i=O();const a=t._c.get(e);if(!a)return i;for(const l of a){const f=t.wc.get(l);i=i.unionWith(f.view.nc)}return i}}class rD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,et.Z)(function*(){t.serializer=G_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function oR(n,e,t,r){return new zk(n,e,t,r)}(this.persistence,new sR,e.initialUser,this.serializer)}createPersistence(e){return new aS(qI.zs,this.serializer)}createSharedClientState(e){return new gR}terminate(){var e=this;return(0,et.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Zm{initialize(e,t){var r=this;return(0,et.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>RR(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=RF.bind(null,r.syncEngine),yield function VS(n,e){return US.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mF}createDatastore(e){const t=G_(e.databaseInfo.databaseId),r=new Xk(e.databaseInfo);return new nF(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>RR(this.syncEngine,f,0),l=mR.D()?new mR:new Yk,new sF(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,f,y,I){const T=new DF(r,i,a,l,f,y);return I&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,et.Z)(function*(t){const r=Je(t);Se("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield $m(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class iD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class WF{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ii.UNAUTHENTICATED,this.clientId=hT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,et.Z)(function*(f){Se("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Se("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,et.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new De(ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,et.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Gm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function sD(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,et.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,et.Z)(function*(a){r.isEqual(a)||(yield aR(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),vA.apply(this,arguments)}function _A(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,et.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function wA(n){return IA.apply(this,arguments)}(n);Se("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>CR(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>CR(e.remoteStore,a)),n._onlineComponents=e}),EA.apply(this,arguments)}function IA(){return IA=(0,et.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function UR(n){return"FirebaseError"===n.name?n.code===ie.FAILED_PRECONDITION||n.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;_s("Error using user provided cache. Falling back to memory cache: "+t),yield sD(n,new rD)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),yield sD(n,new rD);return n._offlineComponents}),IA.apply(this,arguments)}function oD(n){return DA.apply(this,arguments)}function DA(){return DA=(0,et.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),yield _A(n,n._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),yield _A(n,new Zm))),n._onlineComponents}),DA.apply(this,arguments)}function Ym(n){return bA.apply(this,arguments)}function bA(){return bA=(0,et.Z)(function*(n){const e=yield oD(n),t=e.eventManager;return t.onListen=CF.bind(null,e.syncEngine),t.onUnlisten=bF.bind(null,e.syncEngine),t}),bA.apply(this,arguments)}function GR(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const WR=new Map;function TA(n,e,t){if(!t)throw new De(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qR(n){if(!Ze.isDocumentKey(n))throw new De(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function KR(n){if(Ze.isDocumentKey(n))throw new De(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new De(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uD(n);throw new De(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class YR{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new De(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new De(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function tL(n,e,t,r){if(!0===e&&!0===r)throw new De(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=GR(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new De(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new De(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new De(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class K_{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new De(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new De(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new a_;switch(t.type){case"firstParty":return new aI(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new De(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=WR.get(e);t&&(Se("ComponentProvider","Removing Datastore"),WR.delete(e),t.terminate())}(this),Promise.resolve()}}class Hr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hr(this.firestore,e,this._key)}}class Gi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gi(this.firestore,e,this._query)}}class Dl extends Gi{constructor(e,t,r){super(e,t,Mp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hr(this.firestore,null,new Ze(e))}withConverter(e){return new Dl(this.firestore,e,this._path)}}function rL(n,e,...t){if(n=(0,ni.m9)(n),TA("collection","path",e),n instanceof K_){const r=an.fromString(e,...t);return KR(r),new Dl(n,null,r)}{if(!(n instanceof Hr||n instanceof Dl))throw new De(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(an.fromString(e,...t));return KR(r),new Dl(n.firestore,null,r)}}function QR(n,e,...t){if(n=(0,ni.m9)(n),1===arguments.length&&(e=hT.A()),TA("doc","path",e),n instanceof K_){const r=an.fromString(e,...t);return qR(r),new Hr(n,null,new Ze(r))}{if(!(n instanceof Hr||n instanceof Dl))throw new De(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(an.fromString(e,...t));return qR(r),new Hr(n.firestore,n instanceof Dl?n.converter:null,new Ze(r))}}class iL{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new wS(this,"async_queue_retry"),this.Xc=()=>{const t=eD();t&&Se("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=eD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=eD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Nr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,et.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Oo(t))throw t;Se("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=BS.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&at()}verifyOperationInProgress(){}sa(){var e=this;return(0,et.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function SA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class rr extends K_{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new iL,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||XR(this),this._firestoreClient.terminate()}}function oL(n,e){const t="object"==typeof n?n:(0,ou.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,ou._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,ni.P0)("firestore");a&&function nL(n,e,t,r={}){var i;const a=(n=cn(n,K_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&_s("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,f;if("string"==typeof r.mockUserToken)l=r.mockUserToken,f=ii.MOCK_USER;else{l=(0,ni.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new De(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ii(y)}n._authCredentials=new zx(new _p(l,f))}}(i,...a)}return i}function oi(n){return n._firestoreClient||XR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function XR(n){var e,t,r;const i=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new II(n._databaseId,f,n._persistenceKey,(I=i).host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,GR(I.experimentalLongPollingOptions),I.useFetchStreams));var f,I;n._firestoreClient=new WF(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Up{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Up(jr.fromBase64String(e))}catch(t){throw new De(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Up(jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new De(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class AA{constructor(e){this._methodName=e}}class MA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new De(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new De(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const uL=/^__.*__$/;class lL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new kc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Om(e,this.data,t,this.fieldTransforms)}}class nP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new kc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class lD{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new lD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return dD(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(rP(this.ca)&&uL.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class cL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||G_(e)}ya(e,t,r,i=!1){return new lD({ca:e,methodName:t,ga:r,path:pr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jm(n){const e=n._freezeSettings(),t=G_(n._databaseId);return new cL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xA(n,e,t,r,i,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,i);RA("Data must be an object, but it was:",l,r);const f=uP(r,l);let y,I;if(a.merge)y=new zi(l.fieldMask),I=l.fieldTransforms;else if(a.mergeFields){const T=[];for(const x of a.mergeFields){const F=Q_(e,x,t);if(!l.contains(F))throw new De(ie.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);cP(T,F)||T.push(F)}y=new zi(T),I=l.fieldTransforms.filter(x=>y.covers(x.field))}else y=null,I=l.fieldTransforms;return new lL(new xi(f),y,I)}class Y_ extends AA{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Y_}}function Bp(n,e){if(lP(n=(0,ni.m9)(n)))return RA("Unsupported field value:",e,n),uP(n,e);if(n instanceof AA)return function(t,r){if(!rP(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let f=Bp(l,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,ni.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ye(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=nr.fromDate(t);return{timestampValue:Fm(r.serializer,i)}}if(t instanceof nr){const i=new nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Fm(r.serializer,i)}}if(t instanceof MA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Up)return{bytesValue:EN(r.serializer,t._byteString)};if(t instanceof Hr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ZT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${uD(t)}`)}(n,e)}function uP(n,e){const t={};return y_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vu(n,(r,i)=>{const a=Bp(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function lP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof nr||n instanceof MA||n instanceof Up||n instanceof Hr||n instanceof AA)}function RA(n,e,t){if(!lP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=uD(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Q_(n,e,t){if((e=(0,ni.m9)(e))instanceof Qm)return e._internalPath;if("string"==typeof e)return cD(n,e);throw dD("Field path arguments must be of type string or ",n,!1,void 0,t)}const pL=new RegExp("[~\\*/\\[\\]]");function cD(n,e,t){if(e.search(pL)>=0)throw dD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qm(...e.split("."))._internalPath}catch{throw dD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dD(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(a||l)&&(y+=" (found",a&&(y+=` in field ${r}`),l&&(y+=` in document ${i}`),y+=")"),new De(ie.INVALID_ARGUMENT,f+n+y)}function cP(n,e){return n.some(t=>t.isEqual(e))}class PA{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Hr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class gL extends PA{data(){return super.data()}}function hD(n,e){return"string"==typeof e?cD(n,e):e instanceof Qm?e._internalPath:e._delegate._internalPath}function dP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new De(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OA{}class hP extends OA{}function mL(n,e,...t){let r=[];e instanceof OA&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof Xm).length,l=i.filter(f=>f instanceof J_).length;if(a>1||a>0&&l>0)throw new De(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class J_ extends hP{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new J_(e,t,r)}_apply(e){const t=this._parse(e);return mP(e._query,t),new Gi(e.firestore,e.converter,PI(e._query,t))}_parse(e){const t=Jm(e.firestore);return function(i,a,l,f,y,I,T){let x;if(y.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new De(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){gP(T,I);const F=[];for(const V of T)F.push(pP(f,i,V));x={arrayValue:{values:F}}}else x=pP(f,i,T)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||gP(T,I),x=function aP(n,e,t,r=!1){return Bp(t,n.ya(r?4:3,e))}(l,"where",T,"in"===I||"not-in"===I);return nn.create(y,I,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function yL(n,e,t){const r=e,i=hD("where",n);return J_._create(i,r,t)}class Xm extends OA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:pn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const f of l)mP(a,f),a=PI(a,f)}(e._query,t),new Gi(e.firestore,e.converter,PI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class kA extends hP{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new kA(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new De(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new De(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Mh(i,a);return function(f,y){if(null===T_(f)){const I=Nm(f);null!==I&&yP(0,I,y.field)}}(r,l),l}(e._query,this._field,this._direction);return new Gi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Iu(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function vL(n,e="asc"){const t=e,r=hD("orderBy",n);return kA._create(r,t)}function pP(n,e,t){if("string"==typeof(t=(0,ni.m9)(t))){if(""===t)throw new De(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S_(e)&&-1!==t.indexOf("/"))throw new De(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(an.fromString(t));if(!Ze.isDocumentKey(r))throw new De(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vl(n,new Ze(r))}if(t instanceof Hr)return vl(n,t._key);throw new De(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uD(t)}.`)}function gP(n,e){if(!Array.isArray(n)||0===n.length)throw new De(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mP(n,e){if(e.isInequality()){const r=Nm(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new De(ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=T_(n);null!==a&&yP(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new De(ie.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function yP(n,e,t){if(!t.isEqual(e))throw new De(ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class _L{convertValue(e,t="none"){switch(va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_u(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return vu(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new MA(gr(e.latitude),gr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Am(e));default:return null}}convertTimestamp(e){const t=yl(e);return new nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=an.fromString(e);Et(xN(r));const i=new Nc(r.get(1),r.get(3)),a=new Ze(r.popFirst(5));return i.isEqual(t)||Cr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class jp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ey extends PA{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class mD extends ey{data(e={}){return super.data(e)}}class ty{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new jp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new mD(this._firestore,this._userDataWriter,r.key,r,new jp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new De(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new mD(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new mD(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,I=-1;return 0!==l.type&&(y=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),I=a.indexOf(l.doc.key)),{type:wL(l.type),doc:f,oldIndex:y,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}class Bh extends _L{constructor(e){super(),this.firestore=e}convertBytes(e){return new Up(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hr(this.firestore,null,t)}}function IL(n){n=cn(n,Gi);const e=cn(n.firestore,rr),t=oi(e),r=new Bh(e);return dP(n._query),function zR(n,e,t={}){const r=new Nr;return n.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return function(i,a,l,f,y){const I=new iD({next:x=>{a.enqueueAndForget(()=>HS(i,T)),x.fromCache&&"server"===f.source?y.reject(new De(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),T=new WS(l,I,{includeMetadataChanges:!0,Ku:!0});return jS(i,T)}(yield Ym(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new ty(e,r,n,i))}function DL(n,e,t){n=cn(n,Hr);const r=cn(n.firestore,rr),i=function FA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return X_(r,[xA(Jm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,mr.none())])}function CL(n,e,t,...r){n=cn(n,Hr);const i=cn(n.firestore,rr),a=Jm(i);let l;return l="string"==typeof(e=(0,ni.m9)(e))||e instanceof Qm?function oP(n,e,t,r,i,a){const l=n.ya(1,e,t),f=[Q_(e,r,t)],y=[i];if(a.length%2!=0)throw new De(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)f.push(Q_(e,a[F])),y.push(a[F+1]);const I=[],T=xi.empty();for(let F=f.length-1;F>=0;--F)if(!cP(I,f[F])){const V=f[F];let K=y[F];K=(0,ni.m9)(K);const ne=l.da(V);if(K instanceof Y_)I.push(V);else{const he=Bp(K,ne);null!=he&&(I.push(V),T.set(V,he))}}const x=new zi(I);return new nP(T,x,l.fieldTransforms)}(a,"updateDoc",n._key,e,t,r):function sP(n,e,t,r){const i=n.ya(1,e,t);RA("Data must be an object, but it was:",i,r);const a=[],l=xi.empty();vu(r,(y,I)=>{const T=cD(e,y,t);I=(0,ni.m9)(I);const x=i.da(T);if(I instanceof Y_)a.push(T);else{const F=Bp(I,x);null!=F&&(a.push(T),l.set(T,F))}});const f=new zi(a);return new nP(l,f,i.fieldTransforms)}(a,"updateDoc",n._key,e),X_(i,[l.toMutation(n._key,mr.exists(!0))])}function bL(n){return X_(cn(n.firestore,rr),[new km(n._key,mr.none())])}function X_(n,e){return function(t,r){const i=new Nr;return t.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return function TF(n,e,t){return QS.apply(this,arguments)}(yield function CA(n){return oD(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(oi(n),e)}!function(n,e=!0){vp=ou.SDK_VERSION,(0,ou._registerComponent)(new Cg.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new rr(new oI(t.getProvider("auth-internal")),new cT(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new De(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nc(f.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,ou.registerVersion)(iI,"3.12.0",n),(0,ou.registerVersion)(iI,"3.12.0","esm2017")}();var VL={includeMetadataChanges:!1};function VA(n,e){return void 0===e&&(e=VL),new Vr.y(function(t){var r=function TL(n,...e){var t,r,i;n=(0,ni.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||SA(e[l])||(a=e[l],l++);const f={includeMetadataChanges:a.includeMetadataChanges};if(SA(e[l])){const x=e[l];e[l]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[l+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[l+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let y,I,T;if(n instanceof Hr)I=cn(n.firestore,rr),T=Mp(n._key.path),y={next:x=>{e[l]&&e[l](function LA(n,e,t){const r=t.docs.get(e._key),i=new Bh(n);return new ey(n,i,e._key,r,new jp(t.hasPendingWrites,t.fromCache),e.converter)}(I,n,x))},error:e[l+1],complete:e[l+2]};else{const x=cn(n,Gi);I=cn(x.firestore,rr),T=x._query;const F=new Bh(I);y={next:V=>{e[l]&&e[l](new ty(I,F,x,V))},error:e[l+1],complete:e[l+2]},dP(n._query)}return function(x,F,V,K){const ne=new iD(K),he=new WS(F,ne,V);return x.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return jS(yield Ym(x),he)})),()=>{ne.Dc(),x.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return HS(yield Ym(x),he)}))}}(oi(I),T,f,y)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function GL(n,e){return void 0===e&&(e={}),function zL(n){return VA(n,{includeMetadataChanges:!0}).pipe((0,Mt.U)(function(e){return e.docs}))}(n).pipe((0,Mt.U)(function(t){return t.map(function(r){return function EP(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class vD{constructor(e){return e}}const CP="firestore",jA=new h.OlP("angularfire2.firestore-instances");function KL(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new vD(r)}}const ZL={provide:class WL{constructor(){return(0,xn.vb)(CP)}},deps:[[new h.FiY,jA]]},YL={provide:vD,useFactory:function qL(n,e){const t=(0,xn.JM)(CP,n,e);return t&&new vD(t)},deps:[[new h.FiY,jA],sl]};let bP=(()=>{class n{constructor(){(0,su.KN)("angularfire",xn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[YL,ZL]}),n})();function QL(n,...e){return{ngModule:bP,providers:[{provide:jA,useFactory:KL(n),multi:!0,deps:[h.R0b,h.zs3,xn.HU,Dg,[new h.FiY,bg],[new h.FiY,jg],...e]}]}}const eE=(0,xn.u3)(GL,!0),Vc=(0,xn.u3)(rL,!0),JL=(0,xn.u3)(bL,!0),_D=(0,xn.u3)(QR,!0),TP=(0,xn.u3)(IL,!0),XL=(0,xn.u3)(oL,!0),SP=(0,xn.u3)(vL,!0),ny=(0,xn.u3)(mL,!0),AP=(0,xn.u3)(DL,!0),eV=(0,xn.u3)(CL,!0),ED=(0,xn.u3)(yL,!0);var wD=(()=>(function(n){n[n.asc=0]="asc",n[n.desc=1]="desc"}(wD||(wD={})),wD))();let tV=(()=>{class n{constructor(t){this.firestore=t}guardarObjetoSinIdAsignado(t,r){const i=Vc(this.firestore,t),a=_D(i);return r.id=a.id,AP(a,r)}guardarObjetoConIdAsignado(t,r){const i=Vc(this.firestore,t),a=_D(i);return AP(a,r)}traerListaDeObjetos(t){var r=this;return(0,et.Z)(function*(){const i=Vc(r.firestore,t),a=yield TP(i).then(f=>f),l=[];return a.forEach(f=>{l.push(f.data())}),l})()}traerListaDeObjetosConObservable(t){const r=Vc(this.firestore,t);return eE(r)}traerListaDeObjetosFiltrada(t,r,i,a){var l=this;return(0,et.Z)(function*(){const f=Vc(l.firestore,t);let y;y=ny(f,ED(r,a==Qs.igual?"==":"!=",i));const I=yield TP(y).then(x=>x),T=[];return I.forEach(x=>{T.push(x.data())}),T})()}traerListaDeObjetosFiltradaConObservable(t,r,i,a){const l=Vc(this.firestore,t);return eE(ny(l,ED(r,a==Qs.igual?"==":"!=",i)))}traerListaDeObjetosOrdenadaConObservable(t,r,i){const a=Vc(this.firestore,t);return eE(ny(a,SP(r,i==wD.asc?"asc":"desc")))}modificarObjeto(t,r){const i=Vc(this.firestore,t),a=_D(i,r.id);return eV(a,{...r})}eliminarObjeto(t,r){const i=Vc(this.firestore,t),a=_D(i,r);return JL(a)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(vD))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nV=(()=>{class n{constructor(t){this.firestoreDB=t,this.nombreColeccion="usuarios"}cargarUsuarioConIdAsignado(t){return this.firestoreDB.guardarObjetoConIdAsignado(this.nombreColeccion,{...t})}traerUsuarioPorId(t){var r=this;return(0,et.Z)(function*(){let i=yield r.firestoreDB.traerListaDeObjetosFiltrada(r.nombreColeccion,"id",t,Qs.igual);return i&&i.length>0?i[0]:null})()}obtenerListaDeUsuarios(){return this.firestoreDB.traerListaDeObjetos(this.nombreColeccion)}obtenerListadoDeUsuariosObservable(){return this.firestoreDB.traerListaDeObjetosConObservable(this.nombreColeccion)}modificarUsuario(t){return this.firestoreDB.modificarObjeto(this.nombreColeccion,t)}eliminarUsuario(t){return this.firestoreDB.eliminarObjeto(this.nombreColeccion,t)}traerListaDeCorreosFiltradaConObservable(t){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,"correo",t,Qs.igual)}traerListaDeUsuariosFiltradaConObservable(t){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,"usuario",t,Qs.igual)}traerListaDeCorreosFiltrada(t){return this.firestoreDB.traerListaDeObjetosFiltrada(this.nombreColeccion,"correo",t,Qs.igual)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(tV))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var rV=k(6451),ID=k(5363),iV=k(6063);class sV extends lr.x{constructor(e=1/0,t=1/0,r=iV.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=l;y+=2)f=y;f&&r.splice(0,f+1)}}}var oV=k(3099);function MP(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,oV.B)({connector:()=>new sV(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function xP(n,e){return(0,nc.m)(e)?vn(()=>n,e):vn(()=>n)}var $A=k(9468),$p=k(2011),aV=k(9260);const lV=new h.OlP("angularfire2.auth.use-emulator"),cV=new h.OlP("angularfire2.auth.settings"),dV=new h.OlP("angularfire2.auth.tenant-id"),hV=new h.OlP("angularfire2.auth.langugage-code"),fV=new h.OlP("angularfire2.auth.use-device-language"),pV=new h.OlP("angularfire.auth.persistence");let HA=(()=>{class n{constructor(t,r,i,a,l,f,y,I,T,x,F,V){const K=new lr.x,ne=lt(void 0).pipe((0,ID.Q)(l.outsideAngular),vn(()=>a.runOutsideAngular(()=>k.e(568).then(k.bind(k,9568)))),(0,Mt.U)(()=>(0,$p.on)(t,a,r)),(0,Mt.U)(he=>((n,e,t,r,i,a,l,f)=>(0,$p.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),l)for(const[I,T]of Object.entries(l))y.settings[I]=T;return f&&y.setPersistence(f),y},[t,r,i,a,l,f]))(he,a,f,I,T,x,y,F)),MP({bufferSize:1,refCount:!1}));if(function xa(n){return"server"===n}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{ne.pipe(fs()).subscribe();const Ve=ne.pipe(vn(gt=>gt.getRedirectResult().then(qt=>qt,()=>null)),xn.iC,MP({bufferSize:1,refCount:!1})),Xe=ne.pipe(vn(gt=>new Vr.y(qt=>({unsubscribe:a.runOutsideAngular(()=>gt.onAuthStateChanged(Kt=>qt.next(Kt),Kt=>qt.error(Kt),()=>qt.complete()))})))),it=ne.pipe(vn(gt=>new Vr.y(qt=>({unsubscribe:a.runOutsideAngular(()=>gt.onIdTokenChanged(Kt=>qt.next(Kt),Kt=>qt.error(Kt),()=>qt.complete()))}))));this.authState=Ve.pipe(xP(Xe),(0,$A.R)(l.outsideAngular),(0,ID.Q)(l.insideAngular)),this.user=Ve.pipe(xP(it),(0,$A.R)(l.outsideAngular),(0,ID.Q)(l.insideAngular)),this.idToken=this.user.pipe(vn(gt=>gt?(0,fn.D)(gt.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(vn(gt=>gt?(0,fn.D)(gt.getIdTokenResult()):lt(null))),this.credential=(0,rV.T)(Ve,K,this.authState.pipe(Li(gt=>!gt))).pipe((0,Mt.U)(gt=>gt?.user?gt:null),(0,$A.R)(l.outsideAngular),(0,ID.Q)(l.insideAngular))}return(0,$p.pX)(this,ne,a,{spy:{apply:(he,Ve,Xe)=>{(he.startsWith("signIn")||he.startsWith("createUser"))&&Xe.then(it=>K.next(it))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG($p.Dh),h.LFG($p.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(xn.HU),h.LFG(lV,8),h.LFG(cV,8),h.LFG(dV,8),h.LFG(hV,8),h.LFG(fV,8),h.LFG(pV,8),h.LFG(jg,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),mV=(()=>{class n{constructor(){aV.Z.registerVersion("angularfire",xn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[HA]}),n})(),yV=(()=>{class n{constructor(){}guardarItem(t,r){localStorage.setItem(t,JSON.stringify(r))}obtenerItem(t){const r=localStorage.getItem(t);return null!=r?JSON.parse(r):r}eliminarItem(t){localStorage.removeItem(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vV=(()=>{class n{constructor(t,r,i){this.auth=t,this.localStorage=r,this.route=i,this.usuarioEstaLogueado=!1,this.suscripcion=this.auth.authState.subscribe(a=>{a&&(this.usuarioActual=a,this.localStorage.guardarItem("usuario",{id:a.uid,mail:a.email}),this.usuarioEstaLogueado=!0)})}get getUsuarioEstaLogueado(){return this.usuarioEstaLogueado=null!=this.localStorage.obtenerItem("usuario"),this.usuarioEstaLogueado}get getUsuarioActualBasico(){return this.localStorage.obtenerItem("usuario")}get getUsuarioActualCompleto(){return this.usuarioActual}registrarUsuario(t,r){return this.auth.createUserWithEmailAndPassword(t,r)}loguearUsuario(t,r){return this.auth.signInWithEmailAndPassword(t,r)}desloguear(){return this.localStorage.eliminarItem("usuario"),this.usuarioEstaLogueado=!1,this.auth.signOut()}ObtenerCambiosDeEstado(){return this.auth.authState}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(HA),h.LFG(yV),h.LFG(Bi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tE(n){return(tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function He(n,e,t){return(e=function EV(n){var e=function _V(n,e){if("object"!==tE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==tE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===tE(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}class NP{}class wV{}const Uc="*";function IV(n,e){return{type:7,name:n,definitions:e,options:{}}}function RP(n,e=null){return{type:4,styles:e,timings:n}}function PP(n,e=null){return{type:2,steps:n,options:e}}function nE(n){return{type:6,styles:n,offset:null}}function zA(n,e,t){return{type:0,name:n,styles:e,options:t}}function OP(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function kP(n){Promise.resolve().then(n)}class rE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class FP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?kP(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const GA="!",LP=["toast-component",""];function DV(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.remove())}),h.TgZ(1,"span",6),h._uU(2,"\xd7"),h.qZA()()}}function CV(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("[",t.duplicatesCount+1,"]")}}function bV(n,e){if(1&n&&(h.TgZ(0,"div"),h._uU(1),h.YNc(2,CV,2,1,"ng-container",4),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.titleClass),h.uIk("aria-label",t.title),h.xp6(1),h.hij(" ",t.title," "),h.xp6(1),h.Q6J("ngIf",t.duplicatesCount)}}function TV(n,e){if(1&n&&h._UZ(0,"div",7),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.Q6J("innerHTML",t.message,h.oJD)}}function SV(n,e){if(1&n&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.uIk("aria-label",t.message),h.xp6(1),h.hij(" ",t.message," ")}}function AV(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"div",9),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Udp("width",t.width+"%")}}class kV{constructor(e,t){He(this,"_attachedHost",void 0),He(this,"component",void 0),He(this,"viewContainerRef",void 0),He(this,"injector",void 0),this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class FV{constructor(){He(this,"_attachedPortal",void 0),He(this,"_disposeFn",void 0)}attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class LV{constructor(e){He(this,"_overlayRef",void 0),He(this,"componentInstance",void 0),He(this,"duplicatesCount",0),He(this,"_afterClosed",new lr.x),He(this,"_activate",new lr.x),He(this,"_manualClose",new lr.x),He(this,"_resetTimeout",new lr.x),He(this,"_countDuplicate",new lr.x),this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class DD{constructor(e,t,r,i,a,l){He(this,"toastId",void 0),He(this,"config",void 0),He(this,"message",void 0),He(this,"title",void 0),He(this,"toastType",void 0),He(this,"toastRef",void 0),He(this,"_onTap",new lr.x),He(this,"_onAction",new lr.x),this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=a,this.toastRef=l,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const UP=new h.OlP("ToastConfig");class VV extends FV{constructor(e,t,r){super(),He(this,"_hostDomElement",void 0),He(this,"_componentFactoryResolver",void 0),He(this,"_appRef",void 0),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let UV=(()=>{class n{constructor(){He(this,"_document",(0,h.f3M)(ae)),He(this,"_containerElement",void 0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return He(n,"\u0275fac",function(t){return new(t||n)}),He(n,"\u0275prov",h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();class BV{constructor(e){He(this,"_portalHost",void 0),this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let jV=(()=>{class n{constructor(){He(this,"_overlayContainer",(0,h.f3M)(UV)),He(this,"_componentFactoryResolver",(0,h.f3M)(h._Vd)),He(this,"_appRef",(0,h.f3M)(h.z2F)),He(this,"_document",(0,h.f3M)(ae)),He(this,"_paneElements",new Map)}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new VV(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new BV(this._createPortalHost(t))}}return He(n,"\u0275fac",function(t){return new(t||n)}),He(n,"\u0275prov",h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})(),WA=(()=>{class n{constructor(t,r,i,a,l){He(this,"overlay",void 0),He(this,"_injector",void 0),He(this,"sanitizer",void 0),He(this,"ngZone",void 0),He(this,"toastrConfig",void 0),He(this,"currentlyActive",0),He(this,"toasts",[]),He(this,"overlayContainer",void 0),He(this,"previousToastMessage",void 0),He(this,"index",0),this.overlay=r,this._injector=i,this.sanitizer=a,this.ngZone=l,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},a=""){return this._preBuildNotification(a,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,a){const{includeTitleDuplicates:l}=this.toastrConfig;for(const f of this.toasts)if((!l||l&&f.title===t)&&f.message===r)return f.toastRef.onDuplicate(i,a),f;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,a)):this._buildNotification(t,r,i,a)}_buildNotification(t,r,i,a){if(!a.toastComponent)throw new Error("toastComponent required");const l=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==l)return l;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const y=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let I=r;r&&a.enableHtml&&(I=this.sanitizer.sanitize(h.q3G.HTML,r));const T=new LV(y),x=new DD(this.index,a,I,i,t,T),V=h.zs3.create({providers:[{provide:DD,useValue:x}],parent:this._injector}),K=new kV(a.toastComponent,V),ne=y.attach(K,a.newestOnTop);T.componentInstance=ne.instance;const he={toastId:this.index,title:i||"",message:r||"",toastRef:T,onShown:T.afterActivate(),onHidden:T.afterClosed(),onTap:x.onTap(),onAction:x.onAction(),portal:ne};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{he.toastRef.activate()})),this.toasts.push(he),he}}return He(n,"\u0275fac",function(t){return new(t||n)(h.LFG(UP),h.LFG(jV),h.LFG(h.zs3),h.LFG(Ga),h.LFG(h.R0b))}),He(n,"\u0275prov",h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();const $V={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(t,r,i){He(this,"toastrService",void 0),He(this,"toastPackage",void 0),He(this,"ngZone",void 0),He(this,"message",void 0),He(this,"title",void 0),He(this,"options",void 0),He(this,"duplicatesCount",void 0),He(this,"originalTimeout",void 0),He(this,"width",-1),He(this,"toastClasses",""),He(this,"state",void 0),He(this,"timeout",void 0),He(this,"intervalId",void 0),He(this,"hideTime",void 0),He(this,"sub",void 0),He(this,"sub1",void 0),He(this,"sub2",void 0),He(this,"sub3",void 0),this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return He(n,"\u0275fac",function(t){return new(t||n)(h.Y36(WA),h.Y36(DD),h.Y36(h.R0b))}),He(n,"\u0275cmp",h.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(h.d8E("@flyInOut",r.state),h.Tol(r.toastClasses),h.Udp("display",r.displayStyle))},standalone:!0,features:[h.jDz],attrs:LP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(h.YNc(0,DV,3,0,"button",0),h.YNc(1,bV,3,5,"div",1),h.YNc(2,TV,1,3,"div",2),h.YNc(3,SV,2,4,"div",3),h.YNc(4,AV,2,2,"div",4)),2&t&&(h.Q6J("ngIf",r.options.closeButton),h.xp6(1),h.Q6J("ngIf",r.title),h.xp6(1),h.Q6J("ngIf",r.message&&r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.message&&!r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.options.progressBar))},dependencies:[Ms],encapsulation:2,data:{animation:[IV("flyInOut",[zA("inactive",nE({opacity:0})),zA("active",nE({opacity:1})),zA("removed",nE({opacity:0})),OP("inactive => active",RP("{{ easeTime }}ms {{ easing }}")),OP("active => removed",RP("{{ easeTime }}ms {{ easing }}"))])]}})),n})()},HV=(n={})=>(0,h.MR2)([{provide:UP,useValue:{default:$V,config:n}}]);let zV=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[HV(t)]}}}return He(n,"\u0275fac",function(t){return new(t||n)}),He(n,"\u0275mod",h.oAB({type:n})),He(n,"\u0275inj",h.cJS({})),n})(),GV=(()=>{class n{constructor(t){this.toastr=t}exito(t="",r=""){this.toastr.success(""!=t?t:"Se ha completado la operaci\xf3n con \xe9xito!.",""!=r?r:"Operaci\xf3n exitosa.",{toastClass:"toast-custom-success",timeOut:4e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-position"})}error(t="",r=""){this.toastr.error(""!=t?t:"Ha ocurrido un error al procesar la operaci\xf3n.",""!=r?r:"Ha ocurrido un error.",{toastClass:"toast-custom-error",timeOut:4e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-position"})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(WA))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WV=(()=>{class n{constructor(t,r,i){this.f=t,this.login=r,this.toast=i,this.title="Zafferano.Gonzalo.Examen.LaboratorioIV.4B"}cargar(){this.toast.exito("Cargo","titulo"),this.f.cargarUsuarioConIdAsignado({id:"33",nombre:"gonzalo"}),this.f.cargarUsuarioConIdAsignado({id:"34",nombre:"mariana"}),this.f.cargarUsuarioConIdAsignado({id:"35",nombre:"pepe"})}modifivar(){this.f.modificarUsuario({id:"99jQghXnd8k3UtEbe4ZA",nombre:"fabian1113333333"})}traer(){var t=this;return(0,et.Z)(function*(){console.log(yield t.f.obtenerListaDeUsuarios())})()}borrar(){this.toast.error("boro","titulo"),this.f.eliminarUsuario("GSpTZDCUK3ypZZU7s1fG")}traerPorId(){var t=this;return(0,et.Z)(function*(){yield t.f.traerUsuarioPorId("34").then(r=>{console.log(r)})})()}log(){this.login.registrarUsuario("test@test.com","123456")}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(nV),h.Y36(vV),h.Y36(GV))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:13,vars:0,consts:[[1,"container"],[3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"button",1),h.NdJ("click",function(){return r.cargar()}),h._uU(2,"aa"),h.qZA(),h.TgZ(3,"button",1),h.NdJ("click",function(){return r.modifivar()}),h._uU(4,"bb"),h.qZA(),h.TgZ(5,"button",1),h.NdJ("click",function(){return r.traer()}),h._uU(6,"cc"),h.qZA(),h.TgZ(7,"button",1),h.NdJ("click",function(){return r.borrar()}),h._uU(8,"dd"),h.qZA(),h.TgZ(9,"button",2),h.NdJ("click",function(){return r.traerPorId()}),h._uU(10,"trearPorId"),h.qZA()(),h.TgZ(11,"button",1),h.NdJ("click",function(){return r.log()}),h._uU(12,"LOG"),h.qZA())}}),n})();const BP_firebase={projectId:"examen-laboratorio4",appId:"1:1066258180819:web:4df916d619d7c74dc90226",storageBucket:"examen-laboratorio4.appspot.com",apiKey:"AIzaSyCEc0nYQOmdGg_TIumyWeL2itNpTWta93Y",authDomain:"examen-laboratorio4.firebaseapp.com",messagingSenderId:"1066258180819"},zp=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>oE}),oE="always";let SO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const uM=new h.OlP("NgModelWithFormControlWarning");let zO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[SO]}),n})(),Z2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zp,useValue:t.callSetDisabledState??oE}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[zO]}),n})(),Y2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:zp,useValue:t.callSetDisabledState??oE}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[zO]}),n})();function GO(n){return new h.vHH(3e3,!1)}function NU(){return typeof window<"u"&&typeof window.document<"u"}function gM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function zh(n){switch(n.length){case 0:return new rE;case 1:return n[0];default:return new FP(n)}}function WO(n,e,t,r,i=new Map,a=new Map){const l=[],f=[];let y=-1,I=null;if(r.forEach(T=>{const x=T.get("offset"),F=x==y,V=F&&I||new Map;T.forEach((K,ne)=>{let he=ne,Ve=K;if("offset"!==ne)switch(he=e.normalizePropertyName(he,l),Ve){case GA:Ve=i.get(ne);break;case Uc:Ve=a.get(ne);break;default:Ve=e.normalizeStyleValue(ne,he,Ve,l)}V.set(he,Ve)}),F||f.push(V),I=V,y=x}),l.length)throw function _U(n){return new h.vHH(3502,!1)}();return f}function mM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&yM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&yM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&yM(t,"destroy",n)))}}function yM(n,e,t){const a=vM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function vM(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function Lo(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function qO(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let _M=(n,e)=>!1,KO=(n,e,t)=>[],ZO=null;function EM(n){const e=n.parentNode||n.host;return e===ZO?null:e}(gM()||typeof Element<"u")&&(NU()?(ZO=(()=>document.documentElement)(),_M=(n,e)=>{for(;e;){if(e===n)return!0;e=EM(e)}return!1}):_M=(n,e)=>n.contains(e),KO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Wp=null,YO=!1;const QO=_M,JO=KO;let XO=(()=>{class n{validateStyleProperty(t){return function PU(n){Wp||(Wp=function OU(){return typeof document<"u"?document.body:null}()||{},YO=!!Wp.style&&"WebkitAppearance"in Wp.style);let e=!0;return Wp.style&&!function RU(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Wp.style,!e&&YO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Wp.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return QO(t,r)}getParentElement(t){return EM(t)}query(t,r,i){return JO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,f=[],y){return new rE(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),wM=(()=>{class n{}return n.NOOP=new XO,n})();const kU=1e3,IM="ng-enter",PD="ng-leave",OD="ng-trigger",kD=".ng-trigger",t1="ng-animating",DM=".ng-animating";function Bc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:CM(parseFloat(e[1]),e[2])}function CM(n,e){return"s"===e?n*kU:n}function FD(n,e,t){return n.hasOwnProperty("duration")?n:function LU(n,e,t){let i,a=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(GO()),{duration:0,delay:0,easing:""};i=CM(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(a=CM(parseFloat(y),f[4]));const I=f[5];I&&(l=I)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function Q2(){return new h.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function J2(){return new h.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,GO())}return{duration:i,delay:a,easing:l}}(n,e,t)}function lE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function n1(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Gh(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function i1(n,e,t){return t?e+":"+t+";":""}function s1(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=i1(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=i1(0,jU(t),n.style[t]));n.setAttribute("style",e)}function bl(n,e,t){n.style&&(e.forEach((r,i)=>{const a=TM(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),gM()&&s1(n))}function qp(n,e){n.style&&(e.forEach((t,r)=>{const i=TM(r);n.style[i]=""}),gM()&&s1(n))}function cE(n){return Array.isArray(n)?1==n.length?n[0]:PP(n):n}const bM=new RegExp("{{\\s*(.+?)\\s*}}","g");function o1(n){let e=[];if("string"==typeof n){let t;for(;t=bM.exec(n);)e.push(t[1]);bM.lastIndex=0}return e}function dE(n,e,t){const r=n.toString(),i=r.replace(bM,(a,l)=>{let f=e[l];return null==f&&(t.push(function eU(n){return new h.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function LD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const BU=/-+([a-z0-9])/g;function TM(n){return n.replace(BU,(...e)=>e[1].toUpperCase())}function jU(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function tU(n){return new h.vHH(3004,!1)}()}}function a1(n,e){return window.getComputedStyle(n)[e]}const BD="*";function qU(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function KU(n,e,t){if(":"==n[0]){const y=function ZU(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function gU(n){return new h.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function pU(n){return new h.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(u1(i,l));"<"==a[0]&&!(i==BD&&l==BD)&&e.push(u1(l,i))}(r,t,e)):t.push(n),t}const jD=new Set(["true","1"]),$D=new Set(["false","0"]);function u1(n,e){const t=jD.has(n)||$D.has(n),r=jD.has(e)||$D.has(e);return(i,a)=>{let l=n==BD||n==i,f=e==BD||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?jD.has(n):$D.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?jD.has(e):$D.has(e)),l&&f}}const YU=new RegExp("s*:selfs*,?","g");function SM(n,e,t,r){return new QU(n).build(e,t,r)}class QU{constructor(e){this._driver=e}build(e,t,r){const i=new eB(t);return this._resetContextStyleTimingState(i),Vo(this,cE(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function rU(){return new h.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,I=y.name;I.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,a.push(this.visitState(y,t))}),y.name=I}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,l.push(y)}else t.errors.push(function iU(){return new h.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{o1(y).forEach(I=>{l.hasOwnProperty(I)||a.add(I)})})}),a.size&&(LD(a.values()),t.errors.push(function sU(n,e){return new h.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Vo(this,cE(e.animation),t);return{type:1,matchers:qU(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Kp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Vo(this,r,t)),options:Kp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const f=Vo(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:Kp(e.options)}}visitAnimate(e,t){const r=function nB(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return AM(FD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=AM(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=FD(t,e);return AM(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:nE({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,f=!1;if(!l){f=!0;const I={};r.easing&&(I.easing=r.easing),l=nE(I)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(l,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Uc?r.push(f):t.errors.push(new h.vHH(3002,!1)):r.push(n1(f));let a=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!a))for(let y of f.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,y)=>{const I=t.collectedStyles.get(t.currentQuerySelector),T=I.get(y);let x=!0;T&&(a!=i&&a>=T.startTime&&i<=T.endTime&&(t.errors.push(function aU(n,e,t,r,i){return new h.vHH(3010,!1)}()),x=!1),a=T.startTime),x&&I.set(y,{startTime:a,endTime:i}),t.options&&function UU(n,e,t){const r=e.params||{},i=o1(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function X2(n){return new h.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function uU(){return new h.vHH(3011,!1)}()),r;let a=0;const l=[];let f=!1,y=!1,I=0;const T=e.steps.map(Ve=>{const Xe=this._makeStyleAst(Ve,t);let it=null!=Xe.offset?Xe.offset:function tB(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Xe.styles),gt=0;return null!=it&&(a++,gt=Xe.offset=it),y=y||gt<0||gt>1,f=f||gt<I,I=gt,l.push(gt),Xe});y&&t.errors.push(function lU(){return new h.vHH(3012,!1)}()),f&&t.errors.push(function cU(){return new h.vHH(3200,!1)}());const x=e.steps.length;let F=0;a>0&&a<x?t.errors.push(function dU(){return new h.vHH(3202,!1)}()):0==a&&(F=1/(x-1));const V=x-1,K=t.currentTime,ne=t.currentAnimateTimings,he=ne.duration;return T.forEach((Ve,Xe)=>{const it=F>0?Xe==V?1:F*Xe:l[Xe],gt=it*he;t.currentTime=K+ne.delay+gt,ne.duration=gt,this._validateStyleAst(Ve,t),Ve.offset=it,r.styles.push(Ve)}),r}visitReference(e,t){return{type:8,animation:Vo(this,cE(e.animation),t),options:Kp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Kp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Kp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function JU(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(YU,"")),n=n.replace(/@\*/g,kD).replace(/@\w+/g,t=>kD+"-"+t.slice(1)).replace(/:animating/g,DM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Lo(t.collectedStyles,t.currentQuerySelector,new Map);const f=Vo(this,cE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:Kp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function hU(){return new h.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:FD(e.timings,t.errors,!0);return{type:12,animation:Vo(this,cE(e.animation),t),timings:r,options:null}}}class eB{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Kp(n){return n?(n=lE(n)).params&&(n.params=function XU(n){return n?lE(n):null}(n.params)):n={},n}function AM(n,e,t){return{duration:n,delay:e,easing:t}}function MM(n,e,t,r,i,a,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:f}}class HD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const sB=new RegExp(":enter","g"),aB=new RegExp(":leave","g");function xM(n,e,t,r,i,a=new Map,l=new Map,f,y,I=[]){return(new uB).buildKeyframes(n,e,t,r,i,a,l,f,y,I)}class uB{buildKeyframes(e,t,r,i,a,l,f,y,I,T=[]){I=I||new HD;const x=new NM(e,t,I,i,a,T,[]);x.options=y;const F=y.delay?Bc(y.delay):0;x.currentTimeline.delayNextStep(F),x.currentTimeline.setStyles([l],null,x.errors,y),Vo(this,r,x);const V=x.timelines.filter(K=>K.containsAnimation());if(V.length&&f.size){let K;for(let ne=V.length-1;ne>=0;ne--){const he=V[ne];if(he.element===t){K=he;break}}K&&!K.allowOnlyTimelineStyles()&&K.setStyles([f],null,x.errors,y)}return V.length?V.map(K=>K.buildKeyframes()):[MM(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const l="number"==typeof a?a:Bc(dE(a,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?Bc(r.duration):null,f=null!=r.delay?Bc(r.delay):null;return 0!==l&&e.forEach(y=>{const I=t.appendInstructionToTimeline(y,l,f);a=Math.max(a,I.duration+I.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Vo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=zD);const l=Bc(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Vo(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Bc(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Vo(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return FD(t.params?dE(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*a),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Bc(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=zD);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((I,T)=>{t.currentQueryIndex=T;const x=t.createSubContext(e.options,I);a&&x.delayNextStep(a),I===t.element&&(y=x.currentTimeline),Vo(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),f=l*(t.currentQueryTotal-1);let y=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const T=t.currentTimeline;y&&T.delayNextStep(y);const x=T.currentTime;Vo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const zD={};class NM{constructor(e,t,r,i,a,l,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new GD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Bc(r.duration)),null!=r.delay&&(i.delay=Bc(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=dE(a[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new NM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=zD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new lB(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(sB,"."+this._enterClassName)).replace(aB,"."+this._leaveClassName);let I=this._driver.query(this.element,e,1!=r);0!==r&&(I=r<0?I.slice(I.length+r,I.length):I.slice(0,r)),f.push(...I)}return!a&&0==f.length&&l.push(function fU(n){return new h.vHH(3014,!1)}()),f}}class GD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new GD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Uc),this._currentKeyframe.set(t,Uc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function cB(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,Uc)}else Gh(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of l){const I=dE(y,a,r);this._pendingStyles.set(f,I),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Uc),this._updateStyle(f,I)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const I=Gh(f,new Map,this._backFill);I.forEach((T,x)=>{T===GA?e.add(x):T===Uc&&t.add(x)}),r||I.set("offset",y/this.duration),i.push(I)});const a=e.size?LD(e.values()):[],l=t.size?LD(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return MM(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class lB extends GD{constructor(e,t,r,i,a,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,f=t/l,y=Gh(e[0]);y.set("offset",0),a.push(y);const I=Gh(e[0]);I.set("offset",d1(f)),a.push(I);const T=e.length-1;for(let x=1;x<=T;x++){let F=Gh(e[x]);const V=F.get("offset");F.set("offset",d1((t+V*r)/l)),a.push(F)}r=l,t=0,i="",e=a}return MM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function d1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class RM{}const dB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class hB extends RM{normalizePropertyName(e,t){return TM(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(dB.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function nU(n,e){return new h.vHH(3005,!1)}())}return l+a}}function h1(n,e,t,r,i,a,l,f,y,I,T,x,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:f,queriedElements:y,preStyleProps:I,postStyleProps:T,totalTime:x,errors:F}}const PM={};class f1{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function fB(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,f,y,I,T){const x=[],F=this.ast.options&&this.ast.options.params||PM,K=this.buildStyles(r,f&&f.params||PM,x),ne=y&&y.params||PM,he=this.buildStyles(i,ne,x),Ve=new Set,Xe=new Map,it=new Map,gt="void"===i,qt={params:pB(ne,F),delay:this.ast.options?.delay},Kt=T?[]:xM(e,t,this.ast.animation,a,l,K,he,qt,I,x);let bn=0;if(Kt.forEach(wa=>{bn=Math.max(wa.duration+wa.delay,bn)}),x.length)return h1(t,this._triggerName,r,i,gt,K,he,[],[],Xe,it,bn,x);Kt.forEach(wa=>{const $c=wa.element,j1=Lo(Xe,$c,new Set);wa.preStyleProps.forEach(Zp=>j1.add(Zp));const gE=Lo(it,$c,new Set);wa.postStyleProps.forEach(Zp=>gE.add(Zp)),$c!==t&&Ve.add($c)});const Wi=LD(Ve.values());return h1(t,this._triggerName,r,i,gt,K,he,Kt,Wi,Xe,it,bn)}}function pB(n,e){const t=lE(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class gB{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=lE(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,f)=>{l&&(l=dE(l,i,t));const y=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,y,l,t),r.set(f,l)})}),r}}class yB{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new gB(i.style,i.options&&i.options.params||{},r))}),p1(this.states,"true","1"),p1(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new f1(e,i,this.states))}),this.fallbackTransition=function vB(n,e,t){return new f1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function p1(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const _B=new HD;class EB{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],a=SM(this._driver,t,r,i);if(r.length)throw function EU(n){return new h.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=WO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const f=new Map;if(a?(l=xM(this._driver,t,a,IM,PD,new Map,new Map,r,_B,i),l.forEach(T=>{const x=Lo(f,T.element,new Map);T.postStyleProps.forEach(F=>x.set(F,null))})):(i.push(function wU(){return new h.vHH(3300,!1)}()),l=[]),i.length)throw function IU(n){return new h.vHH(3504,!1)}();f.forEach((T,x)=>{T.forEach((F,V)=>{T.set(V,this._driver.computeStyle(x,V,Uc))})});const I=zh(l.map(T=>{const x=f.get(T.element);return this._buildPlayer(T,new Map,x)}));return this._playersById.set(e,I),I.onDestroy(()=>this.destroy(e)),this.players.push(I),I}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function DU(n){return new h.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=vM(t,"","","");return mM(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const g1="ng-animate-queued",OM="ng-animate-disabled",bB=[],m1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},TB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_a="__ng_removed";class kM{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function xB(n){return n??null}(r?e.value:e),r){const a=lE(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const hE="void",FM=new kM(hE);class SB{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ea(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function CU(n,e){return new h.vHH(3302,!1)}();if(null==r||0==r.length)throw function bU(n){return new h.vHH(3303,!1)}();if(!function NB(n){return"start"==n||"done"==n}(r))throw function TU(n,e){return new h.vHH(3400,!1)}();const a=Lo(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const f=Lo(this._engine.statesByElement,e,new Map);return f.has(t)||(Ea(e,OD),Ea(e,OD+"-"+t),f.set(t,FM)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(l);y>=0&&a.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function SU(n){return new h.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new LM(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ea(e,OD),Ea(e,OD+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const I=new kM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&I.absorbOptions(y.options),f.set(t,I),y||(y=FM),I.value!==hE&&y.value===I.value){if(!function OB(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(y.params,I.params)){const ne=[],he=a.matchStyles(y.value,y.params,ne),Ve=a.matchStyles(I.value,I.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{qp(e,he),bl(e,Ve)})}return}const F=Lo(this._engine.playersByElement,e,[]);F.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let V=a.matchTransition(y.value,I.value,e,I.params),K=!1;if(!V){if(!i)return;V=a.fallbackTransition,K=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:y,toState:I,player:l,isFallbackTransition:K}),K||(Ea(e,g1),l.onStart(()=>{iy(e,g1)})),l.onDone(()=>{let ne=this.players.indexOf(l);ne>=0&&this.players.splice(ne,1);const he=this._engine.playersByElement.get(e);if(he){let Ve=he.indexOf(l);Ve>=0&&he.splice(Ve,1)}}),this.players.push(l),F.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,kD,!0);r.forEach(i=>{if(i[_a])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const f=[];if(a.forEach((y,I)=>{if(l.set(I,y.value),this._triggers.has(I)){const T=this.trigger(e,I,hE,i);T&&f.push(T)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&zh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const y=this._triggers.get(l).fallbackTransition,I=r.get(l)||FM,T=new kM(hE),x=new LM(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:y,fromState:I,toState:T,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[_a];(!a||a===m1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ea(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(f=>{if(f.name==r.triggerName){const y=vM(a,r.triggerName,r.fromState.value,r.toState.value);y._data=e,mM(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class AB{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new SB(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const I=r.indexOf(y);r.splice(I+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(WD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!WD(t))return;const a=t[_a];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ea(e,OM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),iy(e,OM))}removeNode(e,t,r,i){if(WD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[_a]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return WD(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,kD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,DM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return zh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[_a];if(t&&t.setForRemoval){if(e[_a]=m1,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(OM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ea(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?zh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function AU(n){return new h.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new HD,i=[],a=new Map,l=[],f=new Map,y=new Map,I=new Map,T=new Set;this.disabledNodes.forEach(wt=>{T.add(wt);const Ot=this.driver.query(wt,".ng-animate-queued",!0);for(let Vt=0;Vt<Ot.length;Vt++)T.add(Ot[Vt])});const x=this.bodyNode,F=Array.from(this.statesByElement.keys()),V=_1(F,this.collectedEnterElements),K=new Map;let ne=0;V.forEach((wt,Ot)=>{const Vt=IM+ne++;K.set(Ot,Vt),wt.forEach(gn=>Ea(gn,Vt))});const he=[],Ve=new Set,Xe=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Ot=this.collectedLeaveElements[wt],Vt=Ot[_a];Vt&&Vt.setForRemoval&&(he.push(Ot),Ve.add(Ot),Vt.hasAnimation?this.driver.query(Ot,".ng-star-inserted",!0).forEach(gn=>Ve.add(gn)):Xe.add(Ot))}const it=new Map,gt=_1(F,Array.from(Ve));gt.forEach((wt,Ot)=>{const Vt=PD+ne++;it.set(Ot,Vt),wt.forEach(gn=>Ea(gn,Vt))}),e.push(()=>{V.forEach((wt,Ot)=>{const Vt=K.get(Ot);wt.forEach(gn=>iy(gn,Vt))}),gt.forEach((wt,Ot)=>{const Vt=it.get(Ot);wt.forEach(gn=>iy(gn,Vt))}),he.forEach(wt=>{this.processLeaveNode(wt)})});const qt=[],Kt=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(t).forEach(Vt=>{const gn=Vt.player,Ri=Vt.element;if(qt.push(gn),this.collectedEnterElements.length){const os=Ri[_a];if(os&&os.setForMove){if(os.previousTriggersValues&&os.previousTriggersValues.has(Vt.triggerName)){const Yp=os.previousTriggersValues.get(Vt.triggerName),Ia=this.statesByElement.get(Vt.element);if(Ia&&Ia.has(Vt.triggerName)){const JD=Ia.get(Vt.triggerName);JD.value=Yp,Ia.set(Vt.triggerName,JD)}}return void gn.destroy()}}const Tl=!x||!this.driver.containsElement(x,Ri),Uo=it.get(Ri),qh=K.get(Ri),br=this._buildInstruction(Vt,r,qh,Uo,Tl);if(br.errors&&br.errors.length)return void Kt.push(br);if(Tl)return gn.onStart(()=>qp(Ri,br.fromStyles)),gn.onDestroy(()=>bl(Ri,br.toStyles)),void i.push(gn);if(Vt.isFallbackTransition)return gn.onStart(()=>qp(Ri,br.fromStyles)),gn.onDestroy(()=>bl(Ri,br.toStyles)),void i.push(gn);const z1=[];br.timelines.forEach(os=>{os.stretchStartingKeyframe=!0,this.disabledNodes.has(os.element)||z1.push(os)}),br.timelines=z1,r.append(Ri,br.timelines),l.push({instruction:br,player:gn,element:Ri}),br.queriedElements.forEach(os=>Lo(f,os,[]).push(gn)),br.preStyleProps.forEach((os,Yp)=>{if(os.size){let Ia=y.get(Yp);Ia||y.set(Yp,Ia=new Set),os.forEach((JD,GM)=>Ia.add(GM))}}),br.postStyleProps.forEach((os,Yp)=>{let Ia=I.get(Yp);Ia||I.set(Yp,Ia=new Set),os.forEach((JD,GM)=>Ia.add(GM))})});if(Kt.length){const wt=[];Kt.forEach(Ot=>{wt.push(function MU(n,e){return new h.vHH(3505,!1)}())}),qt.forEach(Ot=>Ot.destroy()),this.reportError(wt)}const bn=new Map,Wi=new Map;l.forEach(wt=>{const Ot=wt.element;r.has(Ot)&&(Wi.set(Ot,Ot),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,bn))}),i.forEach(wt=>{const Ot=wt.element;this._getPreviousPlayers(Ot,!1,wt.namespaceId,wt.triggerName,null).forEach(gn=>{Lo(bn,Ot,[]).push(gn),gn.destroy()})});const wa=he.filter(wt=>w1(wt,y,I)),$c=new Map;v1($c,this.driver,Xe,I,Uc).forEach(wt=>{w1(wt,y,I)&&wa.push(wt)});const gE=new Map;V.forEach((wt,Ot)=>{v1(gE,this.driver,new Set(wt),y,GA)}),wa.forEach(wt=>{const Ot=$c.get(wt),Vt=gE.get(wt);$c.set(wt,new Map([...Array.from(Ot?.entries()??[]),...Array.from(Vt?.entries()??[])]))});const Zp=[],$1=[],H1={};l.forEach(wt=>{const{element:Ot,player:Vt,instruction:gn}=wt;if(r.has(Ot)){if(T.has(Ot))return Vt.onDestroy(()=>bl(Ot,gn.toStyles)),Vt.disabled=!0,Vt.overrideTotalTime(gn.totalTime),void i.push(Vt);let Ri=H1;if(Wi.size>1){let Uo=Ot;const qh=[];for(;Uo=Uo.parentNode;){const br=Wi.get(Uo);if(br){Ri=br;break}qh.push(Uo)}qh.forEach(br=>Wi.set(br,Ri))}const Tl=this._buildAnimation(Vt.namespaceId,gn,bn,a,gE,$c);if(Vt.setRealPlayer(Tl),Ri===H1)Zp.push(Vt);else{const Uo=this.playersByElement.get(Ri);Uo&&Uo.length&&(Vt.parentPlayer=zh(Uo)),i.push(Vt)}}else qp(Ot,gn.fromStyles),Vt.onDestroy(()=>bl(Ot,gn.toStyles)),$1.push(Vt),T.has(Ot)&&i.push(Vt)}),$1.forEach(wt=>{const Ot=a.get(wt.element);if(Ot&&Ot.length){const Vt=zh(Ot);wt.setRealPlayer(Vt)}}),i.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<he.length;wt++){const Ot=he[wt],Vt=Ot[_a];if(iy(Ot,PD),Vt&&Vt.hasAnimation)continue;let gn=[];if(f.size){let Tl=f.get(Ot);Tl&&Tl.length&&gn.push(...Tl);let Uo=this.driver.query(Ot,DM,!0);for(let qh=0;qh<Uo.length;qh++){let br=f.get(Uo[qh]);br&&br.length&&gn.push(...br)}}const Ri=gn.filter(Tl=>!Tl.destroyed);Ri.length?RB(this,Ot,Ri):this.processLeaveNode(Ot)}return he.length=0,Zp.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Ot=this.players.indexOf(wt);this.players.splice(Ot,1)}),wt.play()}),Zp}elementContainsData(e,t){let r=!1;const i=t[_a];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const y=!a||a==hE;f.forEach(I=>{I.queued||!y&&I.triggerName!=i||l.push(I)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const I=y.element,T=I!==a,x=Lo(r,I,[]);this._getPreviousPlayers(I,T,l,f,t.toState).forEach(V=>{const K=V.getRealPlayer();K.beforeDestroy&&K.beforeDestroy(),V.destroy(),x.push(V)})}qp(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const f=t.triggerName,y=t.element,I=[],T=new Set,x=new Set,F=t.timelines.map(K=>{const ne=K.element;T.add(ne);const he=ne[_a];if(he&&he.removedBeforeQueried)return new rE(K.duration,K.delay);const Ve=ne!==y,Xe=function PB(n){const e=[];return E1(n,e),e}((r.get(ne)||bB).map(bn=>bn.getRealPlayer())).filter(bn=>!!bn.element&&bn.element===ne),it=a.get(ne),gt=l.get(ne),qt=WO(0,this._normalizer,0,K.keyframes,it,gt),Kt=this._buildPlayer(K,qt,Xe);if(K.subTimeline&&i&&x.add(ne),Ve){const bn=new LM(e,f,ne);bn.setRealPlayer(Kt),I.push(bn)}return Kt});I.forEach(K=>{Lo(this.playersByQueriedElement,K.element,[]).push(K),K.onDone(()=>function MB(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,K.element,K))}),T.forEach(K=>Ea(K,t1));const V=zh(F);return V.onDestroy(()=>{T.forEach(K=>iy(K,t1)),bl(y,t.toStyles)}),x.forEach(K=>{Lo(i,K,[]).push(V)}),V}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new rE(e.duration,e.delay)}}class LM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new rE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>mM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Lo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function WD(n){return n&&1===n.nodeType}function y1(n,e){const t=n.style.display;return n.style.display=e??"none",t}function v1(n,e,t,r,i){const a=[];t.forEach(y=>a.push(y1(y)));const l=[];r.forEach((y,I)=>{const T=new Map;y.forEach(x=>{const F=e.computeStyle(I,x,i);T.set(x,F),(!F||0==F.length)&&(I[_a]=TB,l.push(I))}),n.set(I,T)});let f=0;return t.forEach(y=>y1(y,a[f++])),l}function _1(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=1,i=new Set(e),a=new Map;function l(f){if(!f)return r;let y=a.get(f);if(y)return y;const I=f.parentNode;return y=t.has(I)?I:i.has(I)?r:l(I),a.set(f,y),y}return e.forEach(f=>{const y=l(f);y!==r&&t.get(y).push(f)}),t}function Ea(n,e){n.classList?.add(e)}function iy(n,e){n.classList?.remove(e)}function RB(n,e,t){zh(t).onDone(()=>n.processLeaveNode(e))}function E1(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof FP?E1(r.players,e):e.push(r)}}function w1(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class qD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new AB(e,t,r),this._timelineEngine=new EB(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const y=[],I=[],T=SM(this._driver,a,y,I);if(y.length)throw function vU(n,e){return new h.vHH(3404,!1)}();f=function mB(n,e,t){return new yB(n,e,t)}(i,T,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=qO(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,f]=qO(r);return this._timelineEngine.listen(l,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let FB=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&bl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bl(this._element,this._initialStyles),this._endStyles&&(bl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(qp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qp(this._element,this._endStyles),this._endStyles=null),bl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function VM(n){let e=null;return n.forEach((t,r)=>{(function LB(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class I1{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:a1(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class VB{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return QO(e,t)}getParentElement(e){return EM(e)}query(e,t,r){return JO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(y.easing=a);const I=new Map,T=l.filter(V=>V instanceof I1);(function $U(n,e){return 0===n||0===e})(r,i)&&T.forEach(V=>{V.currentSnapshot.forEach((K,ne)=>I.set(ne,K))});let x=function VU(n){return n.length?n[0]instanceof Map?n:n.map(e=>n1(e)):[]}(t).map(V=>Gh(V));x=function HU(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(f=>l.set(f,a1(n,f)))}}return e}(e,x,I);const F=function kB(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=VM(e[0]),e.length>1&&(r=VM(e[e.length-1]))):e instanceof Map&&(t=VM(e)),t||r?new FB(n,t,r):null}(e,x);return new I1(e,x,y,F)}}let UB=(()=>{class n extends NP{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?PP(t):t;return D1(this._renderer,null,r,"register",[i]),new BB(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class BB extends wV{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new jB(this._id,e,t||{},this._renderer)}}class jB{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return D1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function D1(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const C1="@.disabled";let $B=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const f=l?.parentNode(a);f&&l.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(a);return T||(T=new b1("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,T)),T}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(l,f,t,T.name,T)};return r.data.animation.forEach(y),new HB(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,f]=a;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(qD),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class b1{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==C1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class HB extends b1{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==C1?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function zB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function GB(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let WB=(()=>{class n extends qD{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae),h.LFG(wM),h.LFG(RM),h.LFG(h.z2F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const T1=[{provide:NP,useClass:UB},{provide:RM,useFactory:function qB(){return new hB}},{provide:qD,useClass:WB},{provide:h.FYo,useFactory:function KB(n,e,t){return new $B(n,e,t)},deps:[Lr,qD,h.R0b]}],UM=[{provide:wM,useFactory:()=>new VB},{provide:h.QbO,useValue:"BrowserAnimations"},...T1],S1=[{provide:wM,useClass:XO},{provide:h.QbO,useValue:"NoopAnimations"},...T1];let ZB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?S1:UM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:UM,imports:[yo]}),n})();class ZD{}class BM{}class jc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(a=>a.toString()),i.length>0){const a=t.toLowerCase();this.headers.set(a,i),this.maybeSetNormalizedName(t,a)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof jc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new jc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof jc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===a.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class YB{encodeKey(e){return A1(e)}encodeValue(e){return A1(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const JB=/%(\d[a-f0-9])/gi,XB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function A1(n){return encodeURIComponent(n).replace(JB,(e,t)=>XB[t]??e)}function YD(n){return`${n}`}class Wh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new YB,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function QB(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[l,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],y=t.get(l)||[];y.push(f),t.set(l,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(YD):[YD(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Wh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(YD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(YD(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ej{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function M1(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function x1(n){return typeof Blob<"u"&&n instanceof Blob}function N1(n){return typeof FormData<"u"&&n instanceof FormData}class fE{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function tj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new jc),this.context||(this.context=new ej),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new Wh,this.urlWithParams=t}serializeBody(){return null===this.body?null:M1(this.body)||x1(this.body)||N1(this.body)||function nj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||N1(this.body)?null:x1(this.body)?this.body.type||null:M1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,I=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((x,F)=>x.set(F,e.setHeaders[F]),y)),e.setParams&&(I=Object.keys(e.setParams).reduce((x,F)=>x.set(F,e.setParams[F]),I)),new fE(t,r,a,{params:I,headers:y,context:T,reportProgress:f,responseType:i,withCredentials:l})}}var ai=(()=>((ai=ai||{})[ai.Sent=0]="Sent",ai[ai.UploadProgress=1]="UploadProgress",ai[ai.ResponseHeader=2]="ResponseHeader",ai[ai.DownloadProgress=3]="DownloadProgress",ai[ai.Response=4]="Response",ai[ai.User=5]="User",ai))();class jM{constructor(e,t=200,r="OK"){this.headers=e.headers||new jc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class $M extends jM{constructor(e={}){super(e),this.type=ai.ResponseHeader}clone(e={}){return new $M({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class QD extends jM{constructor(e={}){super(e),this.type=ai.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new QD({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class R1 extends jM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function HM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let rj=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof fE)a=t;else{let y,I;y=i.headers instanceof jc?i.headers:new jc(i.headers),i.params&&(I=i.params instanceof Wh?i.params:new Wh({fromObject:i.params})),a=new fE(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:I,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=lt(a).pipe(Gs(y=>this.handler.handle(y)));if(t instanceof fE||"events"===i.observe)return l;const f=l.pipe(Li(y=>y instanceof QD));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,Mt.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,Mt.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,Mt.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,Mt.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Wh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,HM(i,r))}post(t,r,i={}){return this.request("POST",t,HM(i,r))}put(t,r,i={}){return this.request("PUT",t,HM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ZD))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function P1(n,e){return e(n)}function ij(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const oj=new h.OlP("HTTP_INTERCEPTORS"),pE=new h.OlP("HTTP_INTERCEPTOR_FNS");function aj(){let n=null;return(e,t)=>(null===n&&(n=((0,h.f3M)(oj,{optional:!0})??[]).reduceRight(ij,P1)),n(e,t))}let O1=(()=>{class n extends ZD{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(pE)));this.chain=r.reduceRight((i,a)=>function sj(n,e,t){return(r,i)=>t.runInContext(()=>e(r,a=>n(a,i)))}(i,a,this.injector),P1)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(BM),h.LFG(h.lqb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const dj=/^\)\]\}',?\n/;let F1=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Vr.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((V,K)=>i.setRequestHeader(V,K.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&i.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();i.responseType="json"!==V?V:"text"}const a=t.serializeBody();let l=null;const f=()=>{if(null!==l)return l;const V=i.statusText||"OK",K=new jc(i.getAllResponseHeaders()),ne=function hj(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new $M({headers:K,status:i.status,statusText:V,url:ne}),l},y=()=>{let{headers:V,status:K,statusText:ne,url:he}=f(),Ve=null;204!==K&&(Ve=typeof i.response>"u"?i.responseText:i.response),0===K&&(K=Ve?200:0);let Xe=K>=200&&K<300;if("json"===t.responseType&&"string"==typeof Ve){const it=Ve;Ve=Ve.replace(dj,"");try{Ve=""!==Ve?JSON.parse(Ve):null}catch(gt){Ve=it,Xe&&(Xe=!1,Ve={error:gt,text:Ve})}}Xe?(r.next(new QD({body:Ve,headers:V,status:K,statusText:ne,url:he||void 0})),r.complete()):r.error(new R1({error:Ve,headers:V,status:K,statusText:ne,url:he||void 0}))},I=V=>{const{url:K}=f(),ne=new R1({error:V,status:i.status||0,statusText:i.statusText||"Unknown Error",url:K||void 0});r.error(ne)};let T=!1;const x=V=>{T||(r.next(f()),T=!0);let K={type:ai.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(K.total=V.total),"text"===t.responseType&&i.responseText&&(K.partialText=i.responseText),r.next(K)},F=V=>{let K={type:ai.UploadProgress,loaded:V.loaded};V.lengthComputable&&(K.total=V.total),r.next(K)};return i.addEventListener("load",y),i.addEventListener("error",I),i.addEventListener("timeout",I),i.addEventListener("abort",I),t.reportProgress&&(i.addEventListener("progress",x),null!==a&&i.upload&&i.upload.addEventListener("progress",F)),i.send(a),r.next({type:ai.Sent}),()=>{i.removeEventListener("error",I),i.removeEventListener("abort",I),i.removeEventListener("load",y),i.removeEventListener("timeout",I),t.reportProgress&&(i.removeEventListener("progress",x),null!==a&&i.upload&&i.upload.removeEventListener("progress",F)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Jc))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const zM=new h.OlP("XSRF_ENABLED"),L1=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),V1=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class U1{}let gj=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ss(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae),h.LFG(h.Lbi),h.LFG(L1))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function mj(n,e){const t=n.url.toLowerCase();if(!(0,h.f3M)(zM)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,h.f3M)(U1).getToken(),i=(0,h.f3M)(V1);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var zr=(()=>((zr=zr||{})[zr.Interceptors=0]="Interceptors",zr[zr.LegacyInterceptors=1]="LegacyInterceptors",zr[zr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",zr[zr.NoXsrfProtection=3]="NoXsrfProtection",zr[zr.JsonpSupport=4]="JsonpSupport",zr[zr.RequestsMadeViaParent=5]="RequestsMadeViaParent",zr))();function sy(n,e){return{\u0275kind:n,\u0275providers:e}}function yj(...n){const e=[rj,F1,O1,{provide:ZD,useExisting:O1},{provide:BM,useExisting:F1},{provide:pE,useValue:mj,multi:!0},{provide:zM,useValue:!0},{provide:U1,useClass:gj}];for(const t of n)e.push(...t.\u0275providers);return(0,h.MR2)(e)}const B1=new h.OlP("LEGACY_INTERCEPTOR_FN");let _j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[yj(sy(zr.LegacyInterceptors,[{provide:B1,useFactory:aj},{provide:pE,useExisting:B1,multi:!0}]))]}),n})(),Ej=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[WV]}),n.\u0275inj=h.cJS({imports:[yo,ZB,zV.forRoot(),Ff,m0(()=>tb(BP_firebase)),QL(()=>XL()),$p.hO.initializeApp(BP_firebase),mV,_j,bP,Y2,Z2,oo]}),n})();af().bootstrapModule(Ej).catch(n=>console.error(n))},9751:(Ct,Me,k)=>{k.d(Me,{y:()=>Ne});var h=k(2961),U=k(727),Z=k(8822),oe=k(9635),de=k(2416),ae=k(576),Le=k(2806);let Ne=(()=>{class Y{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const qe=new Y;return qe.source=this,qe.operator=Ee,qe}subscribe(Ee,qe,st){const fe=function $(Y){return Y&&Y instanceof h.Lv||function H(Y){return Y&&(0,ae.m)(Y.next)&&(0,ae.m)(Y.error)&&(0,ae.m)(Y.complete)}(Y)&&(0,U.Nn)(Y)}(Ee)?Ee:new h.Hp(Ee,qe,st);return(0,Le.x)(()=>{const{operator:we,source:Re}=this;fe.add(we?we.call(fe,Re):Re?this._subscribe(fe):this._trySubscribe(fe))}),fe}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(qe){Ee.error(qe)}}forEach(Ee,qe){return new(qe=Ce(qe))((st,fe)=>{const we=new h.Hp({next:Re=>{try{Ee(Re)}catch(Ue){fe(Ue),we.unsubscribe()}},error:fe,complete:st});this.subscribe(we)})}_subscribe(Ee){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(Ee)}[Z.L](){return this}pipe(...Ee){return(0,oe.U)(Ee)(this)}toPromise(Ee){return new(Ee=Ce(Ee))((qe,st)=>{let fe;this.subscribe(we=>fe=we,we=>st(we),()=>qe(fe))})}}return Y.create=$e=>new Y($e),Y})();function Ce(Y){var $e;return null!==($e=Y??de.v.Promise)&&void 0!==$e?$e:Promise}},7579:(Ct,Me,k)=>{k.d(Me,{x:()=>Le});var h=k(9751),U=k(727);const oe=(0,k(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=k(8737),ae=k(2806);let Le=(()=>{class Ce extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Y=new Ne(this,this);return Y.operator=$,Y}_throwIfClosed(){if(this.closed)throw new oe}next($){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next($)}})}error($){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Y}=this;for(;Y.length;)Y.shift().error($)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Y,isStopped:$e,observers:Ee}=this;return Y||$e?U.Lc:(this.currentObservers=null,Ee.push($),new U.w0(()=>{this.currentObservers=null,(0,de.P)(Ee,$)}))}_checkFinalizedStatuses($){const{hasError:Y,thrownError:$e,isStopped:Ee}=this;Y?$.error($e):Ee&&$.complete()}asObservable(){const $=new h.y;return $.source=this,$}}return Ce.create=(H,$)=>new Ne(H,$),Ce})();class Ne extends Le{constructor(H,$){super(),this.destination=H,this.source=$}next(H){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Y||Y.call($,H)}error(H){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Y||Y.call($,H)}complete(){var H,$;null===($=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===$||$.call(H)}_subscribe(H){var $,Y;return null!==(Y=null===($=this.source)||void 0===$?void 0:$.subscribe(H))&&void 0!==Y?Y:U.Lc}}},2961:(Ct,Me,k)=>{k.d(Me,{Hp:()=>st,Lv:()=>Y});var h=k(576),U=k(727),Z=k(2416),oe=k(7849);function de(){}const ae=Ce("C",void 0,void 0);function Ce(ve,ye,be){return{kind:ve,value:ye,error:be}}var H=k(3410),$=k(2806);class Y extends U.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,U.Nn)(ye)&&ye.add(this)):this.destination=Ue}static create(ye,be,je){return new st(ye,be,je)}next(ye){this.isStopped?Re(function Ne(ve){return Ce("N",ve,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Re(function Le(ve){return Ce("E",void 0,ve)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Re(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Ee(ve,ye){return $e.call(ve,ye)}class qe{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:be}=this;if(be.next)try{be.next(ye)}catch(je){fe(je)}}error(ye){const{partialObserver:be}=this;if(be.error)try{be.error(ye)}catch(je){fe(je)}else fe(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(be){fe(be)}}}class st extends Y{constructor(ye,be,je){let Oe;if(super(),(0,h.m)(ye)||!ye)Oe={next:ye??void 0,error:be??void 0,complete:je??void 0};else{let re;this&&Z.v.useDeprecatedNextContext?(re=Object.create(ye),re.unsubscribe=()=>this.unsubscribe(),Oe={next:ye.next&&Ee(ye.next,re),error:ye.error&&Ee(ye.error,re),complete:ye.complete&&Ee(ye.complete,re)}):Oe=ye}this.destination=new qe(Oe)}}function fe(ve){Z.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(ve):(0,oe.h)(ve)}function Re(ve,ye){const{onStoppedNotification:be}=Z.v;be&&H.z.setTimeout(()=>be(ve,ye))}const Ue={closed:!0,next:de,error:function we(ve){throw ve},complete:de}},727:(Ct,Me,k)=>{k.d(Me,{Lc:()=>ae,w0:()=>de,Nn:()=>Le});var h=k(576);const Z=(0,k(3888).d)(Ce=>function($){Ce(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Y,$e)=>`${$e+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var oe=k(8737);class de{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ee of $)Ee.remove(this);else $.remove(this);const{initialTeardown:Y}=this;if((0,h.m)(Y))try{Y()}catch(Ee){H=Ee instanceof Z?Ee.errors:[Ee]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Ee of $e)try{Ne(Ee)}catch(qe){H=H??[],qe instanceof Z?H=[...H,...qe.errors]:H.push(qe)}}if(H)throw new Z(H)}}add(H){var $;if(H&&H!==this)if(this.closed)Ne(H);else{if(H instanceof de){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(H)}}_hasParent(H){const{_parentage:$}=this;return $===H||Array.isArray($)&&$.includes(H)}_addParent(H){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(H),$):$?[$,H]:H}_removeParent(H){const{_parentage:$}=this;$===H?this._parentage=null:Array.isArray($)&&(0,oe.P)($,H)}remove(H){const{_finalizers:$}=this;$&&(0,oe.P)($,H),H instanceof de&&H._removeParent(this)}}de.EMPTY=(()=>{const Ce=new de;return Ce.closed=!0,Ce})();const ae=de.EMPTY;function Le(Ce){return Ce instanceof de||Ce&&"closed"in Ce&&(0,h.m)(Ce.remove)&&(0,h.m)(Ce.add)&&(0,h.m)(Ce.unsubscribe)}function Ne(Ce){(0,h.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(Ct,Me,k)=>{k.d(Me,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ct,Me,k)=>{k.d(Me,{E:()=>U});const U=new(k(9751).y)(de=>de.complete())},8996:(Ct,Me,k)=>{k.d(Me,{D:()=>ye});var h=k(8421),U=k(5363),Z=k(9468),ae=k(9751),Ne=k(2202),Ce=k(576),H=k(9672);function Y(be,je){if(!be)throw new Error("Iterable cannot be null");return new ae.y(Oe=>{(0,H.f)(Oe,je,()=>{const re=be[Symbol.asyncIterator]();(0,H.f)(Oe,je,()=>{re.next().then(nt=>{nt.done?Oe.complete():Oe.next(nt.value)})},0,!0)})})}var $e=k(3670),Ee=k(8239),qe=k(1144),st=k(6495),fe=k(2206),we=k(4532),Re=k(3260);function ye(be,je){return je?function ve(be,je){if(null!=be){if((0,$e.c)(be))return function oe(be,je){return(0,h.Xf)(be).pipe((0,Z.R)(je),(0,U.Q)(je))}(be,je);if((0,qe.z)(be))return function Le(be,je){return new ae.y(Oe=>{let re=0;return je.schedule(function(){re===be.length?Oe.complete():(Oe.next(be[re++]),Oe.closed||this.schedule())})})}(be,je);if((0,Ee.t)(be))return function de(be,je){return(0,h.Xf)(be).pipe((0,Z.R)(je),(0,U.Q)(je))}(be,je);if((0,fe.D)(be))return Y(be,je);if((0,st.T)(be))return function $(be,je){return new ae.y(Oe=>{let re;return(0,H.f)(Oe,je,()=>{re=be[Ne.h](),(0,H.f)(Oe,je,()=>{let nt,Tt;try{({value:nt,done:Tt}=re.next())}catch(ot){return void Oe.error(ot)}Tt?Oe.complete():Oe.next(nt)},0,!0)}),()=>(0,Ce.m)(re?.return)&&re.return()})}(be,je);if((0,Re.L)(be))return function Ue(be,je){return Y((0,Re.Q)(be),je)}(be,je)}throw(0,we.z)(be)}(be,je):(0,h.Xf)(be)}},8421:(Ct,Me,k)=>{k.d(Me,{Xf:()=>$e});var h=k(655),U=k(1144),Z=k(8239),oe=k(9751),de=k(3670),ae=k(2206),Le=k(4532),Ne=k(6495),Ce=k(3260),H=k(576),$=k(7849),Y=k(8822);function $e(ve){if(ve instanceof oe.y)return ve;if(null!=ve){if((0,de.c)(ve))return function Ee(ve){return new oe.y(ye=>{const be=ve[Y.L]();if((0,H.m)(be.subscribe))return be.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,U.z)(ve))return function qe(ve){return new oe.y(ye=>{for(let be=0;be<ve.length&&!ye.closed;be++)ye.next(ve[be]);ye.complete()})}(ve);if((0,Z.t)(ve))return function st(ve){return new oe.y(ye=>{ve.then(be=>{ye.closed||(ye.next(be),ye.complete())},be=>ye.error(be)).then(null,$.h)})}(ve);if((0,ae.D)(ve))return we(ve);if((0,Ne.T)(ve))return function fe(ve){return new oe.y(ye=>{for(const be of ve)if(ye.next(be),ye.closed)return;ye.complete()})}(ve);if((0,Ce.L)(ve))return function Re(ve){return we((0,Ce.Q)(ve))}(ve)}throw(0,Le.z)(ve)}function we(ve){return new oe.y(ye=>{(function Ue(ve,ye){var be,je,Oe,re;return(0,h.mG)(this,void 0,void 0,function*(){try{for(be=(0,h.KL)(ve);!(je=yield be.next()).done;)if(ye.next(je.value),ye.closed)return}catch(nt){Oe={error:nt}}finally{try{je&&!je.done&&(re=be.return)&&(yield re.call(be))}finally{if(Oe)throw Oe.error}}ye.complete()})})(ve,ye).catch(be=>ye.error(be))})}},6451:(Ct,Me,k)=>{k.d(Me,{T:()=>ae});var h=k(8189),U=k(8421),Z=k(515),oe=k(7669),de=k(8996);function ae(...Le){const Ne=(0,oe.yG)(Le),Ce=(0,oe._6)(Le,1/0),H=Le;return H.length?1===H.length?(0,U.Xf)(H[0]):(0,h.J)(Ce)((0,de.D)(H,Ne)):Z.E}},5403:(Ct,Me,k)=>{k.d(Me,{x:()=>U});var h=k(2961);function U(oe,de,ae,Le,Ne){return new Z(oe,de,ae,Le,Ne)}class Z extends h.Lv{constructor(de,ae,Le,Ne,Ce,H){super(de),this.onFinalize=Ce,this.shouldUnsubscribe=H,this._next=ae?function($){try{ae($)}catch(Y){de.error(Y)}}:super._next,this._error=Ne?function($){try{Ne($)}catch(Y){de.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=Le?function(){try{Le()}catch($){de.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(Ct,Me,k)=>{k.d(Me,{U:()=>Z});var h=k(4482),U=k(5403);function Z(oe,de){return(0,h.e)((ae,Le)=>{let Ne=0;ae.subscribe((0,U.x)(Le,Ce=>{Le.next(oe.call(de,Ce,Ne++))}))})}},8189:(Ct,Me,k)=>{k.d(Me,{J:()=>Z});var h=k(5577),U=k(4671);function Z(oe=1/0){return(0,h.z)(U.y,oe)}},5577:(Ct,Me,k)=>{k.d(Me,{z:()=>Ne});var h=k(4004),U=k(8421),Z=k(4482),oe=k(9672),de=k(5403),Le=k(576);function Ne(Ce,H,$=1/0){return(0,Le.m)(H)?Ne((Y,$e)=>(0,h.U)((Ee,qe)=>H(Y,Ee,$e,qe))((0,U.Xf)(Ce(Y,$e))),$):("number"==typeof H&&($=H),(0,Z.e)((Y,$e)=>function ae(Ce,H,$,Y,$e,Ee,qe,st){const fe=[];let we=0,Re=0,Ue=!1;const ve=()=>{Ue&&!fe.length&&!we&&H.complete()},ye=je=>we<Y?be(je):fe.push(je),be=je=>{Ee&&H.next(je),we++;let Oe=!1;(0,U.Xf)($(je,Re++)).subscribe((0,de.x)(H,re=>{$e?.(re),Ee?ye(re):H.next(re)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(we--;fe.length&&we<Y;){const re=fe.shift();qe?(0,oe.f)(H,qe,()=>be(re)):be(re)}ve()}catch(re){H.error(re)}}))};return Ce.subscribe((0,de.x)(H,ye,()=>{Ue=!0,ve()})),()=>{st?.()}}(Y,$e,Ce,$)))}},5363:(Ct,Me,k)=>{k.d(Me,{Q:()=>oe});var h=k(9672),U=k(4482),Z=k(5403);function oe(de,ae=0){return(0,U.e)((Le,Ne)=>{Le.subscribe((0,Z.x)(Ne,Ce=>(0,h.f)(Ne,de,()=>Ne.next(Ce),ae),()=>(0,h.f)(Ne,de,()=>Ne.complete(),ae),Ce=>(0,h.f)(Ne,de,()=>Ne.error(Ce),ae)))})}},3099:(Ct,Me,k)=>{k.d(Me,{B:()=>de});var h=k(8421),U=k(7579),Z=k(2961),oe=k(4482);function de(Le={}){const{connector:Ne=(()=>new U.x),resetOnError:Ce=!0,resetOnComplete:H=!0,resetOnRefCountZero:$=!0}=Le;return Y=>{let $e,Ee,qe,st=0,fe=!1,we=!1;const Re=()=>{Ee?.unsubscribe(),Ee=void 0},Ue=()=>{Re(),$e=qe=void 0,fe=we=!1},ve=()=>{const ye=$e;Ue(),ye?.unsubscribe()};return(0,oe.e)((ye,be)=>{st++,!we&&!fe&&Re();const je=qe=qe??Ne();be.add(()=>{st--,0===st&&!we&&!fe&&(Ee=ae(ve,$))}),je.subscribe(be),!$e&&st>0&&($e=new Z.Hp({next:Oe=>je.next(Oe),error:Oe=>{we=!0,Re(),Ee=ae(Ue,Ce,Oe),je.error(Oe)},complete:()=>{fe=!0,Re(),Ee=ae(Ue,H),je.complete()}}),(0,h.Xf)(ye).subscribe($e))})(Y)}}function ae(Le,Ne,...Ce){if(!0===Ne)return void Le();if(!1===Ne)return;const H=new Z.Hp({next:()=>{H.unsubscribe(),Le()}});return(0,h.Xf)(Ne(...Ce)).subscribe(H)}},9468:(Ct,Me,k)=>{k.d(Me,{R:()=>U});var h=k(4482);function U(Z,oe=0){return(0,h.e)((de,ae)=>{ae.add(Z.schedule(()=>de.subscribe(ae),oe))})}},8505:(Ct,Me,k)=>{k.d(Me,{b:()=>de});var h=k(576),U=k(4482),Z=k(5403),oe=k(4671);function de(ae,Le,Ne){const Ce=(0,h.m)(ae)||Le||Ne?{next:ae,error:Le,complete:Ne}:ae;return Ce?(0,U.e)((H,$)=>{var Y;null===(Y=Ce.subscribe)||void 0===Y||Y.call(Ce);let $e=!0;H.subscribe((0,Z.x)($,Ee=>{var qe;null===(qe=Ce.next)||void 0===qe||qe.call(Ce,Ee),$.next(Ee)},()=>{var Ee;$e=!1,null===(Ee=Ce.complete)||void 0===Ee||Ee.call(Ce),$.complete()},Ee=>{var qe;$e=!1,null===(qe=Ce.error)||void 0===qe||qe.call(Ce,Ee),$.error(Ee)},()=>{var Ee,qe;$e&&(null===(Ee=Ce.unsubscribe)||void 0===Ee||Ee.call(Ce)),null===(qe=Ce.finalize)||void 0===qe||qe.call(Ce)}))}):oe.y}},6063:(Ct,Me,k)=>{k.d(Me,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(Ct,Me,k)=>{k.d(Me,{z:()=>h});const h={setTimeout(U,Z,...oe){const{delegate:de}=h;return de?.setTimeout?de.setTimeout(U,Z,...oe):setTimeout(U,Z,...oe)},clearTimeout(U){const{delegate:Z}=h;return(Z?.clearTimeout||clearTimeout)(U)},delegate:void 0}},2202:(Ct,Me,k)=>{k.d(Me,{h:()=>U});const U=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ct,Me,k)=>{k.d(Me,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Ct,Me,k)=>{k.d(Me,{_6:()=>ae,jO:()=>oe,yG:()=>de});var h=k(576);function Z(Le){return Le[Le.length-1]}function oe(Le){return(0,h.m)(Z(Le))?Le.pop():void 0}function de(Le){return function U(Le){return Le&&(0,h.m)(Le.schedule)}(Z(Le))?Le.pop():void 0}function ae(Le,Ne){return"number"==typeof Z(Le)?Le.pop():Ne}},8737:(Ct,Me,k)=>{function h(U,Z){if(U){const oe=U.indexOf(Z);0<=oe&&U.splice(oe,1)}}k.d(Me,{P:()=>h})},3888:(Ct,Me,k)=>{function h(U){const oe=U(de=>{Error.call(de),de.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}k.d(Me,{d:()=>h})},2806:(Ct,Me,k)=>{k.d(Me,{O:()=>oe,x:()=>Z});var h=k(2416);let U=null;function Z(de){if(h.v.useDeprecatedSynchronousErrorHandling){const ae=!U;if(ae&&(U={errorThrown:!1,error:null}),de(),ae){const{errorThrown:Le,error:Ne}=U;if(U=null,Le)throw Ne}}else de()}function oe(de){h.v.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=de)}},9672:(Ct,Me,k)=>{function h(U,Z,oe,de=0,ae=!1){const Le=Z.schedule(function(){oe(),ae?U.add(this.schedule(null,de)):this.unsubscribe()},de);if(U.add(Le),!ae)return Le}k.d(Me,{f:()=>h})},4671:(Ct,Me,k)=>{function h(U){return U}k.d(Me,{y:()=>h})},1144:(Ct,Me,k)=>{k.d(Me,{z:()=>h});const h=U=>U&&"number"==typeof U.length&&"function"!=typeof U},2206:(Ct,Me,k)=>{k.d(Me,{D:()=>U});var h=k(576);function U(Z){return Symbol.asyncIterator&&(0,h.m)(Z?.[Symbol.asyncIterator])}},576:(Ct,Me,k)=>{function h(U){return"function"==typeof U}k.d(Me,{m:()=>h})},3670:(Ct,Me,k)=>{k.d(Me,{c:()=>Z});var h=k(8822),U=k(576);function Z(oe){return(0,U.m)(oe[h.L])}},6495:(Ct,Me,k)=>{k.d(Me,{T:()=>Z});var h=k(2202),U=k(576);function Z(oe){return(0,U.m)(oe?.[h.h])}},8239:(Ct,Me,k)=>{k.d(Me,{t:()=>U});var h=k(576);function U(Z){return(0,h.m)(Z?.then)}},3260:(Ct,Me,k)=>{k.d(Me,{L:()=>oe,Q:()=>Z});var h=k(655),U=k(576);function Z(de){return(0,h.FC)(this,arguments,function*(){const Le=de.getReader();try{for(;;){const{value:Ne,done:Ce}=yield(0,h.qq)(Le.read());if(Ce)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Ne)}}finally{Le.releaseLock()}})}function oe(de){return(0,U.m)(de?.getReader)}},4482:(Ct,Me,k)=>{k.d(Me,{A:()=>U,e:()=>Z});var h=k(576);function U(oe){return(0,h.m)(oe?.lift)}function Z(oe){return de=>{if(U(de))return de.lift(function(ae){try{return oe(ae,this)}catch(Le){this.error(Le)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Ct,Me,k)=>{k.d(Me,{U:()=>Z,z:()=>U});var h=k(4671);function U(...oe){return Z(oe)}function Z(oe){return 0===oe.length?h.y:1===oe.length?oe[0]:function(ae){return oe.reduce((Le,Ne)=>Ne(Le),ae)}}},7849:(Ct,Me,k)=>{k.d(Me,{h:()=>Z});var h=k(2416),U=k(3410);function Z(oe){U.z.setTimeout(()=>{const{onUnhandledError:de}=h.v;if(!de)throw oe;de(oe)})}},4532:(Ct,Me,k)=>{function h(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Me,{z:()=>h})},655:(Ct,Me,k)=>{function oe(ue,pe){var _e={};for(var Ie in ue)Object.prototype.hasOwnProperty.call(ue,Ie)&&pe.indexOf(Ie)<0&&(_e[Ie]=ue[Ie]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(Ie=Object.getOwnPropertySymbols(ue);We<Ie.length;We++)pe.indexOf(Ie[We])<0&&Object.prototype.propertyIsEnumerable.call(ue,Ie[We])&&(_e[Ie[We]]=ue[Ie[We]])}return _e}function Y(ue,pe,_e,Ie){return new(_e||(_e=Promise))(function(ke,Te){function dt(_t){try{mt(Ie.next(_t))}catch(en){Te(en)}}function Tn(_t){try{mt(Ie.throw(_t))}catch(en){Te(en)}}function mt(_t){_t.done?ke(_t.value):function We(ke){return ke instanceof _e?ke:new _e(function(Te){Te(ke)})}(_t.value).then(dt,Tn)}mt((Ie=Ie.apply(ue,pe||[])).next())})}function ve(ue){return this instanceof ve?(this.v=ue,this):new ve(ue)}function ye(ue,pe,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,Ie=_e.apply(ue,pe||[]),ke=[];return We={},Te("next"),Te("throw"),Te("return"),We[Symbol.asyncIterator]=function(){return this},We;function Te(un){Ie[un]&&(We[un]=function(wn){return new Promise(function(Gr,Kn){ke.push([un,wn,Gr,Kn])>1||dt(un,wn)})})}function dt(un,wn){try{!function Tn(un){un.value instanceof ve?Promise.resolve(un.value.v).then(mt,_t):en(ke[0][2],un)}(Ie[un](wn))}catch(Gr){en(ke[0][3],Gr)}}function mt(un){dt("next",un)}function _t(un){dt("throw",un)}function en(un,wn){un(wn),ke.shift(),ke.length&&dt(ke[0][0],ke[0][1])}}function je(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,pe=ue[Symbol.asyncIterator];return pe?pe.call(ue):(ue=function st(ue){var pe="function"==typeof Symbol&&Symbol.iterator,_e=pe&&ue[pe],Ie=0;if(_e)return _e.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Ie>=ue.length&&(ue=void 0),{value:ue&&ue[Ie++],done:!ue}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),_e={},Ie("next"),Ie("throw"),Ie("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function Ie(ke){_e[ke]=ue[ke]&&function(Te){return new Promise(function(dt,Tn){!function We(ke,Te,dt,Tn){Promise.resolve(Tn).then(function(mt){ke({value:mt,done:dt})},Te)}(dt,Tn,(Te=ue[ke](Te)).done,Te.value)})}}}k.d(Me,{FC:()=>ye,KL:()=>je,_T:()=>oe,mG:()=>Y,qq:()=>ve})},4650:(Ct,Me,k)=>{k.d(Me,{$8M:()=>Ha,$WT:()=>Sr,$Z:()=>d0,AFp:()=>Cm,AaK:()=>Ne,BQk:()=>xg,CHM:()=>Rl,CRH:()=>Em,CZH:()=>Ip,CqO:()=>N0,D6c:()=>S_,EJc:()=>gI,EiD:()=>dC,EpF:()=>Rg,F4k:()=>Pg,FYo:()=>Ry,FiY:()=>Eo,GfV:()=>zE,Gpc:()=>$,JOm:()=>bt,JVY:()=>wE,JZr:()=>st,KtG:()=>Oa,L6k:()=>IE,LAX:()=>Bd,LFG:()=>tn,Lbi:()=>Dp,Lck:()=>Fw,MMx:()=>ap,MR2:()=>gC,NdJ:()=>cv,OlP:()=>Xt,P3R:()=>kE,PXZ:()=>gr,Q6J:()=>jf,QGY:()=>Hf,QbO:()=>Mi,Qsj:()=>DC,R0b:()=>to,RDi:()=>nC,Rgc:()=>Eh,SBq:()=>Kd,Sil:()=>_T,Suo:()=>nI,TTD:()=>Qc,TgZ:()=>$f,Tol:()=>Sb,Udp:()=>Ev,X6Q:()=>Tp,XFs:()=>ht,Xpm:()=>_i,Xts:()=>Iy,Y36:()=>Xd,YKP:()=>Qv,YNc:()=>M0,Yjl:()=>Gt,Yz7:()=>_t,Z0I:()=>Gr,ZZ4:()=>Rh,_Bn:()=>Yv,_UZ:()=>uv,_Vd:()=>qd,_c5:()=>T_,_uU:()=>di,aQg:()=>xm,c2e:()=>mT,cJS:()=>un,cg1:()=>Yf,d8E:()=>Zf,dDg:()=>On,dqk:()=>ln,eBb:()=>oC,eFA:()=>II,eJc:()=>sI,ekj:()=>q0,eoX:()=>Cp,f3M:()=>Bn,g9A:()=>bh,h0i:()=>gh,hGG:()=>Nm,hij:()=>Dr,iGM:()=>Sc,ifc:()=>ge,ip1:()=>ml,jDz:()=>Uw,kL8:()=>Yg,lG2:()=>At,lqb:()=>hc,lri:()=>vu,mCW:()=>jd,n5z:()=>zl,oAB:()=>ee,oJD:()=>RE,oxw:()=>Lg,pB0:()=>DE,q3G:()=>er,q4F:()=>GE,qLn:()=>Mf,qOj:()=>I0,qZA:()=>cl,qzn:()=>Xi,rWj:()=>y_,sBO:()=>DI,s_b:()=>Ih,soG:()=>ws,tb:()=>CT,tp0:()=>Mt,uIk:()=>rv,vHH:()=>fe,vpe:()=>xo,wAp:()=>Nt,xp6:()=>n0,ynx:()=>rh,z2F:()=>Sh,z3N:()=>bo,zSh:()=>il,zs3:()=>Yd});var h=k(7579),U=k(727),Z=k(9751),oe=k(6451),de=k(3099);function ae(s){for(let o in s)if(s[o]===ae)return o;throw Error("Could not find renamed property on target object.")}function Le(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function Ne(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ne).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function Ce(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const H=ae({__forward_ref__:ae});function $(s){return s.__forward_ref__=$,s.toString=function(){return Ne(this())},s}function Y(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===$}function Ee(s){return s&&!!s.\u0275providers}const st="https://g.co/ng/security#xss";class fe extends Error{constructor(o,u){super(we(o,u)),this.code=o}}function we(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function Re(s){return"string"==typeof s?s:null==s?"":String(s)}function je(s,o){throw new fe(-201,!1)}function ke(s,o){null==s&&function Te(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function _t(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function un(s){return{providers:s.providers||[],imports:s.imports||[]}}function wn(s){return Kn(s,qi)||Kn(s,Da)}function Gr(s){return null!==wn(s)}function Kn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Tr(s){return s&&(s.hasOwnProperty(Cs)||s.hasOwnProperty(yr))?s[Cs]:null}const qi=ae({\u0275prov:ae}),Cs=ae({\u0275inj:ae}),Da=ae({ngInjectableDef:ae}),yr=ae({ngInjectorDef:ae});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let bs;function ir(s){const o=bs;return bs=s,o}function Wr(s,o,u){const c=wn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&ht.Optional?null:void 0!==o?o:void je(Ne(s))}const ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),mi={},qr="__NG_DI_FLAG__",Vn="ngTempTokenPath",yi="ngTokenPath",Un=/\n/gm,Rr="\u0275",yn="__source";let Ts;function Jt(s){const o=Ts;return Ts=s,o}function vi(s,o=ht.Default){if(void 0===Ts)throw new fe(-203,!1);return null===Ts?Wr(s,void 0,o):Ts.get(s,o&ht.Optional?null:void 0,o)}function tn(s,o=ht.Default){return(function Du(){return bs}()||vi)(Y(s),o)}function Bn(s,o=ht.Default){return tn(s,Kr(o))}function Kr(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Zn(s){const o=[];for(let u=0;u<s.length;u++){const c=Y(s[u]);if(Array.isArray(c)){if(0===c.length)throw new fe(900,!1);let d,g=ht.Default;for(let v=0;v<c.length;v++){const D=c[v],b=Zr(D);"number"==typeof b?-1===b?d=D.token:g|=b:d=D}o.push(tn(d,g))}else o.push(tn(c))}return o}function Oi(s,o){return s[qr]=o,s.prototype[qr]=o,s}function Zr(s){return s[qr]}function L(s){return{toString:s}.toString()}var G=(()=>((G=G||{})[G.OnPush=0]="OnPush",G[G.Default=1]="Default",G))(),ge=(()=>{return(s=ge||(ge={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ge;var s})();const X={},Pe=[],St=ae({\u0275cmp:ae}),rn=ae({\u0275dir:ae}),jn=ae({\u0275pipe:ae}),mn=ae({\u0275mod:ae}),In=ae({\u0275fac:ae}),Yt=ae({__NG_ELEMENT_ID__:ae});let Or=0;function _i(s){return L(()=>{const o=Cu(s),u={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===G.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||ge.Emulated,id:"c"+Or++,styles:s.styles||Pe,_:null,schemas:s.schemas||null,tView:null};Kh(u);const c=s.dependencies;return u.directiveDefs=Ss(c,!1),u.pipeDefs=Ss(c,!0),u})}function jo(s){return yt(s)||sn(s)}function le(s){return null!==s}function ee(s){return L(()=>({type:s.type,bootstrap:s.bootstrap||Pe,declarations:s.declarations||Pe,imports:s.imports||Pe,exports:s.exports||Pe,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function pt(s,o){if(null==s)return X;const u={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),u[d]=c,o&&(o[d]=g)}return u}function At(s){return L(()=>{const o=Cu(s);return Kh(o),o})}function Gt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function yt(s){return s[St]||null}function sn(s){return s[rn]||null}function Qt(s){return s[jn]||null}function Sr(s){const o=yt(s)||sn(s)||Qt(s);return null!==o&&o.standalone}function sr(s,o){const u=s[mn]||null;if(!u&&!0===o)throw new Error(`Type ${Ne(s)} does not have '\u0275mod' property.`);return u}function Cu(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Pe,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pt(s.inputs,o),outputs:pt(s.outputs)}}function Kh(s){s.features?.forEach(o=>o(s))}function Ss(s,o){if(!s)return null;const u=o?Qt:jo;return()=>("function"==typeof s?s():s).map(c=>u(c)).filter(le)}const or=0,Qe=1,Ht=2,Dn=3,on=4,As=5,ar=6,Ca=7,Pn=8,ba=9,Ms=10,Ut=11,bu=12,Ei=13,Ta=14,xs=15,Yn=16,no=17,ro=18,wi=19,$o=20,Ar=21,hn=22,Sl=1,Sa=2,Ho=7,Ns=8,io=9,vr=10;function kr(s){return Array.isArray(s)&&"object"==typeof s[Sl]}function ki(s){return Array.isArray(s)&&!0===s[Sl]}function so(s){return 0!=(4&s.flags)}function Tu(s){return s.componentOffset>-1}function Aa(s){return 1==(1&s.flags)}function Yr(s){return!!s.template}function Rs(s){return 0!=(256&s[Ht])}function us(s,o){return s.hasOwnProperty(In)?s[In]:null}class Yc{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function Qc(){return Su}function Su(s){return s.type.prototype.ngOnChanges&&(s.setInput=Os),Xh}function Xh(){const s=Au(this),o=s?.current;if(o){const u=s.previous;if(u===X)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Os(s,o,u,c){const d=this.declaredInputs[u],g=Au(s)||function Jc(s,o){return s[Al]=o}(s,{previous:X,current:null}),v=g.current||(g.current={}),D=g.previous,b=D[d];v[d]=new Yc(b&&b.currentValue,o,D===X),s[c]=o}Qc.ngInherit=!0;const Al="__ngSimpleChanges__";function Au(s){return s[Al]||null}const Sn=function(s,o,u){};function Qn(s){for(;Array.isArray(s);)s=s[or];return s}function co(s,o){return Qn(o[s])}function _r(s,o){return Qn(o[s.index])}function xu(s,o){return s.data[o]}function ur(s,o){const u=o[s];return kr(u)?u:u[or]}function ks(s){return 64==(64&s[Ht])}function ls(s,o){return null==o?null:s[o]}function Pa(s){s[ro]=0}function Wo(s,o){s[As]+=o;let u=s,c=s[Dn];for(;null!==c&&(1===o&&1===u[As]||-1===o&&0===u[As]);)c[As]+=o,u=c,c=c[Dn]}const Rt={lFrame:Fa(null),bindingsEnabled:!0};function ed(){return Rt.bindingsEnabled}function ce(){return Rt.lFrame.lView}function kt(){return Rt.lFrame.tView}function Rl(s){return Rt.lFrame.contextLView=s,s[Pn]}function Oa(s){return Rt.lFrame.contextLView=null,s}function kn(){let s=nd();for(;null!==s&&64===s.type;)s=s.parent;return s}function nd(){return Rt.lFrame.currentTNode}function Di(s,o){const u=Rt.lFrame;u.currentTNode=s,u.isParent=o}function Ru(){return Rt.lFrame.isParent}function rd(){Rt.lFrame.isParent=!1}function cs(){return Rt.lFrame.bindingIndex++}function Zi(s){const o=Rt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function od(s,o){const u=Rt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Fn(o)}function Fn(s){Rt.lFrame.currentDirectiveIndex=s}function Pu(s){const o=Rt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function ka(){return Rt.lFrame.currentQueryIndex}function ad(s){Rt.lFrame.currentQueryIndex=s}function Ou(s){const o=s[Qe];return 2===o.type?o.declTNode:1===o.type?s[ar]:null}function ud(s,o,u){if(u&ht.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||u&ht.Host||(d=Ou(g),null===d||(g=g[xs],10&d.type))););if(null===d)return!1;o=d,s=g}const c=Rt.lFrame=Pl();return c.currentTNode=o,c.lView=s,!0}function Zo(s){const o=Pl(),u=s[Qe];Rt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Pl(){const s=Rt.lFrame,o=null===s?null:s.child;return null===o?Fa(s):o}function Fa(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Ol(){const s=Rt.lFrame;return Rt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ku=Ol;function ld(){const s=Ol();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Mr(){return Rt.lFrame.selectedIndex}function Yi(s){Rt.lFrame.selectedIndex=s}function Cn(){const s=Rt.lFrame;return xu(s.tView,s.selectedIndex)}function Fu(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:b,ngAfterViewChecked:A,ngOnDestroy:N}=g;v&&(s.contentHooks??(s.contentHooks=[])).push(-u,v),D&&((s.contentHooks??(s.contentHooks=[])).push(u,D),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(u,D)),b&&(s.viewHooks??(s.viewHooks=[])).push(-u,b),A&&((s.viewHooks??(s.viewHooks=[])).push(u,A),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(u,A)),null!=N&&(s.destroyHooks??(s.destroyHooks=[])).push(u,N)}}function Ll(s,o,u){Lu(s,o,3,u)}function fd(s,o,u,c){(3&s[Ht])===u&&Lu(s,o,u,c)}function pd(s,o){let u=s[Ht];(3&u)===o&&(u&=2047,u+=1,s[Ht]=u)}function Lu(s,o,u,c){const g=c??-1,v=o.length-1;let D=0;for(let b=void 0!==c?65535&s[ro]:0;b<v;b++)if("number"==typeof o[b+1]){if(D=o[b],null!=c&&D>=c)break}else o[b]<0&&(s[ro]+=65536),(D<g||-1==g)&&(Qo(s,u,o,b),s[ro]=(4294901760&s[ro])+b+2),b++}function Qo(s,o,u,c){const d=u[c]<0,g=u[c+1],D=s[d?-u[c]:u[c]];if(d){if(s[Ht]>>11<s[ro]>>16&&(3&s[Ht])===o){s[Ht]+=2048,Sn(4,D,g);try{g.call(D)}finally{Sn(5,D,g)}}}else{Sn(4,D,g);try{g.call(D)}finally{Sn(5,D,g)}}}const La=-1;class ds{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function Jo(s,o,u){let c=0;for(;c<u.length;){const d=u[c];if("number"==typeof d){if(0!==d)break;c++;const g=u[c++],v=u[c++],D=u[c++];s.setAttribute(o,v,D,g)}else{const g=d,v=u[++c];Vs(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),c++}}return c}function md(s){return 3===s||4===s||6===s}function Vs(s){return 64===s.charCodeAt(0)}function fo(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?u=d:0===u||Xo(s,u,d,null,-1===u||2===u?o[++c]:null)}}return s}function Xo(s,o,u,c,d){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const D=s[g++];if("number"==typeof D){if(D===o){v=-1;break}if(D>o){v=g-1;break}}}for(;g<s.length;){const D=s[g];if("number"==typeof D)break;if(D===u){if(null===c)return void(null!==d&&(s[g+1]=d));if(c===s[g+1])return void(s[g+2]=d)}g++,null!==c&&g++,null!==d&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,u),null!==c&&s.splice(g++,0,c),null!==d&&s.splice(g++,0,d)}function po(s){return s!==La}function ea(s){return 32767&s}function Ba(s,o){let u=function Ua(s){return s>>16}(s),c=o;for(;u>0;)c=c[xs],u--;return c}let Ul=!0;function ja(s){const o=Ul;return Ul=s,o}const Bl=255,Bu=5;let jl=0;const Lr={};function $l(s,o){const u=vd(s,o);if(-1!==u)return u;const c=o[Qe];c.firstCreatePass&&(s.injectorIndex=o.length,Qi(c.data,s),Qi(o,null),Qi(c.blueprint,null));const d=Ln(s,o),g=s.injectorIndex;if(po(d)){const v=ea(d),D=Ba(d,o),b=D[Qe].data;for(let A=0;A<8;A++)o[g+A]=D[v+A]|b[v+A]}return o[g+8]=d,g}function Qi(s,o){s.push(0,0,0,0,0,0,0,0,o)}function vd(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ln(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,d=o;for(;null!==d;){if(c=go(d),null===c)return La;if(u++,d=d[xs],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return La}function Us(s,o,u){!function yd(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(Yt)&&(c=u[Yt]),null==c&&(c=u[Yt]=jl++);const d=c&Bl;o.data[s+(d>>Bu)]|=1<<d}(s,o,u)}function _d(s,o,u){if(u&ht.Optional||void 0!==s)return s;je()}function $a(s,o,u,c){if(u&ht.Optional&&void 0===c&&(c=null),!(u&(ht.Self|ht.Host))){const d=s[ba],g=ir(void 0);try{return d?d.get(o,c,u&ht.Optional):Wr(o,c,u&ht.Optional)}finally{ir(g)}}return _d(c,0,u)}function Ed(s,o,u,c=ht.Default,d){if(null!==s){if(1024&o[Ht]){const v=function af(s,o,u,c,d){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[Ht]&&!(256&v[Ht]);){const D=$u(g,v,u,c|ht.Self,Lr);if(D!==Lr)return D;let b=g.parent;if(!b){const A=v[Ar];if(A){const N=A.get(u,Lr,c);if(N!==Lr)return N}b=go(v),v=v[xs]}g=b}return d}(s,o,u,c,Lr);if(v!==Lr)return v}const g=$u(s,o,u,c,Lr);if(g!==Lr)return g}return $a(o,u,c,d)}function $u(s,o,u,c,d){const g=function sf(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Yt)?s[Yt]:void 0;return"number"==typeof o?o>=0?o&Bl:Hl:o}(u);if("function"==typeof g){if(!ud(o,s,c))return c&ht.Host?_d(d,0,c):$a(o,u,c,d);try{const v=g(c);if(null!=v||c&ht.Optional)return v;je()}finally{ku()}}else if("number"==typeof g){let v=null,D=vd(s,o),b=La,A=c&ht.Host?o[Yn][ar]:null;for((-1===D||c&ht.SkipSelf)&&(b=-1===D?Ln(s,o):o[D+8],b!==La&&Hu(c,!1)?(v=o[Qe],D=ea(b),o=Ba(b,o)):D=-1);-1!==D;){const N=o[Qe];if(Bs(g,D,N.data)){const O=Jn(D,o,u,v,c,A);if(O!==Lr)return O}b=o[D+8],b!==La&&Hu(c,o[Qe].data[D+8]===A)&&Bs(g,D,o)?(v=N,D=ea(b),o=Ba(b,o)):D=-1}}return d}function Jn(s,o,u,c,d,g){const v=o[Qe],D=v.data[s+8],N=ta(D,v,u,null==c?Tu(D)&&Ul:c!=v&&0!=(3&D.type),d&ht.Host&&g===D);return null!==N?An(o,v,N,D):Lr}function ta(s,o,u,c,d){const g=s.providerIndexes,v=o.data,D=1048575&g,b=s.directiveStart,N=g>>20,z=d?D+N:s.directiveEnd;for(let J=c?D:D+N;J<z;J++){const me=v[J];if(J<b&&u===me||J>=b&&me.type===u)return J}if(d){const J=v[b];if(J&&Yr(J)&&J.type===u)return b}return null}function An(s,o,u,c){let d=s[u];const g=o.data;if(function ig(s){return s instanceof ds}(d)){const v=d;v.resolving&&function ve(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new fe(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Ue(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Re(s)}(g[u]));const D=ja(v.canSeeViewProviders);v.resolving=!0;const b=v.injectImpl?ir(v.injectImpl):null;ud(s,c,ht.Default);try{d=s[u]=v.factory(void 0,g,s,c),o.firstCreatePass&&u>=c.directiveStart&&function rg(s,o,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(c){const v=Su(o);(u.preOrderHooks??(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,v)}d&&(u.preOrderHooks??(u.preOrderHooks=[])).push(0-s,d),g&&((u.preOrderHooks??(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],o)}finally{null!==b&&ir(b),ja(D),v.resolving=!1,ku()}}return d}function Bs(s,o,u){return!!(u[o+(s>>Bu)]&1<<s)}function Hu(s,o){return!(s&ht.Self||s&ht.Host&&o)}class na{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return Ed(this._tNode,this._lView,o,Kr(c),u)}}function Hl(){return new na(kn(),ce())}function zl(s){return L(()=>{const o=s.prototype.constructor,u=o[In]||js(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const g=d[In]||js(d);if(g&&g!==u)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function js(s){return $e(s)?()=>{const o=js(Y(s));return o&&o()}:us(s)}function go(s){const o=s[Qe],u=o.type;return 2===u?o.declTNode:1===u?s[ar]:null}function Ha(s){return function ju(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const g=u[d];if(md(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(g===o)return u[d+1];d+=2}}}return null}(kn(),s)}const yo="__parameters__";function vo(s,o,u){return L(()=>{const c=function wd(s){return function(...u){if(s){const c=s(...u);for(const d in c)this[d]=c[d]}}}(o);function d(...g){if(this instanceof d)return c.apply(this,g),this;const v=new d(...g);return D.annotation=v,D;function D(b,A,N){const O=b.hasOwnProperty(yo)?b[yo]:Object.defineProperty(b,yo,{value:[]})[yo];for(;O.length<=N;)O.push(null);return(O[N]=O[N]||[]).push(v),b}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Xt{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=_t({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $s(s,o){s.forEach(u=>Array.isArray(u)?$s(u,o):o(u))}function Yl(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function za(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ci(s,o,u){let c=Fi(s,o);return c>=0?s[1|c]=u:(c=~c,function Wa(s,o,u,c){let d=s.length;if(d==o)s.push(u,c);else if(1===d)s.push(c,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function fn(s,o){const u=Fi(s,o);if(u>=0)return s[1|u]}function Fi(s,o){return function lr(s,o,u){let c=0,d=s.length>>u;for(;d!==c;){const g=c+(d-c>>1),v=s[g<<u];if(o===v)return g<<u;v>o?d=g:c=g+1}return~(d<<u)}(s,o,1)}const Eo=Oi(vo("Optional"),8),Mt=Oi(vo("SkipSelf"),4);var bt=(()=>((bt=bt||{})[bt.Important=1]="Important",bt[bt.DashCase=2]="DashCase",bt))();const qs=new Map;let Vi=0;const Xu="__ngContext__";function dr(s,o){kr(o)?(s[Xu]=o[$o],function Rd(s){qs.set(s[$o],s)}(o)):s[Xu]=o}let xt;function Dt(s,o){return xt(s,o)}function zn(s){const o=s[Dn];return ki(o)?o[Dn]:o}function Ui(s){return Ji(s[Ei])}function Ir(s){return Ji(s[on])}function Ji(s){for(;null!==s&&!ki(s);)s=s[on];return s}function ys(s,o,u,c,d){if(null!=c){let g,v=!1;ki(c)?g=c:kr(c)&&(v=!0,c=c[or]);const D=Qn(c);0===s&&null!==u?null==d?ti(o,u,D):Bt(o,u,D,d||null,!0):1===s&&null!==u?Bt(o,u,D,d||null,!0):2===s?function cy(s,o,u){const c=vs(s,o);c&&function aa(s,o,u,c){s.removeChild(o,u,c)}(s,c,o,u)}(o,D,v):3===s&&o.destroyNode(D),null!=g&&function Ef(s,o,u,c,d){const g=u[Ho];g!==Qn(u)&&ys(o,s,c,g,d);for(let D=vr;D<u.length;D++){const b=u[D];_f(b[Qe],b,s,o,c,g)}}(o,s,g,u,d)}}function gf(s,o,u){return s.createElement(o,u)}function w(s,o){const u=s[io],c=u.indexOf(o),d=o[Dn];512&o[Ht]&&(o[Ht]&=-513,Wo(d,-1)),u.splice(c,1)}function M(s,o){if(s.length<=vr)return;const u=vr+o,c=s[u];if(c){const d=c[no];null!==d&&d!==s&&w(d,c),o>0&&(s[u-1][on]=c[on]);const g=za(s,vr+o);!function ag(s,o){_f(s,o,o[Ut],2,null,null),o[or]=null,o[ar]=null}(c[Qe],c);const v=g[wi];null!==v&&v.detachView(g[Qe]),c[Dn]=null,c[on]=null,c[Ht]&=-65}return c}function R(s,o){if(!(128&o[Ht])){const u=o[Ut];u.destroyNode&&_f(s,o,u,3,null,null),function _(s){let o=s[Ei];if(!o)return W(s[Qe],s);for(;o;){let u=null;if(kr(o))u=o[Ei];else{const c=o[vr];c&&(u=c)}if(!u){for(;o&&!o[on]&&o!==s;)kr(o)&&W(o[Qe],o),o=o[Dn];null===o&&(o=s),kr(o)&&W(o[Qe],o),u=o&&o[on]}o=u}}(o)}}function W(s,o){if(!(128&o[Ht])){o[Ht]&=-65,o[Ht]|=128,function Fe(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const d=o[u[c]];if(!(d instanceof ds)){const g=u[c+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const D=d[g[v]],b=g[v+1];Sn(4,D,b);try{b.call(D)}finally{Sn(5,D,b)}}else{Sn(4,d,g);try{g.call(d)}finally{Sn(5,d,g)}}}}}(s,o),function se(s,o){const u=s.cleanup,c=o[Ca];let d=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+3];v>=0?c[d=v]():c[d=-v].unsubscribe(),g+=2}else{const v=c[d=u[g+1]];u[g].call(v)}if(null!==c){for(let g=d+1;g<c.length;g++)(0,c[g])();o[Ca]=null}}(s,o),1===o[Qe].type&&o[Ut].destroy();const u=o[no];if(null!==u&&ki(o[Dn])){u!==o[Dn]&&w(u,o);const c=o[wi];null!==c&&c.detachView(s)}!function Pd(s){qs.delete(s[$o])}(o)}}function Ke(s,o,u){return function vt(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[or];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:g}=s.data[c.directiveStart+d];if(g===ge.None||g===ge.Emulated)return null}return _r(c,u)}}(s,o.parent,u)}function Bt(s,o,u,c,d){s.insertBefore(o,u,c,d)}function ti(s,o,u){s.appendChild(o,u)}function Co(s,o,u,c,d){null!==c?Bt(s,o,u,c,d):ti(s,o,u)}function vs(s,o){return s.parentNode(o)}let kd,lc,fy,ug,ua=function uc(s,o,u){return 40&s.type?_r(s,u):null};function tl(s,o,u,c){const d=Ke(s,c,o),g=o[Ut],D=function Od(s,o,u){return ua(s,o,u)}(c.parent||o[ar],c,o);if(null!=d)if(Array.isArray(u))for(let b=0;b<u.length;b++)Co(g,d,u[b],D,!1);else Co(g,d,u,D,!1);void 0!==kd&&kd(g,c,o,u,d)}function Ld(s,o){if(null!==o){const u=o.type;if(3&u)return _r(o,s);if(4&u)return la(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return Ld(s,c);{const d=s[o.index];return ki(d)?la(-1,d):Qn(d)}}if(32&u)return Dt(o,s)()||Qn(s[o.index]);{const c=nl(s,o);return null!==c?Array.isArray(c)?c[0]:Ld(zn(s[Yn]),c):Ld(s,o.next)}}return null}function nl(s,o){return null!==o?s[Yn][ar].projection[o.projection]:null}function la(s,o){const u=vr+s+1;if(u<o.length){const c=o[u],d=c[Qe].firstChild;if(null!==d)return Ld(c,d)}return o[Ho]}function vf(s,o,u,c,d,g,v){for(;null!=u;){const D=c[u.index],b=u.type;if(v&&0===o&&(D&&dr(Qn(D),c),u.flags|=2),32!=(32&u.flags))if(8&b)vf(s,o,u.child,c,d,g,!1),ys(o,s,d,D,g);else if(32&b){const A=Dt(u,c);let N;for(;N=A();)ys(o,s,d,N,g);ys(o,s,d,D,g)}else 16&b?dy(s,o,c,u,d,g):ys(o,s,d,D,g);u=v?u.projectionNext:u.next}}function _f(s,o,u,c,d,g){vf(u,c,s.firstChild,o,d,g,!1)}function dy(s,o,u,c,d,g){const v=u[Yn],b=v[ar].projection[c.projection];if(Array.isArray(b))for(let A=0;A<b.length;A++)ys(o,s,d,b[A],g);else vf(s,o,b,v[Dn],d,g,!0)}function rl(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function wf(s,o,u){const{mergedAttrs:c,classes:d,styles:g}=u;null!==c&&Jo(s,o,c),null!==d&&rl(s,o,d),null!==g&&function hy(s,o,u){s.setAttribute(o,"style",u)}(s,o,g)}function Vd(s){return function If(){if(void 0===lc&&(lc=null,ln.trustedTypes))try{lc=ln.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return lc}()?.createHTML(s)||s}function nC(s){fy=s}function py(){if(void 0===ug&&(ug=null,ln.trustedTypes))try{ug=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ug}function vE(s){return py()?.createHTML(s)||s}function _E(s){return py()?.createScriptURL(s)||s}class cc{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${st})`}}class rC extends cc{getTypeName(){return"HTML"}}class iC extends cc{getTypeName(){return"Style"}}class sC extends cc{getTypeName(){return"Script"}}class EE extends cc{getTypeName(){return"URL"}}class my extends cc{getTypeName(){return"ResourceURL"}}function bo(s){return s instanceof cc?s.changingThisBreaksApplicationSecurity:s}function Xi(s,o){const u=function Ud(s){return s instanceof cc&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${st})`)}return u===o}function wE(s){return new rC(s)}function IE(s){return new iC(s)}function oC(s){return new sC(s)}function Bd(s){return new EE(s)}function DE(s){return new my(s)}class lg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Vd(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class bE{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const u=this.inertDocument.createElement("template");return u.innerHTML=Vd(o),u}}const TE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jd(s){return(s=String(s)).match(TE)?s:"unsafe:"+s}function To(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Df(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const $d=To("area,br,col,hr,img,wbr"),SE=To("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),AE=To("rp,rt"),cg=Df($d,Df(SE,To("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Df(AE,To("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Df(AE,SE)),dg=To("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Cf=Df(dg,To("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),To("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xE=To("script,style,template");class lC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!cg.hasOwnProperty(u))return this.sanitizedSomething=!0,!xE.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let d=0;d<c.length;d++){const g=c.item(d),v=g.name,D=v.toLowerCase();if(!Cf.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let b=g.value;dg[D]&&(b=jd(b)),this.buf.push(" ",v,'="',_y(b),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();cg.hasOwnProperty(u)&&!$d.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(_y(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const cC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vy=/([^\#-~ |!])/g;function _y(s){return s.replace(/&/g,"&amp;").replace(cC,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(vy,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ey;function dC(s,o){let u=null;try{Ey=Ey||function CE(s){const o=new bE(s);return function yy(){try{return!!(new window.DOMParser).parseFromString(Vd(""),"text/html")}catch{return!1}}()?new lg(o):o}(s);let c=o?String(o):"";u=Ey.getInertBodyElement(c);let d=5,g=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=g,g=u.innerHTML,u=Ey.getInertBodyElement(c)}while(c!==g);return Vd((new lC).sanitizeChildren(NE(u)||u))}finally{if(u){const c=NE(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function NE(s){return"content"in s&&function KM(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var er=(()=>((er=er||{})[er.NONE=0]="NONE",er[er.HTML=1]="HTML",er[er.STYLE=2]="STYLE",er[er.SCRIPT=3]="SCRIPT",er[er.URL=4]="URL",er[er.RESOURCE_URL=5]="RESOURCE_URL",er))();function RE(s){const o=Tf();return o?vE(o.sanitize(er.HTML,s)||""):Xi(s,"HTML")?vE(bo(s)):dC(function yE(){return void 0!==fy?fy:typeof document<"u"?document:void 0}(),Re(s))}function PE(s){const o=Tf();return o?o.sanitize(er.URL,s)||"":Xi(s,"URL")?bo(s):jd(Re(s))}function fg(s){const o=Tf();if(o)return _E(o.sanitize(er.RESOURCE_URL,s)||"");if(Xi(s,"ResourceURL"))return _E(bo(s));throw new fe(904,!1)}function kE(s,o,u){return function fC(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?fg:PE}(o,u)(s)}function Tf(){const s=ce();return s&&s[bu]}const Iy=new Xt("ENVIRONMENT_INITIALIZER"),dc=new Xt("INJECTOR",-1),Hd=new Xt("INJECTOR_DEF_TYPES");class FE{get(o,u=mi){if(u===mi){const c=new Error(`NullInjectorError: No provider for ${Ne(o)}!`);throw c.name="NullInjectorError",c}return u}}function gC(s){return{\u0275providers:s}}function Sf(...s){return{\u0275providers:zd(0,s),\u0275fromNgModule:!0}}function zd(s,...o){const u=[],c=new Set;let d;return $s(o,g=>{const v=g;Dy(v,u,[],c)&&(d||(d=[]),d.push(v))}),void 0!==d&&LE(d,u),u}function LE(s,o){for(let u=0;u<s.length;u++){const{providers:d}=s[u];Cy(d,g=>{o.push(g)})}}function Dy(s,o,u,c){if(!(s=Y(s)))return!1;let d=null,g=Tr(s);const v=!g&&yt(s);if(g||v){if(v&&!v.standalone)return!1;d=s}else{const b=s.ngModule;if(g=Tr(b),!g)return!1;d=b}const D=c.has(d);if(v){if(D)return!1;if(c.add(d),v.dependencies){const b="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of b)Dy(A,o,u,c)}}else{if(!g)return!1;{if(null!=g.imports&&!D){let A;c.add(d);try{$s(g.imports,N=>{Dy(N,o,u,c)&&(A||(A=[]),A.push(N))})}finally{}void 0!==A&&LE(A,o)}if(!D){const A=us(d)||(()=>new d);o.push({provide:d,useFactory:A,deps:Pe},{provide:Hd,useValue:d,multi:!0},{provide:Iy,useValue:()=>tn(d),multi:!0})}const b=g.providers;null==b||D||Cy(b,N=>{o.push(N)})}}return d!==s&&void 0!==s.providers}function Cy(s,o){for(let u of s)Ee(u)&&(u=u.\u0275providers),Array.isArray(u)?Cy(u,o):o(u)}const mC=ae({provide:String,useValue:ae});function by(s){return null!==s&&"object"==typeof s&&mC in s}function ru(s){return"function"==typeof s}const il=new Xt("Set Injector scope."),gg={},vC={};let Ty;function mg(){return void 0===Ty&&(Ty=new FE),Ty}class hc{}class UE extends hc{get destroyed(){return this._destroyed}constructor(o,u,c,d){super(),this.parent=u,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wd(o,v=>this.processProvider(v)),this.records.set(dc,Gd(void 0,this)),d.has("environment")&&this.records.set(hc,Gd(void 0,this));const g=this.records.get(il);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Hd.multi,Pe,ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=Jt(this),c=ir(void 0);try{return o()}finally{Jt(u),ir(c)}}get(o,u=mi,c=ht.Default){this.assertNotDestroyed(),c=Kr(c);const d=Jt(this),g=ir(void 0);try{if(!(c&ht.SkipSelf)){let D=this.records.get(o);if(void 0===D){const b=function xy(s){return"function"==typeof s||"object"==typeof s&&s instanceof Xt}(o)&&wn(o);D=b&&this.injectableDefInScope(b)?Gd(Sy(o),gg):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(c&ht.Self?mg():this.parent).get(o,u=c&ht.Optional&&u===mi?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Vn]=v[Vn]||[]).unshift(Ne(o)),d)throw v;return function li(s,o,u,c){const d=s[Vn];throw o[yn]&&d.unshift(o[yn]),s.message=function B(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==Rr?s.slice(2):s;let d=Ne(o);if(Array.isArray(o))d=o.map(Ne).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let D=o[v];g.push(v+":"+("string"==typeof D?JSON.stringify(D):Ne(D)))}d=`{${g.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${s.replace(Un,"\n  ")}`}("\n"+s.message,d,u,c),s[yi]=d,s[Vn]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{ir(g),Jt(d)}}resolveInjectorInitializers(){const o=Jt(this),u=ir(void 0);try{const c=this.get(Iy.multi,Pe,ht.Self);for(const d of c)d()}finally{Jt(o),ir(u)}}toString(){const o=[],u=this.records;for(const c of u.keys())o.push(Ne(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(o){let u=ru(o=Y(o))?o:Y(o&&o.provide);const c=function EC(s){return by(s)?Gd(void 0,s.useValue):Gd(Ay(s),gg)}(o);if(ru(o)||!0!==o.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=Gd(void 0,gg,!0),d.factory=()=>Zn(d.multi),this.records.set(u,d)),u=o,d.multi.push(o)}this.records.set(u,c)}hydrate(o,u){return u.value===gg&&(u.value=vC,u.value=u.factory()),"object"==typeof u.value&&u.value&&function BE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=Y(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Sy(s){const o=wn(s),u=null!==o?o.factory:us(s);if(null!==u)return u;if(s instanceof Xt)throw new fe(204,!1);if(s instanceof Function)return function _C(s){const o=s.length;if(o>0)throw function ra(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?"),new fe(204,!1);const u=function ui(s){return s&&(s[qi]||s[Da])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new fe(204,!1)}function Ay(s,o,u){let c;if(ru(s)){const d=Y(s);return us(d)||Sy(d)}if(by(s))c=()=>Y(s.useValue);else if(function VE(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Zn(s.deps||[]));else if(function yC(s){return!(!s||!s.useExisting)}(s))c=()=>tn(Y(s.useExisting));else{const d=Y(s&&(s.useClass||s.provide));if(!function My(s){return!!s.deps}(s))return us(d)||Sy(d);c=()=>new d(...Zn(s.deps))}return c}function Gd(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function Wd(s,o){for(const u of s)Array.isArray(u)?Wd(u,o):u&&Ee(u)?Wd(u.\u0275providers,o):o(u)}class wC{}class jE{}class HE{resolveComponentFactory(o){throw function IC(s){const o=Error(`No component factory found for ${Ne(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let qd=(()=>{class s{}return s.NULL=new HE,s})();function yg(){return iu(kn(),ce())}function iu(s,o){return new Kd(_r(s,o))}let Kd=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=yg,s})();function Af(s){return s instanceof Kd?s.nativeElement:s}class Ry{}let DC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function CC(){const s=ce(),u=ur(kn().index,s);return(kr(u)?u:s)[Ut]}(),s})(),bC=(()=>{class s{}return s.\u0275prov=_t({token:s,providedIn:"root",factory:()=>null}),s})();class zE{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const GE=new zE("15.2.9"),vg={},Py="ngOriginalError";function Oy(s){return s[Py]}class Mf{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Oy(o);for(;u&&Oy(u);)u=Oy(u);return u||null}}function da(s){return s instanceof Function?s():s}function QE(s,o,u){let c=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===c||s.charCodeAt(d+g)<=32)return d}u=d+1}}const ky="ng-template";function Fy(s,o,u){let c=0,d=!0;for(;c<s.length;){let g=s[c++];if("string"==typeof g&&d){const v=s[c++];if(u&&"class"===g&&-1!==QE(v.toLowerCase(),o,0))return!0}else{if(1===g){for(;c<s.length&&"string"==typeof(g=s[c++]);)if(g.toLowerCase()===o)return!0;return!1}"number"==typeof g&&(d=!1)}}return!1}function Ly(s){return 4===s.type&&s.value!==ky}function Zd(s,o,u){return o===(4!==s.type||u?s.value:ky)}function Vy(s,o,u){let c=4;const d=s.attrs||[],g=function XE(s){for(let o=0;o<s.length;o++)if(md(s[o]))return o;return s.length}(d);let v=!1;for(let D=0;D<o.length;D++){const b=o[D];if("number"!=typeof b){if(!v)if(4&c){if(c=2|1&c,""!==b&&!Zd(s,b,u)||""===b&&1===o.length){if(So(c))return!1;v=!0}}else{const A=8&c?b:o[++D];if(8&c&&null!==s.attrs){if(!Fy(s.attrs,A,u)){if(So(c))return!1;v=!0}continue}const O=JE(8&c?"class":b,d,Ly(s),u);if(-1===O){if(So(c))return!1;v=!0;continue}if(""!==A){let z;z=O>g?"":d[O+1].toLowerCase();const J=8&c?z:null;if(J&&-1!==QE(J,A,0)||2&c&&A!==z){if(So(c))return!1;v=!0}}}}else{if(!v&&!So(c)&&!So(b))return!1;if(v&&So(b))continue;v=!1,c=b|1&c}}return So(c)||v}function So(s){return 0==(1&s)}function JE(s,o,u,c){if(null===o)return-1;let d=0;if(c||!u){let g=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let D=o[++d];for(;"string"==typeof D;)D=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function e0(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function Nf(s,o,u=!1){for(let c=0;c<o.length;c++)if(Vy(s,o[c],u))return!0;return!1}function t0(s,o){return s?":not("+o.trim()+")":o}function PC(s){let o=s[0],u=1,c=2,d="",g=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&c){const D=s[++u];d+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&c?d+="."+v:4&c&&(d+=" "+v);else""!==d&&!So(v)&&(o+=t0(g,d),d=""),c=v,g=g||!So(c);u++}return""!==d&&(o+=t0(g,d)),o}const Lt={};function n0(s){r0(kt(),ce(),Mr()+s,!1)}function r0(s,o,u,c){if(!c)if(3==(3&o[Ht])){const g=s.preOrderCheckHooks;null!==g&&Ll(o,g,u)}else{const g=s.preOrderHooks;null!==g&&fd(o,g,0,u)}Yi(u)}function o0(s,o=null,u=null,c){const d=By(s,o,u,c);return d.resolveInjectorInitializers(),d}function By(s,o=null,u=null,c,d=new Set){const g=[u||Pe,Sf(s)];return c=c||("object"==typeof s?void 0:Ne(s)),new UE(g,o||mg(),c||null,d)}let Yd=(()=>{class s{static create(u,c){if(Array.isArray(u))return o0({name:""},c,u,"");{const d=u.name??"";return o0({name:d},u.parent,u.providers,d)}}}return s.THROW_IF_NOT_FOUND=mi,s.NULL=new FE,s.\u0275prov=_t({token:s,providedIn:"any",factory:()=>tn(dc)}),s.__NG_ELEMENT_ID__=-1,s})();function Xd(s,o=ht.Default){const u=ce();return null===u?tn(s,o):Ed(kn(),u,Y(s),o)}function d0(){throw new Error("invalid")}function h0(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const g=u[c+1];if(-1!==g){const v=s.data[g];ad(u[c]),v.contentQueries(2,o[g],g)}}}function Ig(s,o,u,c,d,g,v,D,b,A,N){const O=o.blueprint.slice();return O[or]=d,O[Ht]=76|c,(null!==N||s&&1024&s[Ht])&&(O[Ht]|=1024),Pa(O),O[Dn]=O[xs]=s,O[Pn]=u,O[Ms]=v||s&&s[Ms],O[Ut]=D||s&&s[Ut],O[bu]=b||s&&s[bu]||null,O[ba]=A||s&&s[ba]||null,O[ar]=g,O[$o]=function Nd(){return Vi++}(),O[Ar]=N,O[Yn]=2==o.type?s[Yn]:O,O}function kf(s,o,u,c,d){let g=s.data[o];if(null===g)g=function Gy(s,o,u,c,d){const g=nd(),v=Ru(),b=s.data[o]=function eb(s,o,u,c,d,g){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,o,c,d);return null===s.firstChild&&(s.firstChild=b),null!==g&&(v?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b,b.prev=g)),b}(s,o,u,c,d),function sd(){return Rt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=u,g.value=c,g.attrs=d;const v=function qo(){const s=Rt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Di(g,!0),g}function Ff(s,o,u,c){if(0===u)return-1;const d=o.length;for(let g=0;g<u;g++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function et(s,o,u){Zo(o);try{const c=s.viewQuery;null!==c&&E0(1,c,u);const d=s.template;null!==d&&xn(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&h0(s,o),s.staticViewQueries&&E0(2,s.viewQuery,u);const g=s.components;null!==g&&function f0(s,o){for(let u=0;u<o.length;u++)gx(s,o[u])}(o,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[Ht]&=-5,ld()}}function Qs(s,o,u,c){const d=o[Ht];if(128!=(128&d)){Zo(o);try{Pa(o),function Ls(s){return Rt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&xn(s,o,u,2,c);const v=3==(3&d);if(v){const A=s.preOrderCheckHooks;null!==A&&Ll(o,A,null)}else{const A=s.preOrderHooks;null!==A&&fd(o,A,0,null),pd(o,0)}if(function fx(s){for(let o=Ui(s);null!==o;o=Ir(o)){if(!o[Sa])continue;const u=o[io];for(let c=0;c<u.length;c++){const d=u[c];512&d[Ht]||Wo(d[Dn],1),d[Ht]|=512}}}(o),function hx(s){for(let o=Ui(s);null!==o;o=Ir(o))for(let u=vr;u<o.length;u++){const c=o[u],d=c[Qe];ks(c)&&Qs(d,c,d.template,c[Pn])}}(o),null!==s.contentQueries&&h0(s,o),v){const A=s.contentCheckHooks;null!==A&&Ll(o,A)}else{const A=s.contentHooks;null!==A&&fd(o,A,1),pd(o,1)}!function YC(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const d=u[c];if(d<0)Yi(~d);else{const g=d,v=u[++c],D=u[++c];od(v,g),D(2,o[g])}}}finally{Yi(-1)}}(s,o);const D=s.components;null!==D&&function QC(s,o){for(let u=0;u<o.length;u++)px(s,o[u])}(o,D);const b=s.viewQuery;if(null!==b&&E0(2,b,c),v){const A=s.viewCheckHooks;null!==A&&Ll(o,A)}else{const A=s.viewHooks;null!==A&&fd(o,A,2),pd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Ht]&=-41,512&o[Ht]&&(o[Ht]&=-513,Wo(o[Dn],-1))}finally{ld()}}}function xn(s,o,u,c,d){const g=Mr(),v=2&c;try{Yi(-1),v&&o.length>hn&&r0(s,o,hn,!1),Sn(v?2:0,d),u(c,d)}finally{Yi(g),Sn(v?3:1,d)}}function su(s,o,u){if(so(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}function sl(s,o,u){ed()&&(function pc(s,o,u,c){const d=u.directiveStart,g=u.directiveEnd;Tu(u)&&function lx(s,o,u){const c=_r(o,s),d=JC(u),g=s[Ms],v=Qy(s,Ig(s,d,null,u.onPush?32:16,c,o,g,g.createRenderer(c,u),null,null,null));s[o.index]=v}(o,u,s.data[d+u.componentOffset]),s.firstCreatePass||$l(u,o),dr(c,o);const v=u.initialInputs;for(let D=d;D<g;D++){const b=s.data[D],A=An(o,s,D,u);dr(A,o),null!==v&&cx(0,D-d,A,b,0,v),Yr(b)&&(ur(u.index,o)[Pn]=An(o,s,D,u))}}(s,o,u,_r(u,o)),64==(64&u.flags)&&Cg(s,o,u))}function Dg(s,o,u=_r){const c=o.localNames;if(null!==c){let d=o.index+1;for(let g=0;g<c.length;g+=2){const v=c[g+1],D=-1===v?u(o,s):s[v];s[d++]=D}}}function JC(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Wy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Wy(s,o,u,c,d,g,v,D,b,A){const N=hn+c,O=N+d,z=function qy(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:Lt);return u}(N,O),J="function"==typeof A?A():A;return z[Qe]={type:s,blueprint:z,template:u,queries:null,viewQuery:D,declTNode:o,data:z.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:b,consts:J,incompleteFirstPass:!1}}function p0(s,o,u,c){const d=ob(o);null===u?d.push(c):(d.push(u),s.firstCreatePass&&ab(s).push(c,d.length-1))}function g0(s,o,u,c){for(let d in s)if(s.hasOwnProperty(d)){u=null===u?{}:u;const g=s[d];null===c?m0(u,o,d,g):c.hasOwnProperty(d)&&m0(u,o,c[d],g)}return u}function m0(s,o,u,c){s.hasOwnProperty(u)?s[u].push(o,c):s[u]=[o,c]}function Js(s,o,u,c,d,g,v,D){const b=_r(o,u);let N,A=o.inputs;!D&&null!=A&&(N=A[c])?(w0(s,u,N,c,d),Tu(o)&&function tb(s,o){const u=ur(o,s);16&u[Ht]||(u[Ht]|=32)}(u,o.index)):3&o.type&&(c=function ox(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=v?v(d,o.value||"",c):d,g.setProperty(b,c,d))}function y0(s,o,u,c){if(ed()){const d=null===c?null:{"":-1},g=function Ky(s,o){const u=s.directiveRegistry;let c=null,d=null;if(u)for(let g=0;g<u.length;g++){const v=u[g];if(Nf(o,v.selectors,!1))if(c||(c=[]),Yr(v))if(null!==v.findHostDirectiveDefs){const D=[];d=d||new Map,v.findHostDirectiveDefs(v,D,d),c.unshift(...D,v),bg(s,o,D.length)}else c.unshift(v),bg(s,o,0);else d=d||new Map,v.findHostDirectiveDefs?.(v,c,d),c.push(v)}return null===c?null:[c,d]}(s,u);let v,D;null===g?v=D=null:[v,D]=g,null!==v&&nb(s,o,u,v,d,D),d&&function ux(s,o,u){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=u[o[d+1]];if(null==g)throw new fe(-301,!1);c.push(o[d],g)}}}(u,c,d)}u.mergedAttrs=fo(u.mergedAttrs,u.attrs)}function nb(s,o,u,c,d,g){for(let A=0;A<c.length;A++)Us($l(u,o),s,c[A].type);!function rb(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,c.length);for(let A=0;A<c.length;A++){const N=c[A];N.providersResolver&&N.providersResolver(N)}let v=!1,D=!1,b=Ff(s,o,c.length,null);for(let A=0;A<c.length;A++){const N=c[A];u.mergedAttrs=fo(u.mergedAttrs,N.hostAttrs),ib(s,u,o,b,N),Zy(b,N,d),null!==N.contentQueries&&(u.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(u.flags|=64);const O=N.type.prototype;!v&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(u.index),v=!0),!D&&(O.ngOnChanges||O.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(u.index),D=!0),b++}!function sx(s,o,u){const d=o.directiveEnd,g=s.data,v=o.attrs,D=[];let b=null,A=null;for(let N=o.directiveStart;N<d;N++){const O=g[N],z=u?u.get(O):null,me=z?z.outputs:null;b=g0(O.inputs,N,b,z?z.inputs:null),A=g0(O.outputs,N,A,me);const Be=null===b||null===v||Ly(o)?null:dx(b,N,v);D.push(Be)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=8),b.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=D,o.inputs=b,o.outputs=A}(s,u,g)}function Cg(s,o,u){const c=u.directiveStart,d=u.directiveEnd,g=u.index,v=function tg(){return Rt.lFrame.currentDirectiveIndex}();try{Yi(g);for(let D=c;D<d;D++){const b=s.data[D],A=o[D];Fn(D),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&v0(b,A)}}finally{Yi(-1),Fn(v)}}function v0(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function bg(s,o,u){o.componentOffset=u,(s.components??(s.components=[])).push(o.index)}function Zy(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;Yr(o)&&(u[""]=s)}}function ib(s,o,u,c,d){s.data[c]=d;const g=d.factory||(d.factory=us(d.type)),v=new ds(g,Yr(d),Xd);s.blueprint[c]=v,u[c]=v,function ni(s,o,u,c,d){const g=d.hostBindings;if(g){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const D=~o.index;(function ou(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(v)!=D&&v.push(D),v.push(u,c,g)}}(s,o,c,Ff(s,u,d.hostVars,Lt),d)}function au(s,o,u,c,d,g){const v=_r(s,o);!function Yy(s,o,u,c,d,g,v){if(null==g)s.removeAttribute(o,d,u);else{const D=null==v?Re(g):v(g,c||"",d);s.setAttribute(o,d,D,u)}}(o[Ut],v,g,s.value,u,c,d)}function cx(s,o,u,c,d,g){const v=g[o];if(null!==v){const D=c.setInput;for(let b=0;b<v.length;){const A=v[b++],N=v[b++],O=v[b++];null!==D?c.setInput(u,O,A,N):u[N]=O}}}function dx(s,o,u){let c=null,d=0;for(;d<u.length;){const g=u[d];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===c&&(c=[]);const v=s[g];for(let D=0;D<v.length;D+=2)if(v[D]===o){c.push(g,v[D+1],u[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function sb(s,o,u,c){return[s,!0,!1,o,null,0,c,u,null,null]}function px(s,o){const u=ur(o,s);if(ks(u)){const c=u[Qe];48&u[Ht]?Qs(c,u,c.template,u[Pn]):u[As]>0&&_0(u)}}function _0(s){for(let c=Ui(s);null!==c;c=Ir(c))for(let d=vr;d<c.length;d++){const g=c[d];if(ks(g))if(512&g[Ht]){const v=g[Qe];Qs(v,g,v.template,g[Pn])}else g[As]>0&&_0(g)}const u=s[Qe].components;if(null!==u)for(let c=0;c<u.length;c++){const d=ur(u[c],s);ks(d)&&d[As]>0&&_0(d)}}function gx(s,o){const u=ur(o,s),c=u[Qe];(function mx(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),et(c,u,u[Pn])}function Qy(s,o){return s[Ei]?s[Ta][on]=o:s[Ei]=o,s[Ta]=o,o}function Jy(s){for(;s;){s[Ht]|=32;const o=zn(s);if(Rs(s)&&!o)return s;s=o}return null}function Xy(s,o,u,c=!0){const d=o[Ms];d.begin&&d.begin();try{Qs(s,o,s.template,u)}catch(v){throw c&&lb(o,v),v}finally{d.end&&d.end()}}function E0(s,o,u){ad(0),o(s,u)}function ob(s){return s[Ca]||(s[Ca]=[])}function ab(s){return s.cleanup||(s.cleanup=[])}function lb(s,o){const u=s[ba],c=u?u.get(Mf,null):null;c&&c.handleError(o)}function w0(s,o,u,c,d){for(let g=0;g<u.length;){const v=u[g++],D=u[g++],b=o[v],A=s.data[v];null!==A.setInput?A.setInput(b,d,c,D):b[D]=d}}function ev(s,o,u){let c=u?s.styles:null,d=u?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const D=o[v];"number"==typeof D?g=D:1==g?d=Ce(d,D):2==g&&(c=Ce(c,D+": "+o[++v]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=d:s.classesWithoutHost=d}function tv(s,o,u,c,d=!1){for(;null!==u;){const g=o[u.index];if(null!==g&&c.push(Qn(g)),ki(g))for(let D=vr;D<g.length;D++){const b=g[D],A=b[Qe].firstChild;null!==A&&tv(b[Qe],b,A,c)}const v=u.type;if(8&v)tv(s,o,u.child,c);else if(32&v){const D=Dt(u,o);let b;for(;b=D();)c.push(b)}else if(16&v){const D=nl(o,u);if(Array.isArray(D))c.push(...D);else{const b=zn(o[Yn]);tv(b[Qe],b,D,c,!0)}}u=d?u.projectionNext:u.next}return c}class Tg{get rootNodes(){const o=this._lView,u=o[Qe];return tv(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pn]}set context(o){this._lView[Pn]=o}get destroyed(){return 128==(128&this._lView[Ht])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Dn];if(ki(o)){const u=o[Ns],c=u?u.indexOf(this):-1;c>-1&&(M(o,c),za(u,c))}this._attachedToViewContainer=!1}R(this._lView[Qe],this._lView)}onDestroy(o){p0(this._lView[Qe],this._lView,null,o)}markForCheck(){Jy(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ht]&=-65}reattach(){this._lView[Ht]|=64}detectChanges(){Xy(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mf(s,o){_f(s,o,o[Ut],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=o}}class yx extends Tg{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Xy(o[Qe],o,o[Pn],!1)}checkNoChanges(){}get context(){return null}}class cb extends qd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=yt(o);return new Sg(u,this.ngModule)}}function db(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class _x{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,c){c=Kr(c);const d=this.injector.get(o,vg,c);return d!==vg||u===vg?d:this.parentInjector.get(o,u,c)}}class Sg extends jE{get inputs(){return db(this.componentDef.inputs)}get outputs(){return db(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function OC(s){return s.map(PC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,c,d){let g=(d=d||this.ngModule)instanceof hc?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new _x(o,g):o,D=v.get(Ry,null);if(null===D)throw new fe(407,!1);const b=v.get(bC,null),A=D.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",O=c?function XC(s,o,u){return s.selectRootElement(o,u===ge.ShadowDom)}(A,c,this.componentDef.encapsulation):gf(A,N,function vx(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(N)),z=this.componentDef.onPush?288:272,J=Wy(0,null,null,1,0,null,null,null,null,null),me=Ig(null,J,null,z,null,null,D,A,b,v,null);let Be,Ye;Zo(me);try{const ut=this.componentDef;let Pt,Ae=null;ut.findHostDirectiveDefs?(Pt=[],Ae=new Map,ut.findHostDirectiveDefs(ut,Pt,Ae),Pt.push(ut)):Pt=[ut];const $t=function wx(s,o){const u=s[Qe],c=hn;return s[c]=o,kf(u,c,2,"#host",null)}(me,O),En=function Ix(s,o,u,c,d,g,v,D){const b=d[Qe];!function Dx(s,o,u,c){for(const d of s)o.mergedAttrs=fo(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(ev(o,o.mergedAttrs,!0),null!==u&&wf(c,u,o))}(c,s,o,v);const A=g.createRenderer(o,u),N=Ig(d,JC(u),null,u.onPush?32:16,d[s.index],s,g,A,D||null,null,null);return b.firstCreatePass&&bg(b,s,c.length-1),Qy(d,N),d[s.index]=N}($t,O,ut,Pt,me,D,A);Ye=xu(J,hn),O&&function bx(s,o,u,c){if(c)Jo(s,u,["ng-version",GE.full]);else{const{attrs:d,classes:g}=function kC(s){const o=[],u=[];let c=1,d=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++c]):8===d&&u.push(g);else{if(!So(d))break;d=g}c++}return{attrs:o,classes:u}}(o.selectors[0]);d&&Jo(s,u,d),g&&g.length>0&&rl(s,u,g.join(" "))}}(A,ut,O,c),void 0!==u&&function Tx(s,o,u){const c=s.projection=[];for(let d=0;d<o.length;d++){const g=u[d];c.push(null!=g?Array.from(g):null)}}(Ye,this.ngContentSelectors,u),Be=function Cx(s,o,u,c,d,g){const v=kn(),D=d[Qe],b=_r(v,d);nb(D,d,v,u,null,c);for(let N=0;N<u.length;N++)dr(An(d,D,v.directiveStart+N,v),d);Cg(D,d,v),b&&dr(b,d);const A=An(d,D,v.directiveStart+v.componentOffset,v);if(s[Pn]=d[Pn]=A,null!==g)for(const N of g)N(A,o);return su(D,v,s),A}(En,ut,Pt,Ae,me,[Sx]),et(J,me,null)}finally{ld()}return new Ex(this.componentType,Be,iu(Ye,me),me,Ye)}}class Ex extends wC{constructor(o,u,c,d,g){super(),this.location=c,this._rootLView=d,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new yx(d),this.componentType=o}setInput(o,u){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const g=this._rootLView;w0(g[Qe],g,d,o,u),Jy(ur(this._tNode.index,g))}}get injector(){return new na(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Sx(){const s=kn();Fu(ce()[Qe],s)}function I0(s){let o=function hb(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let d;if(Yr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new fe(903,!1);d=o.\u0275dir}if(d){if(u){c.push(d);const v=s;v.inputs=D0(s.inputs),v.declaredInputs=D0(s.declaredInputs),v.outputs=D0(s.outputs);const D=d.hostBindings;D&&Nx(s,D);const b=d.viewQuery,A=d.contentQueries;if(b&&Mx(s,b),A&&xx(s,A),Le(s.inputs,d.inputs),Le(s.declaredInputs,d.declaredInputs),Le(s.outputs,d.outputs),Yr(d)&&d.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const D=g[v];D&&D.ngInherit&&D(s),D===I0&&(u=!1)}}o=Object.getPrototypeOf(o)}!function Ax(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=fo(d.hostAttrs,u=fo(u,d.hostAttrs))}}(c)}function D0(s){return s===X?{}:s===Pe?[]:s}function Mx(s,o){const u=s.viewQuery;s.viewQuery=u?(c,d)=>{o(c,d),u(c,d)}:o}function xx(s,o){const u=s.contentQueries;s.contentQueries=u?(c,d,g)=>{o(c,d,g),u(c,d,g)}:o}function Nx(s,o){const u=s.hostBindings;s.hostBindings=u?(c,d)=>{o(c,d),u(c,d)}:o}function Lf(s){return!!nv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function nv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Si(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function rv(s,o,u,c){const d=ce();return Si(d,cs(),o)&&(kt(),au(Cn(),d,s,o,u,c)),rv}function M0(s,o,u,c,d,g,v,D){const b=ce(),A=kt(),N=s+hn,O=A.firstCreatePass?function vb(s,o,u,c,d,g,v,D,b){const A=o.consts,N=kf(o,s,4,v||null,ls(A,D));y0(o,u,N,ls(A,b)),Fu(o,N);const O=N.tView=Wy(2,N,c,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,N),O.queries=o.queries.embeddedTView(N)),N}(N,A,b,o,u,c,d,g,v):A.data[N];Di(O,!1);const z=b[Ut].createComment("");tl(A,b,z,O),dr(z,b),Qy(b,b[N]=sb(z,b,z,O)),Aa(O)&&sl(A,b,O),null!=v&&Dg(b,O,D)}function jf(s,o,u){const c=ce();return Si(c,cs(),o)&&Js(kt(),Cn(),c,s,o,c[Ut],u,!1),jf}function Mg(s,o,u,c,d){const v=d?"class":"style";w0(s,u,o.inputs[v],v,c)}function $f(s,o,u,c){const d=ce(),g=kt(),v=hn+s,D=d[Ut],b=g.firstCreatePass?function av(s,o,u,c,d,g){const v=o.consts,b=kf(o,s,2,c,ls(v,d));return y0(o,u,b,ls(v,g)),null!==b.attrs&&ev(b,b.attrs,!1),null!==b.mergedAttrs&&ev(b,b.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,b),b}(v,g,d,o,u,c):g.data[v],A=d[v]=gf(D,o,function hd(){return Rt.lFrame.currentNamespace}()),N=Aa(b);return Di(b,!0),wf(D,A,b),32!=(32&b.flags)&&tl(g,d,A,b),0===function Ml(){return Rt.lFrame.elementDepthCount}()&&dr(A,d),function xl(){Rt.lFrame.elementDepthCount++}(),N&&(sl(g,d,b),su(g,b,d)),null!==c&&Dg(d,b),$f}function cl(){let s=kn();Ru()?rd():(s=s.parent,Di(s,!1));const o=s;!function Nl(){Rt.lFrame.elementDepthCount--}();const u=kt();return u.firstCreatePass&&(Fu(u,s),so(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function hs(s){return 0!=(8&s.flags)}(o)&&Mg(u,o,ce(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Vl(s){return 0!=(16&s.flags)}(o)&&Mg(u,o,ce(),o.stylesWithoutHost,!1),cl}function uv(s,o,u,c){return $f(s,o,u,c),cl(),uv}function rh(s,o,u){const c=ce(),d=kt(),g=s+hn,v=d.firstCreatePass?function lv(s,o,u,c,d){const g=o.consts,v=ls(g,c),D=kf(o,s,8,"ng-container",v);return null!==v&&ev(D,v,!0),y0(o,u,D,ls(g,d)),null!==o.queries&&o.queries.elementStart(o,D),D}(g,d,c,o,u):d.data[g];Di(v,!0);const D=c[g]=c[Ut].createComment("");return tl(d,c,D,v),dr(D,c),Aa(v)&&(sl(d,c,v),su(d,v,c)),null!=u&&Dg(c,v),rh}function xg(){let s=kn();const o=kt();return Ru()?rd():(s=s.parent,Di(s,!1)),o.firstCreatePass&&(Fu(o,s),so(s)&&o.queries.elementEnd(s)),xg}function Rg(){return ce()}function Hf(s){return!!s&&"function"==typeof s.then}function Pg(s){return!!s&&"function"==typeof s.subscribe}const N0=Pg;function cv(s,o,u,c){const d=ce(),g=kt(),v=kn();return function kg(s,o,u,c,d,g,v){const D=Aa(c),A=s.firstCreatePass&&ab(s),N=o[Pn],O=ob(o);let z=!0;if(3&c.type||v){const Be=_r(c,o),Ye=v?v(Be):Be,ut=O.length,Pt=v?$t=>v(Qn($t[c.index])):c.index;let Ae=null;if(!v&&D&&(Ae=function Og(s,o,u,c){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===u&&d[g+1]===c){const D=o[Ca],b=d[g+2];return D.length>b?D[b]:null}"string"==typeof v&&(g+=2)}return null}(s,o,d,c.index)),null!==Ae)(Ae.__ngLastListenerFn__||Ae).__ngNextListenerFn__=g,Ae.__ngLastListenerFn__=g,z=!1;else{g=Fg(c,o,N,g,!1);const $t=u.listen(Ye,d,g);O.push(g,$t),A&&A.push(d,Pt,ut,ut+1)}}else g=Fg(c,o,N,g,!1);const J=c.outputs;let me;if(z&&null!==J&&(me=J[d])){const Be=me.length;if(Be)for(let Ye=0;Ye<Be;Ye+=2){const En=o[me[Ye]][me[Ye+1]].subscribe(g),Rn=O.length;O.push(g,En),A&&A.push(d,c.index,Rn,-(Rn+1))}}}(g,d,d[Ut],v,s,o,c),cv}function P0(s,o,u,c){try{return Sn(6,o,u),!1!==u(c)}catch(d){return lb(s,d),!1}finally{Sn(7,o,u)}}function Fg(s,o,u,c,d){return function g(v){if(v===Function)return c;Jy(s.componentOffset>-1?ur(s.index,o):o);let b=P0(o,u,c,v),A=g.__ngNextListenerFn__;for(;A;)b=P0(o,u,A,v)&&b,A=A.__ngNextListenerFn__;return d&&!1===b&&(v.preventDefault(),v.returnValue=!1),b}}function Lg(s=1){return function kl(s){return(Rt.lFrame.contextLView=function cd(s,o){for(;s>0;)o=o[xs],s--;return o}(s,Rt.lFrame.contextLView))[Pn]}(s)}function Vg(s,o){return s<<17|o<<2}function hl(s){return s>>17&32767}function Bg(s){return 2|s}function du(s){return(131068&s)>>2}function pv(s,o){return-131069&s|o<<2}function gv(s){return 1|s}function mv(s,o,u,c,d){const g=s[u+1],v=null===o;let D=c?hl(g):du(g),b=!1;for(;0!==D&&(!1===b||v);){const N=s[D+1];Lx(s[D],o)&&(b=!0,s[D+1]=c?gv(N):Bg(N)),D=c?hl(N):du(N)}b&&(s[u+1]=c?Bg(g):gv(g))}function Lx(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Fi(s,o)>=0}const Ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Cb(s){return s.substring(Ur.key,Ur.keyEnd)}function bb(s,o){const u=Ur.textEnd;return u===o?-1:(o=Ur.keyEnd=function W0(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,Ur.key=o,u),ih(s,o,u))}function ih(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function Ev(s,o,u){return Ao(s,o,u,!1),Ev}function q0(s,o){return Ao(s,o,null,!0),q0}function Sb(s){!function fa(s,o,u,c){const d=kt(),g=Zi(2);d.firstUpdatePass&&Mb(d,null,g,c);const v=ce();if(u!==Lt&&Si(v,g,u)){const D=d.data[Mr()];if(Z0(D,c)&&!Ab(d,g)){let b=c?D.classesWithoutHost:D.stylesWithoutHost;null!==b&&(u=Ce(b,u||"")),Mg(d,D,v,u,c)}else!function Gf(s,o,u,c,d,g,v,D){d===Lt&&(d=Pe);let b=0,A=0,N=0<d.length?d[0]:null,O=0<g.length?g[0]:null;for(;null!==N||null!==O;){const z=b<d.length?d[b+1]:void 0,J=A<g.length?g[A+1]:void 0;let Be,me=null;N===O?(b+=2,A+=2,z!==J&&(me=O,Be=J)):null===O||null!==N&&N<O?(b+=2,me=N):(A+=2,me=O,Be=J),null!==me&&K0(s,o,u,c,me,Be,v,D),N=b<d.length?d[b]:null,O=A<g.length?g[A]:null}}(d,D,v,v[Ut],v[g+1],v[g+1]=function zt(s,o,u){if(null==u||""===u)return Pe;const c=[],d=bo(u);if(Array.isArray(d))for(let g=0;g<d.length;g++)s(c,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&s(c,g,d[g]);else"string"==typeof d&&o(c,d);return c}(s,o,u),c,g)}}(Hg,hu,s,!0)}function hu(s,o){for(let u=function yv(s){return function vv(s){Ur.key=0,Ur.keyEnd=0,Ur.value=0,Ur.valueEnd=0,Ur.textEnd=s.length}(s),bb(s,ih(s,0,Ur.textEnd))}(o);u>=0;u=bb(o,u))Ci(s,Cb(o),!0)}function Ao(s,o,u,c){const d=ce(),g=kt(),v=Zi(2);g.firstUpdatePass&&Mb(g,s,v,c),o!==Lt&&Si(d,v,o)&&K0(g,g.data[Mr()],d,d[Ut],s,d[v+1]=function Nb(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Ne(bo(s)))),s}(o,u),c,v)}function Ab(s,o){return o>=s.expandoStartIndex}function Mb(s,o,u,c){const d=s.data;if(null===d[u+1]){const g=d[Mr()],v=Ab(s,u);Z0(g,c)&&null===o&&!v&&(o=!1),o=function jx(s,o,u,c){const d=Pu(s);let g=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(u=mc(u=tt(null,s,o,u,c),o.attrs,c),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(u=tt(d,s,o,u,c),null===g){let b=function $x(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==du(c))return s[hl(c)]}(s,o,c);void 0!==b&&Array.isArray(b)&&(b=tt(null,s,o,b[1],c),b=mc(b,o.attrs,c),function xb(s,o,u,c){s[hl(u?o.classBindings:o.styleBindings)]=c}(s,o,c,b))}else g=function Mo(s,o,u){let c;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)c=mc(c,s[g].hostAttrs,u);return mc(c,o.attrs,u)}(s,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),u}(d,g,o,c),function H0(s,o,u,c,d,g){let v=g?o.classBindings:o.styleBindings,D=hl(v),b=du(v);s[c]=u;let N,A=!1;if(Array.isArray(u)?(N=u[1],(null===N||Fi(u,N)>0)&&(A=!0)):N=u,d)if(0!==b){const z=hl(s[D+1]);s[c+1]=Vg(z,D),0!==z&&(s[z+1]=pv(s[z+1],c)),s[D+1]=function $0(s,o){return 131071&s|o<<17}(s[D+1],c)}else s[c+1]=Vg(D,0),0!==D&&(s[D+1]=pv(s[D+1],c)),D=c;else s[c+1]=Vg(b,0),0===D?D=c:s[b+1]=pv(s[b+1],c),b=c;A&&(s[c+1]=Bg(s[c+1])),mv(s,N,c,!0),mv(s,N,c,!1),function z0(s,o,u,c,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Fi(g,o)>=0&&(u[c+1]=gv(u[c+1]))}(o,N,s,c,g),v=Vg(D,b),g?o.classBindings=v:o.styleBindings=v}(d,g,o,u,v,c)}}function tt(s,o,u,c,d){let g=null;const v=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<v&&(g=o[D],c=mc(c,g.hostAttrs,d),g!==s);)D++;return null!==s&&(u.directiveStylingLast=D),c}function mc(s,o,u){const c=u?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ci(s,v,!!u||o[++g]))}return void 0===s?null:s}function Hg(s,o,u){const c=String(o);""!==c&&!c.includes(" ")&&Ci(s,c,u)}function K0(s,o,u,c,d,g,v,D){if(!(3&o.type))return;const b=s.data,A=b[D+1],N=function wb(s){return 1==(1&s)}(A)?zg(b,o,u,d,du(A),v):void 0;Gg(N)||(Gg(g)||function Ug(s){return 2==(2&s)}(A)&&(g=zg(b,null,u,d,D,v)),function ca(s,o,u,c,d){if(o)d?s.addClass(u,c):s.removeClass(u,c);else{let g=-1===c.indexOf("-")?void 0:bt.DashCase;null==d?s.removeStyle(u,c,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=bt.Important),s.setStyle(u,c,d,g))}}(c,v,co(Mr(),u),d,g))}function zg(s,o,u,c,d,g){const v=null===o;let D;for(;d>0;){const b=s[d],A=Array.isArray(b),N=A?b[1]:b,O=null===N;let z=u[d+1];z===Lt&&(z=O?Pe:void 0);let J=O?fn(z,c):N===c?z:void 0;if(A&&!Gg(J)&&(J=fn(b,c)),Gg(J)&&(D=J,v))return D;const me=s[d+1];d=v?hl(me):du(me)}if(null!==o){let b=g?o.residualClasses:o.residualStyles;null!=b&&(D=fn(b,c))}return D}function Gg(s){return void 0!==s}function Z0(s,o){return 0!=(s.flags&(o?8:16))}function di(s,o=""){const u=ce(),c=kt(),d=s+hn,g=c.firstCreatePass?kf(c,d,1,o,null):c.data[d],v=u[d]=function el(s,o){return s.createText(o)}(u[Ut],o);tl(c,u,v,g),Di(g,!1)}function Dr(s,o,u){const c=ce(),d=function th(s,o,u,c){return Si(s,cs(),u)?o+Re(u)+c:Lt}(c,s,o,u);return d!==Lt&&function ol(s,o,u){const c=co(o,s);!function pf(s,o,u){s.setValue(o,u)}(s[Ut],c,u)}(c,Mr(),d),Dr}function Zf(s,o,u){const c=ce();if(Si(c,cs(),o)){const g=kt(),v=Cn();Js(g,v,c,s,o,function ub(s,o,u){return(null===s||Yr(s))&&(u=function lo(s){for(;Array.isArray(s);){if("object"==typeof s[Sl])return s;s=s[or]}return null}(u[o.index])),u[Ut]}(Pu(g.data),v,c),u,!0)}return Zf}const fl=void 0;var lw=["en",[["a","p"],["AM","PM"],fl],[["AM","PM"],fl,fl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fl,"{1} 'at' {0}",fl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uw(s){const u=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let pu={};function Yf(s){const o=function hw(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=xv(o);if(u)return u;const c=o.split("-")[0];if(u=xv(c),u)return u;if("en"===c)return lw;throw new fe(701,!1)}function Yg(s){return Yf(s)[Nt.PluralCase]}function xv(s){return s in pu||(pu[s]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[s]),pu[s]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const yc="en-US";let ri=yc;function bc(s,o,u,c,d){if(s=Y(s),Array.isArray(s))for(let g=0;g<s.length;g++)bc(s[g],o,u,c,d);else{const g=kt(),v=ce();let D=ru(s)?s:Y(s.provide),b=Ay(s);const A=kn(),N=1048575&A.providerIndexes,O=A.directiveStart,z=A.providerIndexes>>20;if(ru(s)||!s.multi){const J=new ds(b,d,Xd),me=sm(D,o,d?N:N+z,O);-1===me?(Us($l(A,v),g,D),ga(g,s,o.length),o.push(D),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),u.push(J),v.push(J)):(u[me]=J,v[me]=J)}else{const J=sm(D,o,N+z,O),me=sm(D,o,N,N+z),Ye=me>=0&&u[me];if(d&&!Ye||!d&&!(J>=0&&u[J])){Us($l(A,v),g,D);const ut=function Yb(s,o,u,c,d){const g=new ds(s,u,Xd);return g.multi=[],g.index=o,g.componentProviders=0,Kv(g,d,c&&!u),g}(d?ph:kw,u.length,d,c,b);!d&&Ye&&(u[me].providerFactory=ut),ga(g,s,o.length,0),o.push(D),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),u.push(ut),v.push(ut)}else ga(g,s,J>-1?J:me,Kv(u[d?me:J],b,!d&&c));!d&&c&&Ye&&u[me].componentProviders++}}}function ga(s,o,u,c){const d=ru(o),g=function pg(s){return!!s.useClass}(o);if(d||g){const b=(g?Y(o.useClass):o).prototype.ngOnDestroy;if(b){const A=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const N=A.indexOf(u);-1===N?A.push(u,[c,b]):A[N+1].push(c,b)}else A.push(u,b)}}}function Kv(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function sm(s,o,u,c){for(let d=u;d<c;d++)if(o[d]===s)return d;return-1}function kw(s,o,u,c){return Zv(this.multi,[])}function ph(s,o,u,c){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=An(u,u[Qe],this.providerFactory.index,c);g=D.slice(0,v),Zv(d,g);for(let b=v;b<D.length;b++)g.push(D[b])}else g=[],Zv(d,g);return g}function Zv(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Yv(s,o=[]){return u=>{u.providersResolver=(c,d)=>function Zb(s,o,u){const c=kt();if(c.firstCreatePass){const d=Yr(s);bc(u,c.data,c.blueprint,d,!0),bc(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class gh{}class Qv{}function Fw(s,o){return new om(s,o??null)}class om extends gh{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cb(this);const c=sr(o);this._bootstrapComponents=da(c.bootstrap),this._r3Injector=By(o,u,[{provide:gh,useValue:this},{provide:qd,useValue:this.componentFactoryResolver}],Ne(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class am extends Qv{constructor(o){super(),this.moduleType=o}create(o){return new om(this.moduleType,o)}}class Vw extends gh{constructor(o,u,c){super(),this.componentFactoryResolver=new cb(this),this.instance=null;const d=new UE([...o,{provide:gh,useValue:this},{provide:qd,useValue:this.componentFactoryResolver}],u||mg(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function ap(s,o,u=null){return new Vw(s,o,u).injector}let Qb=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const c=zd(0,u.type),d=c.length>0?ap([c],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,d)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=_t({token:s,providedIn:"environment",factory:()=>new s(tn(hc))}),s})();function Uw(s){s.getStandaloneInjector=o=>o.get(Qb).getOrCreateStandaloneInjector(s)}function hm(s){return o=>{setTimeout(s,void 0,o)}}const xo=class eI extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){let d=o,g=u||(()=>null),v=c;if(o&&"object"==typeof o){const b=o;d=b.next?.bind(b),g=b.error?.bind(b),v=b.complete?.bind(b)}this.__isAsync&&(g=hm(g),d&&(d=hm(d)),v&&(v=hm(v)));const D=super.subscribe({next:d,error:g,complete:v});return o instanceof U.w0&&o.add(D),D}};function fm(){return this._results[Symbol.iterator]()}class ji{get changes(){return this._changes||(this._changes=new xo)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ji.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=fm)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const d=function ci(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Zl(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],g=o[c];if(u&&(d=u(d),g=u(g)),g!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Eh=(()=>{class s{}return s.__NG_ELEMENT_ID__=rT,s})();const tI=Eh,wh=class extends tI{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o,u){const c=this._declarationTContainer.tView,d=Ig(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,u||null);d[no]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[wi];return null!==v&&(d[wi]=v.createEmbeddedView(c)),et(c,d,o),new Tg(d)}};function rT(){return es(kn(),ce())}function es(s,o){return 4&s.type?new wh(o,s,iu(s,o)):null}let Ih=(()=>{class s{}return s.__NG_ELEMENT_ID__=_n,s})();function _n(){return mm(kn(),ce())}const iT=Ih,pm=class extends iT{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return iu(this._hostTNode,this._hostLView)}get injector(){return new na(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ln(this._hostTNode,this._hostLView);if(po(o)){const u=Ba(o,this._hostLView),c=ea(o);return new na(u[Qe].data[c+8],u)}return new na(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=No(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-vr}createEmbeddedView(o,u,c){let d,g;"number"==typeof c?d=c:null!=c&&(d=c.index,g=c.injector);const v=o.createEmbeddedView(u||{},g);return this.insert(v,d),v}createComponent(o,u,c,d,g){const v=o&&!function Wu(s){return"function"==typeof s}(o);let D;if(v)D=u;else{const O=u||{};D=O.index,c=O.injector,d=O.projectableNodes,g=O.environmentInjector||O.ngModuleRef}const b=v?o:new Sg(yt(o)),A=c||this.parentInjector;if(!g&&null==b.ngModule){const z=(v?A:this.parentInjector).get(hc,null);z&&(g=z)}const N=b.create(A,d,void 0,g);return this.insert(N.hostView,D),N}insert(o,u){const c=o._lView,d=c[Qe];if(function Xc(s){return ki(s[Dn])}(c)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const O=c[Dn],z=new pm(O,O[ar],O[Dn]);z.detach(z.indexOf(o))}}const g=this._adjustIndex(u),v=this._lContainer;!function p(s,o,u,c){const d=vr+c,g=u.length;c>0&&(u[d-1][on]=o),c<g-vr?(o[on]=u[d],Yl(u,vr+c,o)):(u.push(o),o[on]=null),o[Dn]=u;const v=o[no];null!==v&&u!==v&&function m(s,o){const u=s[io];o[Yn]!==o[Dn][Dn][Yn]&&(s[Sa]=!0),null===u?s[io]=[o]:u.push(o)}(v,o);const D=o[wi];null!==D&&D.insertView(s),o[Ht]|=64}(d,c,v,g);const D=la(g,v),b=c[Ut],A=vs(b,v[Ho]);return null!==A&&function ly(s,o,u,c,d,g){c[or]=d,c[ar]=o,_f(s,c,u,1,d,g)}(d,v[ar],b,c,A,D),o.attachToViewContainerRef(),Yl(gm(v),g,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=No(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=M(this._lContainer,u);c&&(za(gm(this._lContainer),u),R(c[Qe],c))}detach(o){const u=this._adjustIndex(o,-1),c=M(this._lContainer,u);return c&&null!=za(gm(this._lContainer),u)?new Tg(c):null}_adjustIndex(o,u=0){return o??this.length+u}};function No(s){return s[Ns]}function gm(s){return s[Ns]||(s[Ns]=[])}function mm(s,o){let u;const c=o[s.index];if(ki(c))u=c;else{let d;if(8&s.type)d=Qn(c);else{const g=o[Ut];d=g.createComment("");const v=_r(s,o);Bt(g,vs(g,v),d,function yf(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=u=sb(c,o,d,s),Qy(o,u)}return new pm(u,s,o)}class pl{constructor(o){this.queryList=o,this.matches=null}clone(){return new pl(this.queryList)}setDirty(){this.queryList.setDirty()}}class pp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let g=0;g<c;g++){const v=u.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new pp(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==yp(o,u).matches&&this.queries[u].setDirty()}}class i_{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class Ro{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,g=this.getByIndex(c).embeddedTView(o,d);g&&(g.indexInDeclarationView=c,null!==u?u.push(g):u=[g])}return null!==u?new Ro(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ts{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new ts(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const g=c[d];this.matchTNodeWithReadOption(o,u,pi(u,g)),this.matchTNodeWithReadOption(o,u,ta(u,o,g,!1,!1))}else c===Eh?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,ta(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Kd||d===Ih||d===Eh&&4&u.type)this.addMatch(u.index,-2);else{const g=ta(u,o,d,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function pi(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function vm(s,o,u,c){return-1===u?function ym(s,o){return 11&s.type?iu(s,o):4&s.type?es(s,o):null}(o,s):-2===u?function gp(s,o,u){return u===Kd?iu(o,s):u===Eh?es(o,s):u===Ih?mm(o,s):void 0}(s,o,c):An(s,s[Qe],u,o)}function mp(s,o,u,c){const d=o[wi].queries[c];if(null===d.matches){const g=s.data,v=u.matches,D=[];for(let b=0;b<v.length;b+=2){const A=v[b];D.push(A<0?null:vm(o,g[A],v[b+1],u.metadata.read))}d.matches=D}return d.matches}function _m(s,o,u,c){const d=s.queries.getByIndex(u),g=d.matches;if(null!==g){const v=mp(s,o,d,u);for(let D=0;D<g.length;D+=2){const b=g[D];if(b>0)c.push(v[D/2]);else{const A=g[D+1],N=o[-b];for(let O=vr;O<N.length;O++){const z=N[O];z[no]===z[Dn]&&_m(z[Qe],z,A,c)}if(null!==N[io]){const O=N[io];for(let z=0;z<O.length;z++){const J=O[z];_m(J[Qe],J,A,c)}}}}}return c}function Sc(s){const o=ce(),u=kt(),c=ka();ad(c+1);const d=yp(u,c);if(s.dirty&&function Ra(s){return 4==(4&s[Ht])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?_m(u,o,c,[]):mp(u,o,d,c);s.reset(g,Af),s.notifyOnChanges()}return!0}return!1}function nI(s,o,u,c){const d=kt();if(d.firstCreatePass){const g=kn();(function s_(s,o,u){null===s.queries&&(s.queries=new Ro),s.queries.track(new ts(o,u))})(d,new i_(o,u,c),g.index),function aT(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}!function rI(s,o,u){const c=new ji(4==(4&u));p0(s,o,c,c.destroy),null===o[wi]&&(o[wi]=new pp),o[wi].queries.push(new pl(c))}(d,ce(),u)}function Em(){return function oT(s,o){return s[wi].queries[o].queryList}(ce(),ka())}function yp(s,o){return s.queries.getByIndex(o)}function sI(s){return!!sr(s)}function Oo(...s){}const ml=new Xt("Application Initializer");let Ip=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Oo,this.reject=Oo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(Hf(g))u.push(g);else if(N0(g)){const v=new Promise((D,b)=>{g.subscribe({complete:D,error:b})});u.push(v)}}Promise.all(u).then(()=>{c()}).catch(d=>{this.reject(d)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(tn(ml,8))},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Cm=new Xt("AppId",{providedIn:"root",factory:function fI(){return`${Hi()}${Hi()}${Hi()}`}});function Hi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bh=new Xt("Platform Initializer"),Dp=new Xt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Mi=new Xt("AnimationModuleType");let mT=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const ws=new Xt("LocaleId",{providedIn:"root",factory:()=>Bn(ws,ht.Optional|ht.SkipSelf)||function pI(){return typeof $localize<"u"&&$localize.locale||yc}()}),gI=new Xt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vT{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let _T=(()=>{class s{compileModuleSync(u){return new am(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),g=da(sr(u).declarations).reduce((v,D)=>{const b=yt(D);return b&&v.push(new Sg(b)),v},[]);return new vT(c,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const IT=(()=>Promise.resolve(0))();function p_(s){typeof Zone>"u"?IT.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class to{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xo(!1),this.onMicrotaskEmpty=new xo(!1),this.onStable=new xo(!1),this.onError=new xo(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function DT(){let s=ln.requestAnimationFrame,o=ln.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function EI(s){const o=()=>{!function _I(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ln,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,m_(s),s.isCheckStableRunning=!0,g_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),m_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,g,v,D)=>{try{return bm(s),u.invokeTask(d,g,v,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Br(s)}},onInvoke:(u,c,d,g,v,D,b)=>{try{return bm(s),u.invoke(d,g,v,D,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),Br(s)}},onHasTask:(u,c,d,g)=>{u.hasTask(d,g),c===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,m_(s),g_(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,c,d,g)=>(u.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!to.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(to.isInAngularZone())throw new fe(909,!1)}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,vI,Oo,Oo);try{return g.runTask(v,u,c)}finally{g.cancelTask(v)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const vI={};function g_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function m_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function bm(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Br(s){s._nesting--,g_(s)}class wI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xo,this.onMicrotaskEmpty=new xo,this.onStable=new xo,this.onError=new xo}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,d){return o.apply(u,c)}}const vu=new Xt(""),y_=new Xt("");let Nn,On=(()=>{class s{constructor(u,c,d){this._ngZone=u,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Nn||(function gi(s){Nn=s}(d),d.addToWindow(c)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{to.assertNotInAngularZone(),p_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())p_(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,d){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:d})}whenStable(u,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,c,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(tn(to),tn(Cp),tn(y_))},s.\u0275prov=_t({token:s,factory:s.\u0275fac}),s})(),Cp=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return Nn?.findTestabilityInTree(this,u,c)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const ya=!1;let Is=null;const zi=new Xt("AllowMultipleToken"),Tm=new Xt("PlatformDestroyListeners"),CT=new Xt("appBootstrapListener");class gr{constructor(o,u){this.name=o,this.token=u}}function II(s,o,u=[]){const c=`Platform: ${o}`,d=new Xt(c);return(g=[])=>{let v=va();if(!v||v.injector.get(zi,!1)){const D=[...u,...g,{provide:d,useValue:!0}];s?s(D):function _u(s){if(Is&&!Is.get(zi,!1))throw new fe(400,!1);Is=s;const o=s.get(Fo);(function bp(s){const o=s.get(bh,null);o&&o.forEach(u=>u())})(s)}(function Eu(s=[],o){return Yd.create({name:o,providers:[{provide:il,useValue:"platform"},{provide:Tm,useValue:new Set([()=>Is=null])},...s]})}(D,c))}return function Nc(s){const o=va();if(!o)throw new fe(401,!1);return o}()}}function va(){return Is?.get(Fo)??null}let Fo=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const d=function wu(s,o){let u;return u="noop"===s?new wI:("zone.js"===s?void 0:s)||new to(o),u}(c?.ngZone,function Th(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),g=[{provide:to,useValue:d}];return d.run(()=>{const v=Yd.create({providers:g,parent:this.injector,name:u.moduleType.name}),D=u.create(v),b=D.injector.get(Mf,null);if(!b)throw new fe(402,!1);return d.runOutsideAngular(()=>{const A=d.onError.subscribe({next:N=>{b.handleError(N)}});D.onDestroy(()=>{Pc(this._modules,D),A.unsubscribe()})}),function __(s,o,u){try{const c=u();return Hf(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(b,d,()=>{const A=D.injector.get(Ip);return A.runInitializers(),A.donePromise.then(()=>(function Qf(s){ke(s,"Expected localeId to be defined"),"string"==typeof s&&(ri=s.toLowerCase().replace(/_/g,"-"))}(D.injector.get(ws,yc)||yc),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,c=[]){const d=Rc({},c);return function jr(s,o,u){const c=new am(u);return Promise.resolve(c)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(u){const c=u.injector.get(Sh);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new fe(-403,!1);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(Tm,null);u&&(u.forEach(c=>c()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(tn(Yd))},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Rc(s,o){return Array.isArray(o)?o.reduce(Rc,s):{...s,...o}}let Sh=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,c,d){this._zone=u,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new Z.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new Z.y(D=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{to.assertNotInAngularZone(),p_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{to.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{b.unsubscribe(),A.unsubscribe()}});this.isStable=(0,oe.T)(g,v.pipe((0,de.B)()))}bootstrap(u,c){const d=u instanceof jE;if(!this._injector.get(Ip).done){!d&&Sr(u);throw new fe(405,ya)}let v;v=d?u:this._injector.get(qd).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const D=function yl(s){return s.isBoundToModule}(v)?void 0:this._injector.get(gh),A=v.create(Yd.NULL,[],c||v.selector,D),N=A.location.nativeElement,O=A.injector.get(vu,null);return O?.registerApplication(N),A.onDestroy(()=>{this.detachView(A.hostView),Pc(this.components,A),O?.unregisterApplication(N)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;Pc(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const c=this._injector.get(CT,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Pc(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new fe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(tn(to),tn(hc),tn(Mf))},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Pc(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}function Tp(){return!1}let DI=(()=>{class s{}return s.__NG_ELEMENT_ID__=ST,s})();function ST(s){return function AT(s,o,u){if(Tu(s)&&!u){const c=ur(s.index,o);return new Tg(c,c)}return 47&s.type?new Tg(o[Yn],o):null}(kn(),ce(),16==(16&s))}class TI{constructor(){}supports(o){return Lf(o)}create(o){return new SI(o)}}const kT=(s,o)=>o;class SI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||kT}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,d=0,g=null;for(;u||c;){const v=!c||u&&u.currentIndex<xI(c,d,g)?u:c,D=xI(v,d,g),b=v.currentIndex;if(v===c)d--,c=c._nextRemoved;else if(u=u._next,null==v.previousIndex)d++;else{g||(g=[]);const A=D-d,N=b-d;if(A!=N){for(let z=0;z<A;z++){const J=z<g.length?g[z]:g[z]=0,me=J+z;N<=me&&me<A&&(g[z]=J+1)}g[v.previousIndex]=N-A}}D!==b&&o(v,D,b)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Lf(o))throw new fe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)g=o[D],v=this._trackByFn(D,g),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,g,v,D)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,D),c=!0),u=u._next}else d=0,function hr(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Symbol.iterator]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,D=>{v=this._trackByFn(d,D),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,D,v,d)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,v,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,g,d)):o=this._addAfter(new FT(u,c),g,d),o}_verifyReinsertion(o,u,c,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new MI),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new MI),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class FT{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class MI{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new AI,this.map.set(u,c)),c.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xI(s,o,u){const c=s.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+o+d}class NI{constructor(){}supports(o){return o instanceof Map||nv(o)}create(){return new D_}}class D_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||nv(o)))throw new fe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const c=new Oc(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class Oc{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Nh(){return new Rh([new TI])}let Rh=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||Nh()),deps:[[s,new Mt,new Eo]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(null!=c)return c;throw new fe(901,!1)}}return s.\u0275prov=_t({token:s,providedIn:"root",factory:Nh}),s})();function b_(){return new xm([new NI])}let xm=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||b_()),deps:[[s,new Mt,new Eo]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(c)return c;throw new fe(901,!1)}}return s.\u0275prov=_t({token:s,providedIn:"root",factory:b_}),s})();const T_=II(null,"core",[]);let Nm=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(tn(Sh))},s.\u0275mod=ee({type:s}),s.\u0275inj=un({}),s})();function S_(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(Ct,Me,k)=>{k.d(Me,{Z:()=>qe});var h=k(2090),U=k(4859),Z=k(6881),oe=k(1877);class de{constructor(fe,we){this._delegate=fe,this.firebase=we,(0,Z._addComponent)(fe,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Z.deleteApp)(this._delegate)))}_getService(fe,we=Z._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(fe);return!Ue.isInitialized()&&"EXPLICIT"===(null===(Re=Ue.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:we})}_removeServiceInstance(fe,we=Z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(we)}_addComponent(fe){(0,Z._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,Z._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Le=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function Ce(){const st=function Ne(st){const fe={},we={__esModule:!0,initializeApp:function ve(Oe,re={}){const nt=Z.initializeApp(Oe,re);if((0,h.r3)(fe,nt.name))return fe[nt.name];const Tt=new st(nt,we);return fe[nt.name]=Tt,Tt},app:Ue,registerVersion:Z.registerVersion,setLogLevel:Z.setLogLevel,onLog:Z.onLog,apps:null,SDK_VERSION:Z.SDK_VERSION,INTERNAL:{registerComponent:function be(Oe){const re=Oe.name,nt=re.replace("-compat","");if(Z._registerComponent(Oe)&&"PUBLIC"===Oe.type){const Tt=(ot=Ue())=>{if("function"!=typeof ot[nt])throw Le.create("invalid-app-argument",{appName:re});return ot[nt]()};void 0!==Oe.serviceProps&&(0,h.ZB)(Tt,Oe.serviceProps),we[nt]=Tt,st.prototype[nt]=function(...ot){return this._getService.bind(this,re).apply(this,Oe.multipleInstances?ot:[])}}return"PUBLIC"===Oe.type?we[nt]:null},removeApp:function Re(Oe){delete fe[Oe]},useAsService:function je(Oe,re){return"serverAuth"===re?null:re},modularAPIs:Z}};function Ue(Oe){if(!(0,h.r3)(fe,Oe=Oe||Z._DEFAULT_ENTRY_NAME))throw Le.create("no-app",{appName:Oe});return fe[Oe]}return we.default=we,Object.defineProperty(we,"apps",{get:function ye(){return Object.keys(fe).map(Oe=>fe[Oe])}}),Ue.App=st,we}(de);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function fe(we){(0,h.ZB)(st,we)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),st}(),$=new oe.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=H;!function Ee(st){(0,Z.registerVersion)("@firebase/app-compat","0.2.10",st)}()},6881:(Ct,Me,k)=>{k.r(Me),k.d(Me,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Ts,_DEFAULT_ENTRY_NAME:()=>Wr,_addComponent:()=>ft,_addOrOverwriteComponent:()=>Ft,_apps:()=>ln,_clearComponents:()=>yi,_components:()=>Wt,_getProvider:()=>qr,_registerComponent:()=>mi,_removeServiceInstance:()=>Vn,deleteApp:()=>Pr,getApp:()=>vi,getApps:()=>tn,initializeApp:()=>Jt,onLog:()=>Zn,registerVersion:()=>Kr,setLogLevel:()=>Oi});var h=k(5861),U=k(4859),Z=k(1877),oe=k(2090);const de=(le,ee)=>ee.some(xe=>le instanceof xe);let ae,Le;const H=new WeakMap,$=new WeakMap,Y=new WeakMap,$e=new WeakMap,Ee=new WeakMap;let fe={get(le,ee,xe){if(le instanceof IDBTransaction){if("done"===ee)return $.get(le);if("objectStoreNames"===ee)return le.objectStoreNames||Y.get(le);if("store"===ee)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return ve(le[ee])},set:(le,ee,xe)=>(le[ee]=xe,!0),has:(le,ee)=>le instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in le};function Ue(le){return"function"==typeof le?function Re(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return Le||(Le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...ee){return le.apply(ye(this),ee),ve(H.get(this))}:function(...ee){return ve(le.apply(ye(this),ee))}:function(ee,...xe){const pt=le.call(ye(this),ee,...xe);return Y.set(pt,ee.sort?ee.sort():[ee]),ve(pt)}}(le):(le instanceof IDBTransaction&&function st(le){if($.has(le))return;const ee=new Promise((xe,pt)=>{const At=()=>{le.removeEventListener("complete",Gt),le.removeEventListener("error",yt),le.removeEventListener("abort",yt)},Gt=()=>{xe(),At()},yt=()=>{pt(le.error||new DOMException("AbortError","AbortError")),At()};le.addEventListener("complete",Gt),le.addEventListener("error",yt),le.addEventListener("abort",yt)});$.set(le,ee)}(le),de(le,function Ne(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,fe):le)}function ve(le){if(le instanceof IDBRequest)return function qe(le){const ee=new Promise((xe,pt)=>{const At=()=>{le.removeEventListener("success",Gt),le.removeEventListener("error",yt)},Gt=()=>{xe(ve(le.result)),At()},yt=()=>{pt(le.error),At()};le.addEventListener("success",Gt),le.addEventListener("error",yt)});return ee.then(xe=>{xe instanceof IDBCursor&&H.set(xe,le)}).catch(()=>{}),Ee.set(ee,le),ee}(le);if($e.has(le))return $e.get(le);const ee=Ue(le);return ee!==le&&($e.set(le,ee),Ee.set(ee,le)),ee}const ye=le=>Ee.get(le),Oe=["get","getKey","getAll","getAllKeys","count"],re=["put","add","delete","clear"],nt=new Map;function Tt(le,ee){if(!(le instanceof IDBDatabase)||ee in le||"string"!=typeof ee)return;if(nt.get(ee))return nt.get(ee);const xe=ee.replace(/FromIndex$/,""),pt=ee!==xe,At=re.includes(xe);if(!(xe in(pt?IDBIndex:IDBObjectStore).prototype)||!At&&!Oe.includes(xe))return;const Gt=function(){var yt=(0,h.Z)(function*(sn,...Qt){const Sr=this.transaction(sn,At?"readwrite":"readonly");let sr=Sr.store;return pt&&(sr=sr.index(Qt.shift())),(yield Promise.all([sr[xe](...Qt),At&&Sr.done]))[0]});return function(Qt){return yt.apply(this,arguments)}}();return nt.set(ee,Gt),Gt}!function we(le){fe=le(fe)}(le=>({...le,get:(ee,xe,pt)=>Tt(ee,xe)||le.get(ee,xe,pt),has:(ee,xe)=>!!Tt(ee,xe)||le.has(ee,xe)}));class ot{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(xe=>{if(function Zt(le){return"VERSION"===le.getComponent()?.type}(xe)){const pt=xe.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(xe=>xe).join(" ")}}const ct="@firebase/app",ue=new Z.Yd("@firebase/app"),Wr="[DEFAULT]",Pi={[ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ln=new Map,Wt=new Map;function ft(le,ee){try{le.container.addComponent(ee)}catch(xe){ue.debug(`Component ${ee.name} failed to register with FirebaseApp ${le.name}`,xe)}}function Ft(le,ee){le.container.addOrOverwriteComponent(ee)}function mi(le){const ee=le.name;if(Wt.has(ee))return ue.debug(`There were multiple attempts to register component ${ee}.`),!1;Wt.set(ee,le);for(const xe of ln.values())ft(xe,le);return!0}function qr(le,ee){const xe=le.container.getProvider("heartbeat").getImmediate({optional:!0});return xe&&xe.triggerHeartbeat(),le.container.getProvider(ee)}function Vn(le,ee,xe=Wr){qr(le,ee).clearInstance(xe)}function yi(){Wt.clear()}const Rr=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yn{constructor(ee,xe,pt){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},xe),this._name=xe.name,this._automaticDataCollectionEnabled=xe.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const Ts="9.22.0";function Jt(le,ee={}){let xe=le;"object"!=typeof ee&&(ee={name:ee});const pt=Object.assign({name:Wr,automaticDataCollectionEnabled:!1},ee),At=pt.name;if("string"!=typeof At||!At)throw Rr.create("bad-app-name",{appName:String(At)});if(xe||(xe=(0,oe.aH)()),!xe)throw Rr.create("no-options");const Gt=ln.get(At);if(Gt){if((0,oe.vZ)(xe,Gt.options)&&(0,oe.vZ)(pt,Gt.config))return Gt;throw Rr.create("duplicate-app",{appName:At})}const yt=new U.H0(At);for(const Qt of Wt.values())yt.addComponent(Qt);const sn=new yn(xe,pt,yt);return ln.set(At,sn),sn}function vi(le=Wr){const ee=ln.get(le);if(!ee&&le===Wr&&(0,oe.aH)())return Jt();if(!ee)throw Rr.create("no-app",{appName:le});return ee}function tn(){return Array.from(ln.values())}function Pr(le){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,h.Z)(function*(le){const ee=le.name;ln.has(ee)&&(ln.delete(ee),yield Promise.all(le.container.getProviders().map(xe=>xe.delete())),le.isDeleted=!0)})).apply(this,arguments)}function Kr(le,ee,xe){var pt;let At=null!==(pt=Pi[le])&&void 0!==pt?pt:le;xe&&(At+=`-${xe}`);const Gt=At.match(/\s|\//),yt=ee.match(/\s|\//);if(Gt||yt){const sn=[`Unable to register library "${At}" with version "${ee}":`];return Gt&&sn.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Gt&&yt&&sn.push("and"),yt&&sn.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void ue.warn(sn.join(" "))}mi(new U.wA(`${At}-version`,()=>({library:At,version:ee}),"VERSION"))}function Zn(le,ee){if(null!==le&&"function"!=typeof le)throw Rr.create("invalid-log-argument");(0,Z.Am)(le,ee)}function Oi(le){(0,Z.Ub)(le)}const Zr="firebase-heartbeat-database",li=1,B="firebase-heartbeat-store";let L=null;function G(){return L||(L=function be(le,ee,{blocked:xe,upgrade:pt,blocking:At,terminated:Gt}={}){const yt=indexedDB.open(le,ee),sn=ve(yt);return pt&&yt.addEventListener("upgradeneeded",Qt=>{pt(ve(yt.result),Qt.oldVersion,Qt.newVersion,ve(yt.transaction),Qt)}),xe&&yt.addEventListener("blocked",Qt=>xe(Qt.oldVersion,Qt.newVersion,Qt)),sn.then(Qt=>{Gt&&Qt.addEventListener("close",()=>Gt()),At&&Qt.addEventListener("versionchange",Sr=>At(Sr.oldVersion,Sr.newVersion,Sr))}).catch(()=>{}),sn}(Zr,li,{upgrade:(le,ee)=>{0===ee&&le.createObjectStore(B)}}).catch(le=>{throw Rr.create("idb-open",{originalErrorMessage:le.message})})),L}function X(){return(X=(0,h.Z)(function*(le){try{return yield(yield G()).transaction(B).objectStore(B).get(rn(le))}catch(ee){if(ee instanceof oe.ZR)ue.warn(ee.message);else{const xe=Rr.create("idb-get",{originalErrorMessage:ee?.message});ue.warn(xe.message)}}})).apply(this,arguments)}function Pe(le,ee){return St.apply(this,arguments)}function St(){return(St=(0,h.Z)(function*(le,ee){try{const pt=(yield G()).transaction(B,"readwrite");yield pt.objectStore(B).put(ee,rn(le)),yield pt.done}catch(xe){if(xe instanceof oe.ZR)ue.warn(xe.message);else{const pt=Rr.create("idb-set",{originalErrorMessage:xe?.message});ue.warn(pt.message)}}})).apply(this,arguments)}function rn(le){return`${le.name}!${le.options.appId}`}class In{constructor(ee){this.container=ee,this._heartbeatsCache=null;const xe=this.container.getProvider("app").getImmediate();this._storage=new _i(xe),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var ee=this;return(0,h.Z)(function*(){const pt=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=Yt();if(null===ee._heartbeatsCache&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise),ee._heartbeatsCache.lastSentHeartbeatDate!==At&&!ee._heartbeatsCache.heartbeats.some(Gt=>Gt.date===At))return ee._heartbeatsCache.heartbeats.push({date:At,agent:pt}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(Gt=>{const yt=new Date(Gt.date).valueOf();return Date.now()-yt<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,h.Z)(function*(){if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null===ee._heartbeatsCache||0===ee._heartbeatsCache.heartbeats.length)return"";const xe=Yt(),{heartbeatsToSend:pt,unsentEntries:At}=function Or(le,ee=1024){const xe=[];let pt=le.slice();for(const At of le){const Gt=xe.find(yt=>yt.agent===At.agent);if(Gt){if(Gt.dates.push(At.date),as(xe)>ee){Gt.dates.pop();break}}else if(xe.push({agent:At.agent,dates:[At.date]}),as(xe)>ee){xe.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:xe,unsentEntries:pt}}(ee._heartbeatsCache.heartbeats),Gt=(0,oe.L)(JSON.stringify({version:2,heartbeats:pt}));return ee._heartbeatsCache.lastSentHeartbeatDate=xe,At.length>0?(ee._heartbeatsCache.heartbeats=At,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),Gt})()}}function Yt(){return(new Date).toISOString().substring(0,10)}class _i{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,h.Z)(function*(){return(yield ee._canUseIndexedDBPromise)&&(yield function ge(le){return X.apply(this,arguments)}(ee.app))||{heartbeats:[]}})()}overwrite(ee){var xe=this;return(0,h.Z)(function*(){var pt;if(yield xe._canUseIndexedDBPromise){const Gt=yield xe.read();return Pe(xe.app,{lastSentHeartbeatDate:null!==(pt=ee.lastSentHeartbeatDate)&&void 0!==pt?pt:Gt.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var xe=this;return(0,h.Z)(function*(){var pt;if(yield xe._canUseIndexedDBPromise){const Gt=yield xe.read();return Pe(xe.app,{lastSentHeartbeatDate:null!==(pt=ee.lastSentHeartbeatDate)&&void 0!==pt?pt:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...ee.heartbeats]})}})()}}function as(le){return(0,oe.L)(JSON.stringify({version:2,heartbeats:le})).length}!function jo(le){mi(new U.wA("platform-logger",ee=>new ot(ee),"PRIVATE")),mi(new U.wA("heartbeat",ee=>new In(ee),"PRIVATE")),Kr(ct,"0.9.10",le),Kr(ct,"0.9.10","esm2017"),Kr("fire-js","")}("")},4859:(Ct,Me,k)=>{k.d(Me,{H0:()=>Ne,wA:()=>Z});var h=k(5861),U=k(2090);class Z{constructor(H,$,Y){this.name=H,this.instanceFactory=$,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const oe="[DEFAULT]";class de{constructor(H,$){this.name=H,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const $=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has($)){const Y=new U.BH;if(this.instancesDeferred.set($,Y),this.isInitialized($)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:$});$e&&Y.resolve($e)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(H){var $;const Y=this.normalizeInstanceIdentifier(H?.identifier),$e=null!==($=H?.optional)&&void 0!==$&&$;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Ee){if($e)return null;throw Ee}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function Le(Ce){return"EAGER"===Ce.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[$,Y]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier($);try{const Ee=this.getOrInitializeService({instanceIdentifier:$e});Y.resolve(Ee)}catch{}}}}clearInstance(H=oe){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,h.Z)(function*(){const $=Array.from(H.instances.values());yield Promise.all([...$.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...$.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=oe){return this.instances.has(H)}getOptions(H=oe){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:$={}}=H,Y=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:Y,options:$});for(const[Ee,qe]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Ee)&&qe.resolve($e);return $e}onInit(H,$){var Y;const $e=this.normalizeInstanceIdentifier($),Ee=null!==(Y=this.onInitCallbacks.get($e))&&void 0!==Y?Y:new Set;Ee.add(H),this.onInitCallbacks.set($e,Ee);const qe=this.instances.get($e);return qe&&H(qe,$e),()=>{Ee.delete(H)}}invokeOnInitCallbacks(H,$){const Y=this.onInitCallbacks.get($);if(Y)for(const $e of Y)try{$e(H,$)}catch{}}getOrInitializeService({instanceIdentifier:H,options:$={}}){let Y=this.instances.get(H);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=H,Ce===oe?void 0:Ce),options:$}),this.instances.set(H,Y),this.instancesOptions.set(H,$),this.invokeOnInitCallbacks(Y,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Y)}catch{}var Ce;return Y||null}normalizeInstanceIdentifier(H=oe){return this.component?this.component.multipleInstances?H:oe:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const $=this.getProvider(H.name);if($.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);$.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const $=new de(H,this);return this.providers.set(H,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(Ct,Me,k)=>{k.d(Me,{Am:()=>Ce,Ub:()=>Ne,Yd:()=>Le,in:()=>U});const h=[];var U=(()=>{return(H=U||(U={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",U;var H})();const Z={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},oe=U.INFO,de={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},ae=(H,$,...Y)=>{if($<H.logLevel)return;const $e=(new Date).toISOString(),Ee=de[$];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ee](`[${$e}]  ${H.name}:`,...Y)};class Le{constructor($){this.name=$,this._logLevel=oe,this._logHandler=ae,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in U))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?Z[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...$),this._logHandler(this,U.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...$),this._logHandler(this,U.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,U.INFO,...$),this._logHandler(this,U.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,U.WARN,...$),this._logHandler(this,U.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...$),this._logHandler(this,U.ERROR,...$)}}function Ne(H){h.forEach($=>{$.setLogLevel(H)})}function Ce(H,$){for(const Y of h){let $e=null;$&&$.level&&($e=Z[$.level]),Y.userLogHandler=null===H?null:(Ee,qe,...st)=>{const fe=st.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch{return null}}).filter(we=>we).join(" ");qe>=($e??Ee.logLevel)&&H({level:U[qe].toLowerCase(),message:fe,args:st,type:Ee.name})}}}},259:(Ct,Me,k)=>{k.d(Me,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=k(6881);(0,h.registerVersion)("firebase","9.22.0","app")},9260:(Ct,Me,k)=>{k.d(Me,{Z:()=>h.Z});var h=k(3942);h.Z.registerVersion("firebase","9.22.0","app-compat")},5861:(Ct,Me,k)=>{function h(Z,oe,de,ae,Le,Ne,Ce){try{var H=Z[Ne](Ce),$=H.value}catch(Y){return void de(Y)}H.done?oe($):Promise.resolve($).then(ae,Le)}function U(Z){return function(){var oe=this,de=arguments;return new Promise(function(ae,Le){var Ne=Z.apply(oe,de);function Ce($){h(Ne,ae,Le,Ce,H,"next",$)}function H($){h(Ne,ae,Le,Ce,H,"throw",$)}Ce(void 0)})}}k.d(Me,{Z:()=>U})}},Ct=>{Ct(Ct.s=6235)}]);